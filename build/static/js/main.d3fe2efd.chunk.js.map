{"version":3,"sources":["core/config/pluginFilters.js","version/config/pluginFilters.js","core/token.js","core/pages/PatientsList/dummyPatients.js","core/dataProviders/patientsProvider.js","core/dataProviders/functions.js","core/actions/functions.js","core/actions/httpErrorAction.js","core/dataProviders/dataProvider.js","core/dataProviders/authProvider.js","core/actions/columnsTogglingAction.js","core/actions/userSearchAction.js","core/common/Breadcrumbs.js","version/actions/contrastModeAction.js","version/features/ContrastMode/index.js","core/common/Buttons/CustomLogoutButton.js","version/common/Topbar/fragments/UserPanelButton.js","version/common/Topbar/fragments/TopPart.js","core/common/Topbar/fragments/PatientBanner.js","version/common/Topbar/fragments/MobileMenu.js","core/actions/demographicsAction.js","version/common/Topbar/fragments/LowPart.js","version/common/Topbar/index.js","core/actions/synopsisActions.js","version/actions/synopsisActions.js","version/config/nonCoreSynopsis.js","core/actions/emergencySummaryAction.js","core/actions/currentPatientAction.js","core/common/DashboardCard/ItemsList.js","core/pages/PatientSummary/config.js","core/common/DashboardCard/index.js","core/pages/PatientSummary/views/PatientSummaryTable.js","core/pages/PatientSummary/fragments/PieChartBlock.js","core/pages/PatientSummary/fragments/HorizontalBarChart.js","core/pages/PatientSummary/fragments/PhotoAndVitals.js","core/common/DashboardCard/DummyItemsList.js","core/common/DashboardCard/DashboardCardRoll.js","core/pages/PatientSummary/fragments/PatientSummaryPanels.js","core/pages/PatientSummary/fragments/LabResults.js","core/pages/PatientSummary/fragments/DummyVitalsChart.js","core/pages/PatientSummary/fragments/EventsTimeline.js","core/pages/PatientSummary/views/PatientSummaryRoll.js","core/actions/showModeAction.js","core/actions/showHeadingsAction.js","core/pages/PatientSummary/DialogWithStyles.js","core/pages/PatientSummary/SettingsDialog.js","core/pages/PatientSummary/functions.js","core/pages/PatientSummary/index.js","version/config/theme.config.js","core/common/TableHeader.js","core/common/CustomIcon.js","core/common/ResourseTemplates/DetailsTemplate.js","core/common/ResourseTemplates/fragments/constants.js","core/common/ResourseTemplates/EmptyListBlock.js","core/config/styles.js","core/common/Buttons/CreateButton.js","core/common/Buttons/CustomPaginator.js","core/common/Toolbars/ListToolbar.js","core/common/ResourseTemplates/fragments/TableContent.js","core/common/ResourseTemplates/fragments/ChartContent.js","core/common/ResourseTemplates/fragments/TimelineContent.js","core/common/ResourseTemplates/popovers/ListModePopover.js","core/common/ResourseTemplates/popovers/ColumnsTogglePopover.js","core/common/ResourseTemplates/icons/ColumnsTogglingIcon.js","core/common/ResourseTemplates/ListTemplate.js","core/common/Buttons/CustomSaveButton.js","core/common/Toolbars/CreateFormToolbar.js","core/common/ResourseTemplates/CreateTemplate.js","core/config/formStyles.js","core/plugins/Allergies/fragments/Inputs.js","core/common/Buttons/CancelButton.js","core/common/Toolbars/EditFormToolbar.js","core/common/ResourseTemplates/EditTemplate.js","core/common/Buttons/EditButton.js","core/common/ResourseTemplates/ShowTemplate.js","core/common/ResourseTemplates/fragments/CustomDatagridRow.js","core/plugins/Allergies/AllergiesShow.js","core/plugins/Contacts/fragments/selects.js","core/plugins/Medications/fragments/selects.js","core/plugins/Contacts/fragments/Inputs.js","core/plugins/Contacts/ContactsShow.js","core/plugins/Medications/fragments/Inputs.js","core/plugins/Medications/MedicationsShow.js","core/plugins/Problems/fragments/Inputs.js","core/plugins/Problems/ProblemsShow.js","core/actions/patientsCountAction.js","core/pages/PatientsList/templates/PatientListTemplate.js","core/common/Buttons/ViewButton.js","core/pages/PatientsList/fragments/FormInputs.js","core/pages/PatientsList/PatientCreate.js","core/pages/PatientsList/PatientEdit.js","core/pages/PatientsList/fragments/EmergencySummaryPanel/ItemBlock.js","core/pages/PatientsList/fragments/EmergencySummaryPanel/index.js","core/pages/PatientsList/templates/PatientShowTemplate.js","core/pages/PatientsList/PatientShow.js","core/pages/PatientsList/fragments/ConfirmationModal.js","core/pages/PatientsList/fetchInitialize.js","core/common/LoadingSlider.js","core/pages/PatientsList/fragments/DatagridRow.js","core/pages/PatientsList/fragments/ColumnsTogglingPopover.js","core/pages/PatientsList/index.js","core/config/corePlugins.js","version/plugins/Vaccinations/fragments/Inputs.js","version/plugins/Vaccinations/VaccinationsCreate.js","version/plugins/Vaccinations/VaccinationsEdit.js","version/plugins/Vaccinations/VaccinationsShow.js","version/plugins/Vaccinations/fragments/DatagridRow.js","version/plugins/Vaccinations/VaccinationsList.js","version/plugins/TopThreeThings/fragments/Inputs.js","version/plugins/TopThreeThings/TopThreeThingsCreate.js","version/plugins/TopThreeThings/TopThreeThingsEdit.js","version/plugins/TopThreeThings/TopThreeThingsShow.js","version/plugins/TopThreeThings/fragments/DatagridRow.js","version/config/nonCorePlugins.js","version/plugins/TopThreeThings/TopThreeThingsList.js","core/sagas/currentPatientSagas.js","core/actions/initializeAction.js","core/sagas/initializeSagas.js","core/sagas/demographicsSagas.js","core/sagas/httpErrorSagas.js","core/sagas/showModeSagas.js","core/sagas/showHeadingsSagas.js","core/sagas/patientsCountSagas.js","core/sagas/emergencySummarySagas.js","core/sagas/createSynopsisSagas.js","version/sagas/index.js","core/sagas/index.js","core/reducers/currentPatientReducer.js","core/reducers/showHeadingsReducer.js","core/reducers/createCustomReducer.js","core/reducers/httpErrorReducer.js","core/reducers/userSearchReducer.js","core/reducers/toggleColumnsReducer.js","core/actions/advancedSearchAction.js","core/reducers/advancedSearchReducer.js","core/actions/clinicalQueryAction.js","core/reducers/clinicalQueryReducer.js","core/reducers/patientsCountReducer.js","core/reducers/emergencySummaryReducer.js","version/reducers/contrastModeReducer.js","version/reducers/selectedFeedsReducer.js","version/reducers/index.js","version/actions/setSelectedFeedsAction.js","core/reducers/index.js","core/pages/Charts/fragments/BarChartTitle.js","core/pages/Charts/fragments/BarChartTemplate.js","core/pages/Charts/index.js","core/routes.js","version/routes.js","core/common/Sidebar/MenuItems.js","core/common/Sidebar/MobileMenu.js","core/common/Sidebar/getMenuType.js","core/common/Sidebar/index.js","core/common/Topbar/fragments/TopPart.js","core/common/Topbar/fragments/PageTitle.js","core/common/Topbar/fragments/LowPart.js","core/common/Topbar/index.js","core/common/Footer/DefaultFooter.js","core/common/HandleErrorModal/index.js","core/common/Footer/index.js","core/common/CustomLayout.js","core/pages/InitializePage.js","core/translations/index.js","core/translations/tableHeaders.js","version/config/tableHeaders.js","core/App.js","index.js","version/images/helm-logo.png","version/images/Artboard.png","version/images/blue-ring-01.png","version/images/table-header.png","version/images/nhs.png","core/images/randomPatient.png","core/images/pulsetile-core-logo.png","core/images/ripple-foundation-logo-footer.png"],"names":["Object","assign","top3Things","token","result","decodeURIComponent","document","cookie","split","forEach","item","itemArray","trim","getTokenFromCookie","domainName","window","config","dummyPatients","address","dateOfBirth","department","city","gender","gpAddress","gpName","id","name","nhsNumber","pasNo","phone","checkFormData","params","paramsArray","param","label","missedParamsArray","i","n","length","get","push","string","join","HttpError","getRequestBody","isClinicalQuery","searchType","isSearchByCity","isSearchByAge","isAdvancedSearch","requestBody","query","from","to","getClinicalQueryBody","searchParams","firstName","lastName","birthDate","getAdvancedSearchBody","ageRange","JSON","stringify","getUserSearchResults","response","pageNumber","numberPerPage","startItem","endItem","results","sortField","sortOrder","DESC","ASC","sort","getSortedResults","patientsArray","addressFromResponse","getTotalName","getTotalAddress","totalAddress","country","district","postCode","getPatientsList","slice","convertPatientsDataRequestToHTTP","type","resource","url","method","options","GET_LIST","search","clinicalSearchType","concat","getRequestUrl","getRequestMethod","headers","Headers","Accept","Authorization","Content-Type","X-Requested-With","body","GET_ONE","UPDATE","userName","userId","updateData","family","given","prefix","telecom","String","line","postalCode","toString","CREATE","patientId","data","convertPatientsHTTPResponse","paginationResults","patientInfo","getUserSearchResultsById","total","patientFromResponse","addressArray","source","newFirstName","newLastName","newAddressLine","newCity","newDistrict","newPostalCode","newData","previousData","dataFromRequest","compositionUid","Number","newAddress","isNew","nameFromResponse","arguments","undefined","isSingle","getParamsByResource","currentDateObject","Date","createRequestTypes","base","optional","index","objectSpread","REQUEST","SUCCESS","FAILURE","HTTP_ERROR_ACTION","SAVE","REMOVE","httpErrorAction","save","remove","getFilterResults","filterText","filters","pluginFilters","filter","filterItem","toLowerCase","isItemConsider","convertHTTPResponse","map","number","sourceId","getResultsFromResponse","sourceID","dataProvider","_convertDataRequestTo","localStorage","getItem","dateCreated","dateOfOnset","moment","format","startDate","unix","Error","convertDataRequestToHTTP","responseInfo","fetch","then","json","res","catch","err","console","log","dataProviders_dataProvider","_convertPatientsDataR","status","errorMessage","errorString","newPatientsProvider","FetchLogin","resolve","reject","decodeToken","jwt","decode","role","setItem","isNewPatient","setTimeout","authProvider","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","AUTH_LOGOUT","removeItem","location","abrupt","Promise","AUTH_ERROR","AUTH_CHECK","href","stop","_x","_x2","apply","this","COLUMNS_TOGGLING_ACTION","TOGGLE","columnsTogglingAction","columnName","value","USER_SEARCH_ACTION","REQUEST_ID","SEARCH_BY","userSearchAction","Breadcrumbs","goHomePage","_this","props","removeUserSearch","replace","_this2","_this$props","classes","react_default","createElement","className","breadcrumbsBlock","Typography_default","link","onClick","key","breadcrumbsItem","separator","isActive","Link","aria-label","title","color","onClickAction","Component","withStyles","theme","display","height","alignItems","border","palette","borderColor","paddingLeft","backgroundColor","width","borderTop","borderBottom","borderLeft","marginLeft","marginRight","marginTop","textDecoration","secondaryMainColor","cursor","connect","dispatch","CONTRAST_MODE_ACTION","contrastModeAction","ContrastMode","state","isContrastMode","toggleContrastMode","setState","contrastMode","rightBlockItem","Tooltip_default","IconButton_default","rightBlockButton","aria-haspopup","Tonality_default","custom","mode","mapDispatchToProps","userLogout","button","margin","borderRadius","isRectangleButtons","fontSize","fontWeight","&:hover","icon","_ref$title","hideIcon","ExitToApp_default","UserPanelButton","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","anchorEl","isOpen","handleMenu","current","handleClose","React","createRef","_this$state","ref","aria-owns","bind","Person_default","Popover_default","anchorOrigin","vertical","horizontal","transformOrigin","open","onClose","Card_default","userPanel","variant","userRole","Buttons_CustomLogoutButton","minWidth","padding","marginBottom","TopPart","Toolbar_default","topPart","homeButtonItem","homeButton","Home_default","mainLogoItem","CardMedia_default","image","component","alt","helmLogo","emptyBlock","nhsLogo","features_ContrastMode","fragments_UserPanelButton","_nhsLogo","justifyContent","minHeight","position","mainColor","defineProperty","breakpoints","only","&:active","&:hover button","&:active button","&:hover a","&:active a","flexGrow","PatientBanner","doctor","Grid_default","container","spacing","gridBlock","xs","lg","patientNameBlock","keyName","MenuButtonMobile","setSidebarVisibility","isSidebarOpen","mobileMenuButton","Menu_default","Close_default","MobileMenu","isMobileBannerOpened","toggleMobileBanner","Fragment","menuAndBannerMobile","MobileMenu_MenuButtonMobile","patientName","index_es","faSortDown","size","iconArrowDown","patientBannerMobile","bannerRow","_menuAndBannerMobile","up","paperColor","fontColor","paddingTop","paddingRight","& span","DEMOGRAPHICS_ACTION","demographicsAction","error","MenuButton","menuButtonBlock","Button_default","menuButton","LowPart","getCurrentPatientAction","isPageHasPatientBanner","pathName","pathname","indexOf","pageHasTitle","pathArray","currentResource","pageHasPatientBanner","lowPart","menuAndBanner","LowPart_MenuButton","fragments_PatientBanner","fragments_MobileMenu","_menuAndBanner","flexDirection","borderRight","textTransform","textAlign","paddingBottom","appBar","boxShadow","rest","objectWithoutProperties","AppBar_default","fragments_TopPart","fragments_LowPart","SYNOPSIS_ALLERGIES_ACTION","SYNOPSIS_CONTACTS_ACTION","SYNOPSIS_MEDICATIONS_ACTION","SYNOPSIS_PROBLEMS_ACTION","synopsisAllergiesAction","request","success","synopsisContactsAction","synopsisMedicationsAction","synopsisProblemsAction","SYNOPSIS_TOP_THREE_THINGS_ACTION","SYNOPSIS_VACCINATIONS_ACTION","synopsisTopThreeThingsAction","synopsisVaccinationsAction","nonCoreSynopsisActions","nonCoreSynopsisData","list","faUserMd","isSynopsis","description","EMERGENCY_SUMMARY_ACTION","emergencySummaryAction","CURRENT_PATIENT_ACTION","REQUEST_PHOTO","SUCCESS_PHOTO","FAILURE_PHOTO","currentPatientAction","ItemsList","items","history","menuHasChevrons","themeCommonElements","core_List_default","listItemNoData","reverse","showRoute","listItem","noWrap","text","ChevronRight_default","totalSynopsisData","synopsisData","SHOW_ALL","showModesArray","getHeadingsLists","getSynopsisProps","reducerName","LoadingItems","emptyRows","ListBlock","_ref2","DashboardCard_ItemsList","DashboardCard_LoadingItems","DashboardCard","loading","showMode","showHeadings","values","isOldDesign","sm","md","card","topBlock","mainHeading","DashboardCard_ListBlock","invertedTableHeaders","PatientSummaryTable","FeedsPanels","RespectPanel","patientSummaryProps","demographics","synopsisProps","media","tableHeadColor","zIndex","& svg","& p","chartBlock","diagnosis","units","maximal","ResponsiveContainer","PieChart","Pie","startAngle","endAngle","innerRadius","outerRadius","paddingAngle","dataKey","Cell","fill","backgroundBlock","disabledColor","coloredBlock","borderTopLeftRadius","borderBottomLeftRadius","colorBlockWidth","style","COLOR_AMBER","COLOR_GREEN","COLOR_YELLOW","COLOR_RED","DIAGNOSIS_AMBER","DIAGNOSIS_GREEN","DIAGNOSIS_YELLOW","DIAGNOSIS_RED","PhotoAndVitals","getPatientAge","birthDateArray","year","getFullYear","getWeightResult","getOxygenSaturationResult","getSystolicColor","getDiastolicColor","isLoading","isLoadingPhoto","age","weightResult","oxygenSaturationResult","systolicColor","diastolicColor","blockTitle","content","photoAndVitals","insideGridBlock","patientPhoto","ageAndHeight","parameter","diagrams","fragments_PieChartBlock","horizontalBarChart","fragments_HorizontalBarChart","DummyItemsList","dummyItems","problems","medications","allergies","DashboardCard_DummyItemsList","DashboardCardRoll_LoadingItems","synopsisTitle","DashboardCardRoll_ListBlock","DashboardCard_DashboardCardRoll","root","tableWrapper","overflowX","tableList","& thead","& tr th","& tbody tr td span","& tbody tr:hover","& td span","valueWithBar","dummyLabResults","testName","normalRange","Paper_default","Table_default","aria-labelledby","TableHead_default","TableRow_default","TableCell_default","TableBody_default","scope","DummyVitalsChart","disabledLines","toggleLine","e","newDisabledLinesArray","vitalsListArray","dateCreate","newsScore","respirationRate","oxygenSupplemental","heartRate","temperature","levelOfConsciousness","systolicBP","diastolicBP","oxygenSaturation","chartData","linesArray","LineChart","top","left","XAxis","tick","fontFamily","YAxis","component_Tooltip","formatter","row","nameArray","getTooltipFormatter","labelFormatter","Legend","payload","CartesianGrid","stroke","strokeDasharray","Line","activeDot","r","strokeWidth","toolbar","CustomHeader","dateAndTime","events","dateForPoint","build","EventsTimeline_EventDate","eventBlock","eventType","eventDescription","EventDate","dateArray","eventDate","timeline","overflowY","& .timeline__container__year","& .timeline__container__year:after","background","& .timeline__container__body","&:before","toolbarColor","_ref3","eventsGroupByDate","_","mapValues","groupBy","date","clist","event","omit","eventsGroupByDateArray","entries","EventsTimeline_CustomHeader","emergencySummary","isVitalsLoading","headerBlock","fragments_PhotoAndVitals","fragments_PatientSummaryPanels","fragments_LabResults","blockTitleLeft","fragments_EventsTimeline","blockTitleRight","fragments_DummyVitalsChart","dummyEvents","SHOW_MODE_ACTION","showModeAction","SHOW_HEADINGS_ACTION","showHeadingsAction","DialogContent","selectedMode","selectedHeadings","isHeadingChecked","itemName","toggleVisibility","headingsArray","splice","setHeadingsAction","selectShowMode","setModeAction","FeedSelector","hasRespectPlugin","Dialog_default","onBackdropClick","dialogBlock","closeIcon","sectionTitle","Divider_default","dialogItem","dialogLabel","Checkbox_default","checkbox","checked","onChange","radio","checkboxLabel","dialogItemColumn","Radio_default","compose","_dialogBlock","topPanel","float","&$checked","withMobileDialog","breakpoint","SettingsDialog","toggleDialog","settingsIconBlock","Settings_default","iconTitle","DialogWithStyles","getSummaryContainerStyles","cardBackgroundImage","themeImages","transforms","count","right","backgroundSize","transform","PatientSummaryInfo","isRollView","toggleView","updateCurrentPatient","getPatientSynopsis","nextProps","nextContent","breadcrumbsResource","viewType","isRollViewDefault","common_Breadcrumbs","toggleViewBlock","PatientSummary_SettingsDialog","settingsIcon","formGroupLabel","FormGroup_default","formGroup","RadioGroup_default","radioGroup","FormControlLabel_default","formControlLabel","control","summaryContainer","PatientSummaryRoll","views_PatientSummaryTable","synopsisActions","getEmergencySummary","getRandomPhoto","patientSummaryPanel","boxSizing","themeShortMenu","themeFullMenu","topbar","ThemeTopbar","homePage","PatientSummary","isFooterAbsent","backgroundImage","tableHeaderImage","isTableHeaderInverted","tableHeaderBlock","tableHeader","mainHeader","translate","plugin","getCurrentPlugin","fontAwesomeIcon","iconClassName","DetailsTemplate","changeViewType","show","edit","ShowTemplate","EditTemplate","MODE_TABLE","MODE_CHART","MODE_TIMELINE","defaultLightPalette","dangerColor","viewButton","topbarButton","menuItemsColor","defaultDarkPalette","divider","getBackground","themeColor","imageName","memoize","DeepMerge","darkPalette","lightPalette","getCurrentPalette","tableHeaderColor","createMuiTheme","typography","overrides","MuiInput","MuiList","MuiPaper","elevation1","MuiTable","MuiTableHead","MuiTableRow","head","MuiTableCell","paddingNone","MuiTypography","body1","body2","h3","createButton","redirectPath","Add_default","MAXIMAL_BUTTONS_NUMBER","CustomPaginator","page","showAll","goToPage","resourceUrl","itemsPerPage","showAllButtons","getAllButtons","buttonsNumber","buttons","_loop","activeButton","getDigitButtons","half","Math","ceil","_loop2","_loop3","_loop4","_this$props2","paginatorRoot","disabled","FirstPage_default","KeyboardArrowLeft_default","KeyboardArrowRight_default","LastPage_default","paginationBlock","notCreate","isCreatePage","createPath","Buttons_CustomPaginator","Buttons_CreateButton","CustomDatagridBody","CustomRow","hiddenColumns","DatagridBody","CustomDatagrid","CustomTableHead","Datagrid","TableContent_CustomDatagridBody","DatagridBlock","isCustomDatagrid","children","TableContent_CustomDatagrid","rowEven","rowOdd","whiteSpace","& td div button","& td div svg","& tbody tr td","& tbody tr:hover td span","idsNumber","isDetailsPage","userSearch","userSearchID","userSearchType","userClinicalQuery","createUrl","defaultSort","defaultSortOrder","getSearch","getSearchType","list_List","field","order","filterType","clinicalQuery","perPage","actions","bulkActions","pagination","Toolbars_ListToolbar","TableContent_DatagridBlock","ResourseTemplates_EmptyListBlock","ChartContent","ChartBlock","TimelineContent","timelineBlock","TimelineBlock","paper","resourse","changeListMode","hasChart","hasTimetable","List_default","ShowChart_default","AccessTime_default","ColumnsTogglingPopover","toggleColumn","ColumnsTogglingIcon","popoverOpen","currentTarget","popoverClose","hasColumnsToggling","Boolean","ArrowDropDown_default","ArrowDropUp_default","popovers_ColumnsTogglePopover","ListTemplate","listMode","isListOpened","isFilterOpened","getCreateUrl","currentPage","URLSearchParams","createPage","getDetailsUrl","defaultCreateUrl","toggleFilter","toggleListBlock","stopPropagation","isListPage","filterByText","target","hasNewItem","newListArray","prevListArray","newDataArray","getListModeIcon","TableIcon","ChartIcon","TimelineIcon","getContentBlock","TableContent","toggleColumnStore","updateTableHead","hiddenColumnsArray","isChartDefault","defaultHiddenColumns","nextContext","_this$props3","create","headerFilterAbsent","currentList","CreateBlock","titleTable","currentListArray","ListModeIcon","ContentBlock","common_TableHeader","mainBlock","common_CustomIcon","icons_ColumnsTogglingIcon","listModeIcon","popovers_ListModePopover","faFilter","filterIcon","filterBlock","filterInput","elevation","filterInputIcon","inputBlock","placeholder","Route","path","render","match","ResourseTemplates_DetailsTemplate","ownProps","currentData","& button","saveButton","SaveButton","Done_default","listButton","form_Toolbar","disableHoverListener","Block_default","Buttons_CustomSaveButton","expandBlockIcon","createForm","& > div","customFormBlock","isCustom","Create","SimpleForm","Toolbars_CreateFormToolbar","formStyles","customRoot","& div div input","& div div textarea","customFormLabel","customInput","customTextarea","customSelector","TextInput","fullWidth","InputProps","disableUnderline","input","InputLabelProps","shrink","LongTextInput","rows","defaultValue","DateInput","labelBlock","redirectTo","Buttons_CancelButton","editForm","Edit","undoable","EditFormToolbar","editButton","Edit_default","isMainPanelOpen","isSystemInfoPanelOpen","toggleMainPanel","toggleSystemInfoPanel","pageTitle","ExpansionPanel_default","currentExpansionPanel","expansionPanel","expanded","ExpansionPanelSummary_default","expansionPanelSummary","expandIcon","ExpandMore_default","expansionTypography","ExpansionPanelDetails_default","expansionPanelDetails","Show","showDetails","SimpleShowLayout","showLayoutDetails","Buttons_EditButton","DateField","TextField","CustomDatagridRow","ResourseTemplates_ShowTemplate","isActiveRow","pathnameArray","getCurrentPage","getUrl","basePath","record","detailsPath","tableRowActive","tableRow","&:hover td","& td","relationshipArray","relationshipTypeArray","routesArray","SelectInput","choices","BooleanInput","PATIENTS_COUNT_ACTION","patientsCountAction","filterByUserSearch","filterByUserSearchId","filterByUserSearchType","userSearchValue","filterByClinicalQuery","getTitleForAdvancedSearh","getTitleForClinicalSearh","searchValue","maxAge","minAge","react_fontawesome","ViewButton","viewAction","checkRedirectUrl","buttomBlock","arrowButton","& span p","genderChoices","halfWidthBlock","halfWidth","RadioButtonGroupInput","PatientCreate","ResourseTemplates_CreateTemplate","fragments_FormInputs","PatientEdit","ResourseTemplates_EditTemplate","ItemBlock","isShowAll","toggleShowAll","getShortRow","shortRow","itemBlock","blockContent","EmergencySummaryPanel","isPanelOpen","togglePanel","getResourceList","listArray","currentPatient","allergiesList","medicationsList","problemsList","EmergencySummaryPanel_ItemBlock","isDateCreatedAbsent","isSystemInfoAbsent","hasEmergencySummaryPanel","fragments_EmergencySummaryPanel","PatientShowTemplate","HandleErrorModal","agreeAction","titleBlock","declineButton","agreeButton","fetchInitialize","mainSpinner","bottom","transition","slidesAndRings","tips","overflow","& > p","@keyframes slide","0%","9.91%","10.01%","19.92%","20.02%","29.93%","30.03%","39.94%","40.04%","49.95%","50.05%","59.96%","60.06%","69.97%","70.07%","79.98%","80.08%","89.99%","90.09%","100%","slideWrapper","WebkitAnimation","animation","slide","slideNumber","& h3","@keyframes rings","WebkitTransform","@keyframes rings_reverse","rings","& div","& div:nth-child(2)","randomDate","start","end","getTime","random","PatientDatagridRow","redirectUrl","redirectWithoutPermission","redirectToSummary","handleClick","isColumnHidden","common_LoadingSlider","isPermissionRequired","fragments_CustomDatagridRow","floor","viewButtonCell","Buttons_ViewButton","ConfirmationModal","removeHiddenColumns","CustomDisabledCheckbox","CustomCheckbox","columnsArray","PATIENT_INFO","DATE_TIME","COUNT","born","dateTime","vitalsDate","problemsDate","vitalsCount","problemsCount","handleChange","toggleColumnIfHidden","selectAll","patientInfoValue","dateTimeValue","countValue","ordersDate","resultsDate","ordersCount","resultsCount","_this3","_this$state2","checkboxItem","LabelWithIcon","labelWithIcon","PatientsList","newProps","prevList","getPatientsCounts","PatientListTemplate","PatientShow","DatagridRow","PatientsList_LabelWithIcon","Today_default","Check_default","imageBlock","corePlugins","patientsIds","backgroundPosition","VaccinationsCreate","Vaccinations_fragments_Inputs","VaccinationsEdit","VaccinationsShow","VaccinationsDatagridRow","vaccinationName","VaccinationsList","ResourseTemplates_ListTemplate","TopThreeThingsCreate","TopThreeThings_fragments_Inputs","TopThreeThingsEdit","TopThreeThingsDatagridRow","name1","name2","name3","nonCorePlugins","TopThreeThingsShow","currentPatientSagas","takeEvery","action","sent","put","t0","_callee2","_context2","INITIALIZE_ACTION","initializeAction","message","CRUD_GET_LIST_FAILURE","CRUD_GET_ONE_FAILURE","CRUD_CREATE_FAILURE","CRUD_UPDATE_FAILURE","errorTrim","errorArray","createCustomSagas","actionName","actionType","pluginName","sagas","createSynopsisSagas","rootSaga","mergeSagas","initializeSagas","demographicsSagas","httpErrorSagas","showModeSagas","showHeadingsSagas","patientsCountSagas","emergencySummarySagas","nonCoreSagas","all","_marked","initialState","getPatientInfo","addressSecondLine","createCustomReducer","ADVANCED_SEARCH_ACTION","CLINICAL_QUERY_ACTION","reducers","vaccinationsSynopsis","top3ThingsSynopsis","selectedFeedsList","coreReducers","allergiesSynopsis","contactsSynopsis","medicationsSynopsis","problemsSynopsis","initialize","httpErrors","loadingPhoto","toggleColumns","advancedSearch","patientsCount","nonCoreReducers","combineReducers","secondTitle","chartIcon","mainTitle","chartContainer","faChartBar","DEFAULT_STEP","CustomTooltip","active","barColor","tooltip","patientsNumber","square","bar","ticksArray","RespondentPercentage","ticksNumber","getTicksArray","BarChart","dy","dx","ticks","domain","BarChartTemplate_CustomTooltip","Bar","fillOpacity","entry","Charts","valueForSearch","setSearchType","patients","EdinburghCount","SomersetCount","GlasgowCount","HamiltonCount","NorthamptonCount","totalNumber","Edinburgh","round","Somerset","Glasgow","Hamilton","Northampton","firstCount","secondCount","thirdCount","fourthCount","currentDate","endDate","duration","diff","first","second","third","fourth","patientsData","DepartmentPercentage","getDepartmentPercentage","dataGreen","Text","AgePercentage","getAgePercentage","dataViolet","chartsContainer","chart","fragments_BarChartTitle","fragments_BarChartTemplate","& .recharts-text.recharts-cartesian-axis-tick-value","coreRoutes","es_Route","exact","LabelWithChevron","isSelected","labelWithChevron","itemSelected","menuBlock","&:hover p","&:hover svg","menuItems","onMenuClick","MenuItemLink","menuItemSelected","menuItem","primaryText","MenuItems_LabelWithChevron","leftIcon","faCircle","selected","onMobileMenuClick","mobileSidebar","Sidebar_MenuItems","defaultShortMenu","defaultFullMenu","isResourcePresentedInMenu","menuItemsArray","withRouter","resources","getResources","admin","ui","sidebarOpen","sidebarBlock","maxWidth","&:hover div p","currentPathname","getMenuItems","isSinglePatientView","Responsive","small","Sidebar_MobileMenu","medium","Sidebar","logout","isTopbarMenuOpen","whitePart","backButton","goBack","KeyboardBackspace_default","logo","userNemuButton","AccountCircle_default","core_Menu_default","userMenuButton","titlesArray","charts","PageTitle","greenPart","isMenuVisible","fragments_PageTitle","CustomTopbar","ThemeTopBar","Topbar_fragments_TopPart","Topbar_fragments_LowPart","_footerBlock","footerBlock","copyright","supportedBy","footerLogo","isErrorModalOpen","isSessionExpired","includes","getErrorDescription","isJwtOld","closeModal","removeErrorNotification","errorStatus","errorDescription","reloadButton","reload","Footer","ThemeFooter","common_HandleErrorModal","Footer_DefaultFooter","getCurrentTheme","& main > div","Layout","CustomTopBar","sidebar","CustomSidebar","notification","CustomFooter","InitializePage","translations","en","tableHeaders","contacts","plugins","Homepage","i18nProvider","locale","App","isPhrUser","Admin","customSagas","customReducers","customRoutes","customDataProvider","dashboard","PatientSummaryPage","appLayout","loginPage","Resource","ReactDOM","core_App","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.d3fe2efd.chunk.js","sourcesContent":["import nonCorePluginFilters from \"../../version/config/pluginFilters\";\n\n/**\n * This component returns array of fields for filtering\n * (core plugins)\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @return {shape}\n */\nconst corePluginFilters = {\n    // allergies: ['cause', 'reaction'],\n    // contacts: ['name', 'relationship'],\n    // problems: ['problem'],\n    // medications: ['name'],\n};\n\nexport default Object.assign({}, corePluginFilters, nonCorePluginFilters);\n","/**\n * This component returns array of fields for filtering\n * (non-core plugins)\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @return {shape}\n */\nexport default {\n    // vaccinations: ['vaccinationName'],\n    top3Things: [],\n};","/**\n * This function extract token from COOKIE and returns it\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @return {string}\n */\nfunction getTokenFromCookie() {\n    let result = null;\n    const decodedCookie = decodeURIComponent(document.cookie).split(';');\n    decodedCookie.forEach(item => {\n        let itemArray = item.split('=');\n        let parameterName = itemArray[0];\n        if (parameterName.trim() === \"JSESSIONID\") {\n            result = itemArray[1];\n        }\n    });\n    return result;\n}\n\n/**\n * This function returns domain name from windoe config settings\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @return {string}\n */\nfunction getDomainName() {\n    return (window && window.config) ? window.config.domainName : null;\n}\n\nexport const token = getTokenFromCookie();\nexport const domainName = getDomainName();\n\n","export default [\n    {\n        address: \"6948 Et St., Halesowen, Worcestershire, VX27 5DV\",\n        dateOfBirth: -806976000000,\n        department: \"Neighbourhood\",\n        city: \"Hamilton\",\n        gender: \"Male\",\n        gpAddress: \"Hamilton Practice, 5544 Ante Street, Hamilton, Lanarkshire, N06 5LP\",\n        gpName: \"Goff Carolyn D.\",\n        id: \"9999999000\",\n        name: \"Ivor Cox\",\n        nhsNumber:\"9999999000\",\n        pasNo: \"352541\",\n        phone: \"(011981) 32362\"\n    },\n    {\n        address: \"Ap #126-6226 Mi. St., Oakham, Rutland, XM9 4RF\",\n        dateOfBirth: -806976000000,\n        department: \"Neighbourhood\",\n        city: \"Hamilton\",\n        gender: \"Male\",\n        gpAddress: \"Northmapton Practice, 616-9384 Mauris Rd., Northampton, Northamptonshire, ZY9 2KM\",\n        gpName: \"Cash Claire F.\",\"id\":\"9999999001\",\n        name: \"Ivor Cox\",\n        nhsNumber: \"9999999001\",\n        pasNo: \"623454\",\"phone\":\"(0112) 740 5408\"\n    },\n    {\n        address: \"22, Douglas Road, Cork, CK\",\n        dateOfBirth: -1018051200000,\n        department: \"Community Care\",\n        city: \"Edinburgh\",\n        gender: \"Male\",\n        gpAddress: \"Port Glasgow Practice, 4872 Cubilia St., Port Glasgow, Renfrewshire, TQ3J 4JG\",\n        gpName: \"Spencer Hyacinth A.\",\n        id: \"9999999002\",\n        name: \"Aengus O'Sullivan\",\n        nhsNumber: \"9999999002\",\n        pasNo: \"346574\",\n        phone: \"0800 1111\"\n    },\n    {\n        address: \"40, High Street, Dublin, D8\",\n        dateOfBirth: 318384000000,\n        department: \"Neighbourhood\",\n        city: \"Hamilton\",\n        gender: \"Female\",\n        gpAddress: \"Newport Practice, Ap #491-7493 Donec Ave, Newport, Hampshire, JB48 4EL\",\n        gpName: \"Bailey Demetrius B.\",\n        id: \"9999999003\",\n        name: \"Emma Gallagher\",\n        nhsNumber: \"9999999003\",\n        pasNo: \"332546\",\n        phone:\"07624 647524\"\n    },\n    {\n        address: \"60, SandyMill Road, Galway, GW\",\n        dateOfBirth: -367200000000,\n        department: \"Community Care\",\n        city: \"Edinburgh\",\n        gender: \"Male\",\n        gpAddress: \"Edinburgh Practice, 7673 Luctus St., Edinburgh, Midlothian, OS65 6FU\",\n        gpName: \"Guthrie Indigo D.\",\n        id: \"9999999004\",\n        name: \"Philip O'Connor\",\n        nhsNumber: \"9999999004\",\n        pasNo: \"345267\",\n        phone: \"0964 934 2028\"\n    },\n    {\n        address: \"288-6235 Odio. Street, Stockton-on-Tees, Durham, GF7 2OE\",\n        dateOfBirth: -563846400000,\n        department: \"Community Care\",\n        city: \"Edinburgh\",\n        gender: \"Male\",\n        gpAddress: \"Taunton Practice, 611-682 Sed Road, Taunton, Somerset, Y92 1WA\",\n        gpName: \"Hudson Inez G.\",\n        id: \"9999999005\",\n        name: \"Rashad Hill\",\n        nhsNumber: \"9999999005\",\n        pasNo: \"798311\",\n        phone: \"0909 764 2554\"\n    },\n    {\n        address: \"P.O. Box 711, 8725 Purus Rd., Grangemouth, Stirlingshire, B4 8MW\",\n        dateOfBirth: -363657600000,\n        department: \"Primary Care\",\n        city: \"Northampton\",\n        gender: \"Male\",\n        gpAddress: \"Aulderan Practice, Ap #806-2884 Enim St., Auldearn, Nairnshire, V4F 9GJ\",\n        gpName: \"Joseph May N.\",\n        id: \"9999999006\",\n        name: \"Ezra Gordon\",\n        nhsNumber: \"9999999006\",\n        pasNo: \"595941\",\n        phone: \"070 6691 5178\"\n    },\n    {\n        address: \"50, High Hill, Cork, CK\",\n        dateOfBirth: -994636800000,\n        department: \"Primary Care\",\n        city: \"Northampton\",\n        gender: \"Male\",\n        gpAddress: \"Hamilton Practice, 5544 Ante Street, Hamilton, Lanarkshire, N06 5LP\",\n        gpName: \"Mcclain Ocean Q.\",\n        id: \"9999999008\",\n        name: \"Cian Magee\",\n        nhsNumber: \"9999999008\",\n        pasNo: \"685412\",\n        phone: \"(026) 5155 5992\",\n    },\n    {\n        address: \"80, Low Street, Dublin, D8\",\n        dateOfBirth: 360547200000,\n        department: \"Hospital\",\n        city: \"Somerset\",\n        gender: \"Female\",\n        gpAddress: \"Northmapton Practice, 616-9384 Mauris Rd., Northampton, Northamptonshire, ZY9 2KM\",\n        gpName: \"KEY Dawn A.\",\n        id: \"9999999009\",\n        name: \"Nora Kelly\",\n        nhsNumber: \"9999999009\",\n        pasNo: \"584849\",\n        phone: \"(016977) 0472\",\n    },\n    {\n        address: \"40, High Hill, Dublin, D8\",\n        dateOfBirth: 46656000000,\n        department: \"Neighbourhood\",\n        city: \"Hamilton\",\n        gender: \"Female\",\n        gpAddress: \"Port Glasgow Practice, 4872 Cubilia St., Port Glasgow, Renfrewshire, TQ3J 4JG\",\n        gpName: \"Boyer Isaac Q.\",\n        id: \"9999999010\",\n        name: \"Briana Nolan\",\n        nhsNumber: \"9999999010\",\n        pasNo: \"556631\",\n        phone: \"(01970) 784490\",\n    },\n    {\n        address: \"9460 Sit Av., Marlborough, Wiltshire, V15 5FL\",\n        dateOfBirth: 534556800000,\n        department: \"Neighbourhood\",\n        city: \"Hamilton\",\n        gender: \"Female\",\n        gpAddress: \"Newport Practice, Ap #491-7493 Donec Ave, Newport, Hampshire, JB48 4EL\",\n        gpName: \"Hobbs Neil S.\",\n        id: \"9999999011\",\n        name: \"Hilda Aguirre\",\n        nhsNumber: \"9999999011\",\n        pasNo: \"645154\",\n        phone: \"(0101) 279 8943\",\n    },\n    {\n        address: \"P.O. Box 785, 1144 Erat. Rd., Ludlow, Shropshire, GI1 8ZR\",\n        dateOfBirth: -733536000000,\n        department: \"Hospital\",\n        city: \"Somerset\",\n        gender: \"Female\",\n        gpAddress: \"Edinburgh Practice, 7673 Luctus St., Edinburgh, Midlothian, OS65 6FU\",\n        gpName: \"Sullivan Bruno Z.\",\n        id: \"9999999012\",\n        name: \"Cameron Monroe\",\n        nhsNumber: \"9999999012\",\n        pasNo: \"984313\",\n        phone: \"076 5024 5403\",\n    },\n    {\n        address: \"P.O. Box 649, 8307 Sit Rd., Cawdor, Nairnshire, GL74 9RY\",\n        dateOfBirth: 100915200000,\n        department: \"Community Care\",\n        city: \"Edinburgh\",\n        gender: \"Female\",\n        gpAddress: \"Taunton Practice, 611-682 Sed Road, Taunton, Somerset, Y92 1WA\",\n        gpName: \"Roach Solomon H.\",\n        id: \"9999999013\",\n        name: \"Kuame Thompson\",\n        nhsNumber: \"9999999013\",\n        pasNo: \"416166\",\n        phone: \"0800 252 0881\",\n    },\n    {\n        address: \"Ap #540-9476 Nec Avenue, Alva, Stirlingshire, W9J 7NB\",\n        dateOfBirth: -638150400000,\n        department: \"Community Care\",\n        city: \"Edinburgh\",\n        gender: \"Female\",\n        gpAddress: \"Aulderan Practice, Ap #806-2884 Enim St., Auldearn, Nairnshire, V4F 9GJ\",\n        gpName: \"Cooke Kelsey T.\",\n        id: \"9999999014\",\n        name: \"Stewart Lynch\",\n        nhsNumber: \"9999999014\",\n        pasNo: \"641515\",\n        phone: \"056 5661 0225\",\n    },\n    {\n        address: \"P.O. Box 301, 6944 Sapien, St., Bradford, Yorkshire, WZ8 4PM\",\n        dateOfBirth: 721180800000,\n        department: \"Community Care\",\n        city: \"Edinburgh\",\n        gender: \"Female\",\n        gpAddress: \"Scalloway Practice, 549-6333 Magna Street, Scalloway, Shetland, KF3 8IO\",\n        gpName: \"Howard Megan D.\",\n        id: \"9999999015\",\n        name: \"Hashim Booth\",\n        nhsNumber: \"9999999015\",\n        pasNo: \"949461\",\n        phone: \"0353 893 7620\",\n    },\n    {\n        address: \"Ap #728-3451 Dapibus St., Forfar, Angus, R12 7RK\",\n        dateOfBirth: 188870400000,\n        department: \"Primary Care\",\n        city: \"Northampton\",\n        gender: \"Female\",\n        gpAddress: \"Hamilton Practice, 5544 Ante Street, Hamilton, Lanarkshire, N06 5LP\",\n        gpName: \"Hampton Hamish H.\",\n        id: \"9999999016\",\n        name: \"Gregory Dillard\",\n        nhsNumber: \"9999999016\",\n        pasNo: \"994512\",\n        phone: \"(025) 5608 1829\",\n    },\n    {\n        address: \"91, Douglas Road, Dublin, D8\",\n        dateOfBirth: 16761600000,\n        department: \"Neighbourhood\",\n        city: \"Hamilton\",\n        gender: \"Female\",\n        gpAddress: \"Northmapton Practice, 616-9384 Mauris Rd., Northampton, Northamptonshire, ZY9 2KM\",\n        gpName: \"Valenzuela Jesse M.\",\n        id: \"9999999017\",\n        name: \"Marian Kelly\",\n        nhsNumber: \"9999999017\",\n        pasNo: \"684135\",\n        phone: \"(0113) 310 6232\",\n    },\n    {\n        address: \"94, High Hill, Galway, GW\",\n        dateOfBirth: 457920000000,\n        department: \"Mental Health\",\n        city: \"Glasgow\",\n        gender: \"Male\",\n        gpAddress: \"Port Glasgow Practice, 4872 Cubilia St., Port Glasgow, Renfrewshire, TQ3J 4JG\",\n        gpName: \"Joseph Cameron J.\",\n        id: \"9999999018\",\n        name: \"John Flanagan\",\n        nhsNumber: \"9999999018\",\n        pasNo: \"943513\",\n        phone: \"0800 970 8555\",\n    },\n    {\n        address: \"34, Summer Hill, Dublin, D8\",\n        dateOfBirth: -790041600000,\n        department: \"Neighbourhood\",\n        city: \"Hamilton\",\n        gender: \"Female\",\n        gpAddress: \"Newport Practice, Ap #491-7493 Donec Ave, Newport, Hampshire, JB48 4EL\",\n        gpName: \"Garrett Illana I.\",\n        id: \"9999999019\",\n        name: \"Rachel Walsh\",\n        nhsNumber: \"9999999019\",\n        pasNo: \"684351\",\n        phone: \"(01326) 24257\",\n    },\n    {\n        address: \"P.O. Box 691, 4675 Dictum Rd., Stevenage, Hertfordshire, AI2 8YN\",\n        dateOfBirth: 523238400000,\n        department: \"Neighbourhood\",\n        city: \"Hamilton\",\n        gender: \"Male\",\n        gpAddress: \"Edinburgh Practice, 7673 Luctus St., Edinburgh, Midlothian, OS65 6FU\",\n        gpName: \"Morris Lucian X.\",\n        id: \"9999999020\",\n        name: \"Lysandra Nash\",\n        nhsNumber: \"9999999020\",\n        pasNo: \"913513\",\n        phone: \"0800 1111\",\n    },\n];","import get from \"lodash/get\";\nimport {\n    GET_LIST,\n    GET_ONE,\n    CREATE,\n    UPDATE,\n    HttpError\n} from \"react-admin\";\nimport sort, { ASC, DESC } from 'sort-array-objects';\nimport { token, domainName } from \"../token\";\n\nfunction checkFormData(params) {\n\n    const paramsArray = [\n        { param: 'data.prefix', label: 'Preferred Name' },\n        { param: 'data.firstName', label: 'Name' },\n        { param: 'data.lastName', label: 'Surname' },\n        { param: 'data.birthDate', label: 'Date of Birth' },\n        { param: 'data.address', label: 'Address' },\n        { param: 'data.city', label: 'City' },\n        { param: 'data.district', label: 'District' },\n        { param: 'data.postCode', label: 'Post Code' },\n        { param: 'data.country', label: 'Country' },\n        { param: 'data.phone', label: 'Telephone Number' },\n        { param: 'data.nhsNumber', label: 'CHI Number' },\n    ];\n\n    let missedParamsArray = [];\n    for (let i = 0, n = paramsArray.length; i < n; i++) {\n        let item = paramsArray[i];\n        let value = get(params, item.param, null);\n        if (!value) {\n            missedParamsArray.push(item.label);\n        }\n    }\n\n    if (missedParamsArray.length > 0) {\n        const string = missedParamsArray.join(', ');\n        throw new HttpError('777|Please add ' + string);\n    }\n\n    return true;\n}\n\nfunction getRequestUrl(params) {\n    const search = get(params, 'filter.filterText', null);\n    const searchType = get(params, 'filter.filterType', null);\n    const clinicalSearchType = get(params, 'filter.clinicalQuery.searchType', null);\n    let result = null;\n    if (searchType === 'id') {\n        result = `${domainName}/mpi/Patient/${search}`;\n    } else if (searchType === 'by_city' && search) {\n        result = `${domainName}/mpi/Patient/search/searchByCity`;\n    } else if (searchType === 'clinicalQuery' && clinicalSearchType) {\n        result = `${domainName}/api/patient/clinicalSearch/${clinicalSearchType}`;\n    } else if ((searchType === 'by_age' || searchType !== 'name') && search) {\n        result = `${domainName}/mpi/Patient/search/advanced`;\n    } else if (search) {\n        result = `${domainName}/mpi/Patient?name=${search}`;\n    }\n    return result;\n}\n\nfunction getRequestMethod(params) {\n    const isClinicalQuery = get(params, 'filter.clinicalQuery', null);\n    const searchType = get(params, 'filter.filterType', null);\n    const isSearchByCity = (searchType === 'by_city');\n    const isSearchByAge = (searchType === 'by_age');\n    const isAdvancedSearch = (searchType === 'advanced');\n    return (isClinicalQuery || isSearchByCity || isSearchByAge || isAdvancedSearch) ? 'POST' : 'GET';\n}\n\nfunction getAdvancedSearchBody(params) {\n    const searchParams = get(params, 'filter.filterText', null);\n    const nhsNumber = get(searchParams, 'nhsNumber', null);\n    const firstName = get(searchParams, 'firstName', null);\n    const lastName = get(searchParams, 'lastName', null);\n    const gender = get(searchParams, 'gender', null);\n    const birthDate = get(searchParams, 'dateOfBirth', null);\n    const from = get(searchParams, 'minAge', 0);\n    const to = get(searchParams, 'maxAge', 100);\n    let requestBody = {};\n    if (birthDate) {\n        requestBody = {\n            nhsNumber: nhsNumber,\n            firstName: firstName,\n            lastName : lastName,\n            gender: gender,\n            birthDate: birthDate\n        }\n    } else {\n        requestBody = {\n            from: from,\n            to: to,\n            nhsNumber: nhsNumber,\n            firstName: firstName,\n            lastName : lastName,\n            gender: gender,\n        }\n    }\n    return requestBody;\n}\n\nfunction getClinicalQueryBody(params) {\n    let requestBody = {\n        query: get(params, 'filter.clinicalQuery.searchValue', null),\n        gender: get(params, 'filter.clinicalQuery.gender', null),\n    };\n    const dateOfBirth = get(params, 'filter.clinicalQuery.dateOfBirth', null);\n    const from = get(params, 'filter.clinicalQuery.minAge', null);\n    const to = get(params, 'filter.clinicalQuery.maxAge', null);\n    if (dateOfBirth) {\n        requestBody.dateOfBirth = dateOfBirth;\n    } else if (from && to) {\n        requestBody.from = from;\n        requestBody.to = to;\n    }\n    return requestBody;\n}\n\nfunction getRequestBody(params) {\n\n    const isClinicalQuery = get(params, 'filter.clinicalQuery', null);\n    const searchType = get(params, 'filter.filterType', null);\n    const isSearchByCity = (searchType === 'by_city');\n    const isSearchByAge = (searchType === 'by_age');\n    const isAdvancedSearch = (searchType === 'advanced');\n\n    if (!isClinicalQuery && !isSearchByCity && !isSearchByAge && !isAdvancedSearch) {\n        return null;\n    }\n\n    let requestBody = {};\n    if (isClinicalQuery) {\n        requestBody = getClinicalQueryBody(params);\n    } else if (isSearchByCity) {\n        requestBody = {\n            city: get(params, 'filter.filterText', null),\n        }\n    } else if (isAdvancedSearch) {\n        requestBody = getAdvancedSearchBody(params);\n    } else if (isSearchByAge) {\n        const ageRange = get(params, 'filter.filterText', [0, 100]);\n        requestBody = {\n            from: ageRange[0],\n            to: ageRange[1],\n        };\n    }\n\n    return JSON.stringify(requestBody);\n}\n\nfunction getUserSearchResultsById(response) {\n    const patientInfo = get(response, 'patient', null);\n    const addressFromResponse = get(response, 'address', null);\n    const result = {\n        id: get(patientInfo, ['identifier', [0], 'value'], null),\n        name: getTotalName(patientInfo, true),\n        address: getTotalAddress(patientInfo, true),\n        totalAddress: getTotalAddress(patientInfo, true),\n        city: get(addressFromResponse, [[0], 'city'], null),\n        country: get(addressFromResponse, [[0], 'country'], null),\n        district: get(addressFromResponse, [[0], 'district'], null),\n        postCode: get(addressFromResponse, [[0], 'postalCode'], null),\n        birthDate: get(patientInfo, 'birthDate', null),\n        department: get(patientInfo, 'department', null),\n        gender: get(patientInfo, 'gender', null),\n        nhsNumber: get(patientInfo, ['identifier', [0], 'value'], null),\n        phone: get(patientInfo, 'telecom', null),\n    };\n    return [result];\n}\n\nfunction getUserSearchResults(response, params) {\n    const pageNumber = get(params, 'pagination.page', 1);\n    const numberPerPage = get(params, 'pagination.perPage', 10);\n    const patientsArray = get(response, 'entry', []);\n    const results = getPatientsList(patientsArray);\n    const resultsSorting = getSortedResults(results, params);\n    const startItem = (pageNumber - 1) * numberPerPage;\n    const endItem = pageNumber * numberPerPage;\n    return resultsSorting.slice(startItem, endItem);\n}\n\nconst convertPatientsDataRequestToHTTP = (type, resource, params) => {\n    let url = \"\";\n    let method = \"\";\n    const options = {};\n    switch (type) {\n        case GET_LIST: {\n            url = getRequestUrl(params);\n            method = getRequestMethod(params);\n            options.method = method;\n            if (!options.headers) {\n                options.headers = new Headers({Accept: 'application/json'});\n            }\n            options.headers = {\n                Authorization: \"Bearer \" + token,\n                'Content-Type': 'application/json',\n                'X-Requested-With': \"XMLHttpRequest\",\n            };\n            if (method === 'POST') {\n                options.body = getRequestBody(params);\n            }\n            break;\n        }\n\n        case GET_ONE:\n            url = `${domainName}/mpi/Patient/${params.id}`;\n            if (!options.headers) {\n                options.headers = new Headers({ Accept: 'application/json' });\n            }\n            options.headers = {\n                Authorization: \"Bearer \" + token,\n                'X-Requested-With': \"XMLHttpRequest\",\n            };\n            break;\n\n        case UPDATE:\n\n            checkFormData(params);\n\n            let userName = get(params, 'data.firstName', null);\n            let userId = get(params, 'data.nhsNumber', null);\n            let updateData = {\n                name: {\n                    family: get(params, 'data.lastName', null),\n                    given: userName.split(' '),\n                    prefix: get(params, 'data.prefix', null),\n                },\n                telecom: String(get(params, 'data.phone', null)),\n                gender: get(params, 'data.gender', null),\n                birthDate: get(params, 'data.birthDate', null),\n                address: {\n                    line: get(params, 'data.address', null),\n                    city: get(params, 'data.city', null),\n                    district: get(params, 'data.district', null),\n                    postalCode: get(params, 'data.postCode', null),\n                    country: get(params, 'data.country', null)\n                },\n                id: userId.toString(),\n            };\n            url = `${domainName}/mpi/Patient/${params.id}`;\n            options.method = \"PUT\";\n            if (!options.headers) {\n                options.headers = new Headers({ Accept: 'application/json' });\n            }\n            options.headers = {\n                Authorization: \"Bearer \" + token,\n                'Content-Type': 'application/json',\n                'X-Requested-With': \"XMLHttpRequest\",\n            };\n            options.body = JSON.stringify(updateData);\n            break;\n\n        case CREATE:\n\n            checkFormData(params);\n\n            let patientId = get(params, 'data.nhsNumber', null);\n            let name = get(params, 'data.firstName', null);\n            let data = {\n                name: {\n                    family: get(params, 'data.lastName', null),\n                    given: name.split(' '),\n                    prefix: get(params, 'data.prefix', null),\n                },\n                telecom: String(get(params, 'data.phone', null)),\n                gender: get(params, 'data.gender', null),\n                birthDate: get(params, 'data.birthDate', null),\n                address: {\n                    line: get(params, 'data.address', null),\n                    city: get(params, 'data.city', null),\n                    district: get(params, 'data.district', null),\n                    postalCode: get(params, 'data.postCode', null),\n                    country: get(params, 'data.country', null)\n                }\n            };\n            url = `${domainName}/mpi/Patient/${patientId}`;\n            options.method = \"POST\";\n            if (!options.headers) {\n                options.headers = new Headers({ Accept: 'application/json' });\n            }\n            options.headers = {\n                Authorization: \"Bearer \" + token,\n                'Content-Type': 'application/json',\n                'X-Requested-With': \"XMLHttpRequest\",\n            };\n            options.body = JSON.stringify(data);\n            break;\n\n        default:\n            return { data: 'No results' };\n    }\n    return {url, options};\n};\n\nconst convertPatientsHTTPResponse = (response, type, resource, params) => {\n    switch (type) {\n\n        case GET_LIST:\n            const searchType = get(params, 'filter.filterType', null);\n            const paginationResults = (searchType === 'id') ? getUserSearchResultsById(response) : getUserSearchResults(response, params);\n            return {\n                data: paginationResults,\n                total: paginationResults.length,\n            };\n\n        case GET_ONE:\n            const patientFromResponse = get(response, 'patient', null);\n            const id = get(patientFromResponse, ['identifier', [0], 'value'], null);\n            const name = get(patientFromResponse, ['name', [0]], null);\n            const prefix = get(name, ['prefix'], null);\n            const namesArray = get(name, 'given', null);\n            const firstName = namesArray.join(' ');\n            const lastName = get(name, ['family'], null);\n            const addressArray = get(patientFromResponse, 'address', null);\n            const city = get(addressArray, [[0], 'city'], null);\n            const country = get(addressArray, [[0], 'country'], null);\n            const postCode = get(addressArray, [[0], 'postalCode'], null);\n            const line = get(addressArray, [[0], 'line', [0]], null);\n            const district = get(addressArray, [[0], 'district'], null);\n            return {\n                data: {\n                    id: id,\n                    prefix: prefix,\n                    firstName: firstName,\n                    lastName: lastName,\n                    name: [firstName, lastName].join(' '),\n                    totalAddress: [line, city, district, postCode].join(', '),\n                    address: line,\n                    city: city,\n                    country: country,\n                    district: district,\n                    postCode: postCode,\n                    birthDate: get(patientFromResponse, 'birthDate', null),\n                    department: get(patientFromResponse, 'department', null),\n                    gender: get(patientFromResponse, 'gender', null),\n                    source: get(patientFromResponse, ['identifier', [0], 'system'], null),\n                    nhsNumber: id,\n                    phone: get(patientFromResponse, 'telecom', null),\n                }\n            };\n\n        case UPDATE:\n            let newFirstName = get(params, 'data.firstName', null);\n            let newLastName = get(params, 'data.lastName', null);\n\n            let newAddressLine = get(params, 'data.address', null);\n            let newCity = get(params, 'data.city', null);\n            let newDistrict = get(params, 'data.district', null);\n            let newPostalCode = get(params, 'data.postCode', null);\n\n            let newData = params.data;\n            newData.name = [newFirstName, newLastName].join(' ');\n            newData.address = [newAddressLine, newCity, newDistrict, newPostalCode].join(' ');\n            newData.totalAddress = [newAddressLine, newCity, newDistrict, newPostalCode].join(' ');\n            return {\n                id: get(params, 'data.nhsNumber', null),\n                data: newData,\n                previousData: get(params, 'previousData', {})\n            };\n\n        case CREATE:\n            const dataFromRequest = get(params, 'data', null);\n            const compositionUid = get(response, 'compositionUid', null);\n            let sourceID = '';\n            if (compositionUid) {\n                const compositionUidArray = compositionUid.split('::');\n                sourceID = compositionUidArray[0];\n            }\n            dataFromRequest.id = Number(get(params, 'data.nhsNumber', null));\n            dataFromRequest.name = get(params, 'data.firstName', null) + ' ' + get(params, 'data.lastName', null);\n            let newAddress = get(params, 'data.address', null) + ' ' + get(params, 'data.city', null) + ' ' + get(params, 'data.district', null) + ' ' + get(params, 'data.postCode', null);\n            dataFromRequest.address = newAddress;\n            dataFromRequest.totalAddress = newAddress;\n            dataFromRequest.isNew = true;\n            if (!get(params, 'source', null)) {\n                dataFromRequest.source = 'ethercis';\n            }\n            return {\n                data: dataFromRequest,\n            };\n\n        default:\n            return { data: 'No results' };\n    }\n};\n\n/**\n * This function filters patients list by department\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {array} patientsArray\n * @return {Array}\n */\nfunction getPatientsList(patientsArray) {\n    let results = [];\n    patientsArray.forEach(item => {\n        let addressFromResponse = get(item, 'resource.address', null);\n        results.push({\n            id: get(item, ['resource', 'identifier', [0], 'value'], null),\n            name: getTotalName(item),\n            address: getTotalAddress(item),\n            totalAddress: getTotalAddress(item),\n            city: get(addressFromResponse, [[0], 'city'], null),\n            country: get(addressFromResponse, [[0], 'country'], null),\n            district: get(addressFromResponse, [[0], 'district'], null),\n            postCode: get(addressFromResponse, [[0], 'postalCode'], null),\n            birthDate: get(item, 'resource.birthDate', null),\n            department: get(item, 'resource.department', null),\n            gender: get(item, 'resource.gender', null),\n            nhsNumber: get(item, ['resource', 'identifier', [0], 'value'], null),\n            phone: get(item, 'resource.telecom', null),\n        });\n    });\n    return results;\n}\n\n/**\n * This function prepare total patient name (for table)\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}   item\n * @param {boolean} isSingle\n * @return {string}\n */\nfunction getTotalName(item, isSingle = null) {\n    const nameFromResponse = isSingle ? get(item, 'name', null) : get(item, 'resource.name', null);\n    const namesArray = get(nameFromResponse, [[0], 'given'], null);\n    const firstName = namesArray.join(' ');\n    const surname = get(nameFromResponse, [[0], 'family'], null);\n    return [firstName, surname].join(' ');\n}\n\n/**\n * This function prepare total patient address (for table)\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}   item\n * @param {boolean} isSingle\n * @return {string}\n */\nfunction getTotalAddress(item, isSingle) {\n    const addressFromResponse = isSingle ? get(item, 'address', null) : get(item, 'resource.address', null);\n    const addressArray = [\n        get(addressFromResponse, [[0], 'line', [0]], null),\n        get(addressFromResponse, [[0], 'city'], null),\n        get(addressFromResponse, [[0], 'district'], null),\n        get(addressFromResponse, [[0], 'postalCode'], null)\n    ];\n    return addressArray.join(', ');\n}\n\n/**\n * This function sorts response array\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {array}  results\n * @param {shape}  params\n * @return {array}\n */\nfunction getSortedResults(results, params) {\n    const sortField = get(params, 'sort.field', null);\n    const sortOrder = (get(params, 'sort.order', null) === 'DESC') ? DESC : ASC;\n    return sort(results, [sortField], sortOrder);\n}\n\nexport default (type, resource, params) => {\n    let { url, options } = convertPatientsDataRequestToHTTP(type, resource, params);\n    if (!url) {\n        return null;\n    }\n\n    let responseInfo = {};\n    return fetch(url, options).then(response => {\n        responseInfo.status = get(response, 'status', null);\n        return response.json();\n    })\n        .then(res => {\n            const search = get(params, 'filter.filterText', null);\n            if (responseInfo.status === 404 && search) {\n                responseInfo.errorMessage = 'No patient by that surname, please try again';\n                let errorString = responseInfo.status + '|' + responseInfo.errorMessage;\n                // throw new HttpError(errorString);\n            } else if (responseInfo.status !== 200) {\n                responseInfo.errorMessage = get(res, 'error', null);\n                let errorString = responseInfo.status + '|' + responseInfo.errorMessage;\n                throw new HttpError(errorString);\n            }\n            return convertPatientsHTTPResponse(res, type, resource, params)\n        })\n        .catch(err => {\n            console.log('Error: ', err);\n            throw new Error(err);\n        });\n};","import get from \"lodash/get\";\nimport { HttpError } from \"react-admin\";\n\nfunction getParamsByResource(resource) {\n    let paramsArray = [];\n    if (resource === 'allergies') {\n        paramsArray = [\n            { param: 'data.cause', label: 'Cause' },\n            { param: 'data.reaction', label: 'Reaction / Description' },\n            { param: 'data.causeCode', label: 'Terminology' },\n            { param: 'data.causeTerminology', label: 'Terminology Code' },\n        ];\n    } else if (resource === 'contacts') {\n        paramsArray = [\n            { param: 'data.name', label: 'Name' },\n            { param: 'data.relationship', label: 'Relationship' },\n            { param: 'data.relationshipCode', label: 'Relationship Type' },\n            { param: 'data.relationshipTerminology', label: 'Relationship Terminology' },\n            { param: 'data.contactInformation', label: 'Contact Information' },\n            { param: 'data.notes', label: 'Note' },\n        ];\n    } else if (resource === 'medications') {\n        paramsArray = [\n            { param: 'data.name', label: 'Name' },\n            { param: 'data.route', label: 'Route' },\n            { param: 'data.doseAmount', label: 'Dose Amount' },\n            { param: 'data.doseDirections', label: 'Dose Description' },\n            { param: 'data.doseTiming', label: 'Dose Timing' },\n            { param: 'data.medicationCode', label: 'Medication Description' },\n            { param: 'data.startDate', label: 'Start date' },\n        ];\n    }  else if (resource === 'problems') {\n        paramsArray = [\n            { param: 'data.problem', label: 'Problem / Issue' },\n            { param: 'data.dateOfOnset', label: 'Date of Onset' },\n            { param: 'data.description', label: 'Description' },\n            { param: 'data.code', label: 'Terminology Code' },\n            { param: 'data.terminology', label: 'Terminology' },\n        ];\n    } else if (resource === 'clinicalnotes') {\n        paramsArray = [\n            { param: 'data.clinicalNotesType', label: 'Type' },\n            { param: 'data.note', label: 'Note' },\n        ];\n    } else if (resource === 'events') {\n        paramsArray = [\n            { param: 'data.name', label: 'Name' },\n            { param: 'data.type', label: 'Type' },\n            { param: 'data.description', label: 'Notes' },\n            { param: 'data.dateTime', label: 'Event date' },\n        ];\n    } else if (resource === 'mdtreports') {\n        paramsArray = [\n            { param: 'data.serviceTeam', label: 'Service / Team' },\n            { param: 'data.dateOfRequest', label: 'Date of Request' },\n            { param: 'data.dateOfMeeting', label: 'Date of Meeting' },\n            { param: 'data.question', label: 'Question For MDT' },\n            { param: 'data.notes', label: 'Meeting Discussion' },\n        ];\n    } else if (resource === 'personalnotes') {\n        paramsArray = [\n            { param: 'data.noteType', label: 'Type' },\n            { param: 'data.notes', label: 'Note' },\n        ];\n    } else if (resource === 'procedures') {\n        paramsArray = [\n            { param: 'data.procedureName', label: 'Procedure Name' },\n            { param: 'data.date', label: 'Date of Procedure' },\n            { param: 'data.notes', label: 'Procedure Notes' },\n            { param: 'data.procedureTerminology', label: 'Terminology' },\n            { param: 'data.procedureCode', label: 'Code' },\n        ];\n    } else if (resource === 'referrals') {\n        paramsArray = [\n            { param: 'data.referralFrom', label: 'Referral From' },\n            { param: 'data.referralTo', label: 'Referral To' },\n            { param: 'data.dateOfReferral', label: 'Date of Referral' },\n            { param: 'data.referralReason', label: 'Reason for Referral' },\n            { param: 'data.referralSummary', label: 'Clinical Summary' },\n        ];\n    } else if (resource === 'top3Things') {\n        paramsArray = [\n            { param: 'data.name1', label: 'Issue #1' },\n            { param: 'data.name2', label: 'Issue #2' },\n            { param: 'data.name3', label: 'Issue #3' },\n            { param: 'data.description1', label: 'Description #1' },\n            { param: 'data.description2', label: 'Description #2' },\n            { param: 'data.description3', label: 'Description #3' },\n        ];\n    } else if (resource === 'vaccinations') {\n        paramsArray = [\n            { param: 'data.vaccinationName', label: 'Name' },\n            { param: 'data.vaccinationDateTime', label: 'Vaccination date' },\n            { param: 'data.series', label: 'Series' },\n            { param: 'data.comment', label: 'Comment' },\n        ];\n    }\n    return paramsArray;\n}\n\nexport function checkFormData(resource, params) {\n    let paramsArray = getParamsByResource(resource);\n    if (resource === 'medications') {\n        let currentDateObject = new Date();\n        let startDateObject = new Date(get(params, 'data.startDate', null));\n        if (startDateObject > currentDateObject) {\n            throw new HttpError('777|Please enter the correct Start Date');\n        }\n    }\n    let missedParamsArray = [];\n    for (let i = 0, n = paramsArray.length; i < n; i++) {\n        let item = paramsArray[i];\n        let value = get(params, item.param, null);\n        if (!value) {\n            missedParamsArray.push(item.label);\n        }\n    }\n    if (missedParamsArray.length > 0) {\n        const string = missedParamsArray.join(', ');\n        throw new HttpError('777|Please add ' + string);\n    }\n\n    return true;\n}","/**\n * This function create main request types\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param base\n * @param optional\n */\nexport function createRequestTypes(base, optional) {\n    for (let index in optional) {\n        optional[index] = base + '_' + index;\n    }\n\n    return {\n        REQUEST: base + '_REQUEST',\n        SUCCESS: base + '_SUCCESS',\n        FAILURE: base + '_FAILURE',\n        ...optional,\n    };\n}\n","import { createRequestTypes } from \"./functions\";\n\nexport const HTTP_ERROR_ACTION = createRequestTypes('HTTP_ERROR_ACTION', { SAVE: 'SAVE', REMOVE: 'REMOVE' });\n\nexport const httpErrorAction = {\n    save: data => ({ type: HTTP_ERROR_ACTION.SAVE, data }),\n    remove: data => ({ type: HTTP_ERROR_ACTION.REMOVE, data }),\n};\n","import get from \"lodash/get\";\nimport {\n    GET_LIST,\n    GET_ONE,\n    CREATE,\n    UPDATE,\n    HttpError,\n} from \"react-admin\";\nimport moment from \"moment\";\nimport sort, { ASC, DESC } from 'sort-array-objects';\n\nimport pluginFilters from \"../config/pluginFilters\";\nimport { token, domainName } from \"../token\";\n\nimport fakePatientsProvider from \"./fakePatientsProvider\";\n// import fakeTestResultsProvider from \"./fakeTestResultsProvider\";\n\nimport newPatientsProvider from \"./patientsProvider\";\nimport { checkFormData } from \"./functions\";\nimport { httpErrorAction } from '../actions/httpErrorAction';\n\nconst apiPatientsUser = 'api/patients';\n\n/**\n * This constant prepare data for requests (URL and options)\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}  type\n * @param {string} resource\n * @param {shape}  params\n */\nconst convertDataRequestToHTTP = (type, resource, params) => {\n    let url = \"\";\n    const options = {};\n    switch (type) {\n        case GET_LIST: {\n            url = `${domainName}/${apiPatientsUser}/${localStorage.getItem('patientId')}/${resource}`;\n            if (!options.headers) {\n                options.headers = new Headers({ Accept: 'application/json' });\n            }\n            options.headers = {\n                Authorization: \"Bearer \" + token,\n                'X-Requested-With': \"XMLHttpRequest\",\n            };\n            break;\n        }\n\n        case GET_ONE:\n            url = `${domainName}/${apiPatientsUser}/${localStorage.getItem('patientId')}/${resource}/${params.id}`;\n            if (!options.headers) {\n                options.headers = new Headers({ Accept: 'application/json' });\n            }\n            options.headers = {\n                Authorization: \"Bearer \" + token,\n                'X-Requested-With': \"XMLHttpRequest\",\n            };\n            break;\n\n        case UPDATE:\n\n            checkFormData(resource, params);\n\n            let updateData = Object.assign({userId: localStorage.getItem('patientId')}, params.data);\n\n            if (resource === 'problems') {\n                let dateCreated = get(params, 'data.dateCreated', null);\n                let dateOfOnset = get(params, 'data.dateOfOnset', null);\n                updateData.dateCreated = moment(dateCreated).format('DD-MM-YYYY');\n                updateData.dateOfOnset = moment(dateOfOnset).format('YYYY-MM-DD');\n            }\n\n            if (resource === 'medications') {\n                let startDate = get(params, 'data.startDate', null);\n                updateData.startDate = 1000 * moment(startDate).unix();\n            }\n\n            url = `${domainName}/${apiPatientsUser}/${localStorage.getItem('patientId')}/${resource}/${params.id}`;\n            options.method = \"PUT\";\n            if (!options.headers) {\n                options.headers = new Headers({ Accept: 'application/json' });\n            }\n            options.headers = {\n                Authorization: \"Bearer \" + token,\n                'Content-Type': 'application/json',\n                'X-Requested-With': \"XMLHttpRequest\",\n            };\n            options.body = JSON.stringify(updateData);\n            break;\n\n        case CREATE:\n\n            checkFormData(resource, params);\n\n            let newData = Object.assign({userId: localStorage.getItem('patientId')}, params.data);\n            url = `${domainName}/${apiPatientsUser}/${localStorage.getItem('patientId')}/${resource}`;\n            options.method = \"POST\";\n            if (!options.headers) {\n                options.headers = new Headers({ Accept: 'application/json' });\n            }\n            options.headers = {\n                Authorization: \"Bearer \" + token,\n                'Content-Type': 'application/json',\n                'X-Requested-With': \"XMLHttpRequest\",\n            };\n            options.body = JSON.stringify(newData);\n            break;\n\n        default:\n            throw new Error(`Unsupported fetch action type ${type}`);\n    }\n    return { url, options };\n};\n\n/**\n * This function extracts results from response\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}  response\n * @return {array}\n */\nfunction getResultsFromResponse(response) {\n    return response.map((item, id) => {\n        return Object.assign({\n            number: (id + 1),\n            id: item.sourceId\n        }, item);\n    });\n}\n\n/**\n * This function cheks is current item consider to filter condition\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}  item\n * @param {shape}  filters\n * @param {string} filterText\n * @return {boolean}\n */\nfunction isItemConsider(item, filters, filterText) {\n    let result = false;\n    filters.forEach(filterItem => {\n        let string = item[filterItem];\n        if (String(string).toLowerCase().search(filterText) >= 0) {\n            result = true;\n        }\n    });\n    return result;\n}\n\n/**\n * This function filters response array\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {string} resource\n * @param {array}  results\n * @param {shape}  params\n * @return {array}\n */\nfunction getFilterResults(resource, results, params) {\n    const filterText = get(params, 'filter.filterText', null);\n    const filters = pluginFilters[resource];\n    return !filterText ? results : results.filter(item => isItemConsider(item, filters, filterText));\n}\n\n/**\n * This function sorts response array\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {array}  results\n * @param {shape}  params\n * @return {array}\n */\nfunction getSortedResults(results, params) {\n    const sortField = get(params, 'sort.field', null);\n    const sortOrder = (get(params, 'sort.order', null) === 'DESC') ? DESC : ASC;\n    return sort(results, [sortField], sortOrder);\n}\n\n/**\n * This constant handle response data\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}  response\n * @param {shape}  type\n * @param {string} resource\n * @param {shape}  params\n */\nconst convertHTTPResponse = (response, type, resource, params) => {\n    switch (type) {\n\n        case GET_LIST:\n            const pageNumber = get(params, 'pagination.page', 1);\n            const numberPerPage = get(params, 'pagination.perPage', 10);\n            const results = getResultsFromResponse(response);\n            const resultsFiltering = getFilterResults(resource, results, params);\n            const resultsSorting = getSortedResults(resultsFiltering, params);\n            const startItem = (pageNumber - 1) * numberPerPage;\n            const endItem = pageNumber * numberPerPage;\n            const paginationResults = resultsSorting.slice(startItem, endItem);\n            return {\n                data: paginationResults,\n                total: results.length,\n            };\n\n        case GET_ONE:\n            return {\n                data: Object.assign({id: response.sourceId}, response),\n            };\n\n        case UPDATE:\n            return params;\n\n        case CREATE:\n            const dataFromRequest = get(params, 'data', null);\n            const compositionUid = get(response, 'compositionUid', null);\n            let sourceID = '';\n            if (compositionUid) {\n                const compositionUidArray = compositionUid.split('::');\n                sourceID = compositionUidArray[0];\n            }\n            dataFromRequest.id = get(response, 'host', null) + '-' + sourceID;\n            dataFromRequest.isNew = true;\n            if (!get(params, 'source', null)) {\n                dataFromRequest.source = 'ethercis';\n            }\n            return {\n                data: dataFromRequest,\n            };\n\n        default:\n            return { data: 'No results' };\n    }\n};\n\nconst dataProvider = (type, resource, params) => {\n    let { url, options } = convertDataRequestToHTTP(type, resource, params);\n    let responseInfo = '';\n    return fetch(url, options).then(response => {\n        responseInfo = get(response, 'status', null);\n        return response.json();\n    })\n        .then(res => {\n            if (responseInfo !== 200) {\n                responseInfo += '|' + get(res, 'error', null);\n                throw new HttpError(responseInfo);\n            }\n            return convertHTTPResponse(res, type, resource, params)\n        })\n        .catch(err => {\n            console.log('Error: ', err);\n            throw new Error(err);\n        });\n};\n\n/**\n * This function provides requests/response to server\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}  type\n * @param {string} resource\n * @param {shape}  params\n */\nexport default (type, resource, params) => {\n    // if (resource === `patients`) {\n    //     return fakePatientsProvider(type, resource, params);\n    // }\n    if (resource === `patients`) {\n        return newPatientsProvider(type, resource, params);\n    }\n    // if (resource === `labresults`) {\n    //     return fakeTestResultsProvider(type, resource, params);\n    // }\n    return dataProvider(type, resource, params);\n};","import get from \"lodash/get\";\nimport jwt from \"jsonwebtoken\";\nimport { AUTH_LOGIN, AUTH_LOGOUT, AUTH_ERROR, AUTH_CHECK, AUTH_GET_PERMISSIONS } from 'react-admin';\n\nimport { token, domainName } from \"../token\";\n\nconst OLD_PATIENT_DELAY = 1000;\nconst NEW_PATIENT_DELAY = 5000;\n\nconst url = domainName + '/api/initialise';\nlet options = {};\nif (!options.headers) {\n    options.headers = new Headers({ Accept: 'application/json' });\n}\noptions.headers = {\n    'X-Requested-With': \"XMLHttpRequest\",\n};\n\nconst FetchLogin = (resolve, reject) => {\n    fetch(url, options)\n        .then(res => res.json())\n        .then(response => {\n            if (get(response, 'status', null) !== 'loading_data') {\n                const decodeToken = jwt.decode(token);\n                const userName = get(decodeToken, 'openid.firstName', null) + ' ' + get(decodeToken, 'openid.lastName', null);\n                const role = ('phrUser' === get(decodeToken, 'openid.role', null)) ? 'PHR' : 'IDCR';\n                localStorage.setItem('userId', decodeToken.nhsNumber);\n                localStorage.setItem('patientId', decodeToken.nhsNumber);\n                localStorage.setItem('username', userName);\n                localStorage.setItem('role', role);\n                return resolve(true);\n            }\n            const isNewPatient = get(response, 'new_patient', false);\n            const delay = isNewPatient ? NEW_PATIENT_DELAY : OLD_PATIENT_DELAY;\n            setTimeout(() => FetchLogin(resolve, reject), delay);\n        });\n};\n\nexport default async (type, params) => {\n\n    if (type === AUTH_LOGOUT) {\n        if (localStorage.getItem('userId') && token) {\n            const urlLogout = domainName + '/api/logout';\n            fetch(urlLogout, options)\n                .then(res => res.json())\n                .then(response => {\n                    document.cookie = 'JSESSIONID=;';\n                    localStorage.removeItem('userId');\n                    localStorage.removeItem('patientId');\n                    localStorage.removeItem('username');\n                    localStorage.removeItem('role');\n                    window.location = get(response, 'redirectURL', '');\n                });\n        }\n        return Promise.resolve();\n    }\n\n    if (type === AUTH_ERROR) {\n        return Promise.resolve();\n    }\n\n    if (type === AUTH_CHECK) {\n        if (localStorage.getItem('userId') && token) {\n            return Promise.resolve();\n        } else if (token) {\n            new Promise(FetchLogin).then(res => {\n                window.location.href = '/';\n            });\n        }\n        return Promise.reject();\n    }\n\n    return Promise.reject(\"Wrong login or password\");\n};","import { createRequestTypes } from \"./functions\";\n\nexport const COLUMNS_TOGGLING_ACTION = createRequestTypes('COLUMNS_TOGGLING_ACTION', { TOGGLE: 'TOGGLE', REMOVE: 'REMOVE' });\n\nexport const columnsTogglingAction = {\n    toggle: (resource, columnName, value) => ({ type: COLUMNS_TOGGLING_ACTION.TOGGLE, resource, columnName, value }),\n    remove: data => ({ type: COLUMNS_TOGGLING_ACTION.REMOVE, data }),\n};","import { createRequestTypes } from \"../../core/actions/functions\";\n\nexport const USER_SEARCH_ACTION = createRequestTypes('USER_SEARCH_ACTION', { REMOVE: 'REMOVE', REQUEST_ID: 'REQUEST_ID', SEARCH_BY: 'SEARCH_BY' });\n\nexport const userSearchAction = {\n    request: data => ({ type: USER_SEARCH_ACTION.REQUEST, data }),\n    requestId: data => ({ type: USER_SEARCH_ACTION.REQUEST_ID, data }),\n    searchBy: (searchType, value) => ({ type: USER_SEARCH_ACTION.SEARCH_BY, searchType, value }),\n    remove: data => ({ type: USER_SEARCH_ACTION.REMOVE, data }),\n};","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nimport { userSearchAction } from \"../actions/userSearchAction\";\n\nconst styles = theme => ({\n    breadcrumbsBlock: {\n        display: \"flex\",\n        height: 48,\n        alignItems: \"center\",\n        border: `1px solid ${theme.palette.borderColor}`,\n        paddingLeft: 10,\n        backgroundColor: \"#fff\",\n    },\n    separator: {\n        width: 0,\n        height: 0,\n        borderTop: \"5px solid transparent\",\n        borderBottom: \"5px solid transparent\",\n        borderLeft: \"5px solid black\",\n        marginLeft: 8,\n        marginRight: 8,\n        marginTop: 5,\n    },\n    link: {\n        textDecoration: \"none\",\n        color: theme.palette.secondaryMainColor,\n        cursor: \"pointer\",\n    },\n    breadcrumbsItem: {\n        display: \"flex\",\n    }\n});\n\n/**\n * This component returns breadcrumbs block\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nclass Breadcrumbs extends Component {\n\n    goHomePage = () => {\n        this.props.removeUserSearch();\n        window.location.replace('/#/');\n    };\n\n    render() {\n        const { classes, resource } = this.props;\n        return (\n            <div id=\"breadcrumbs\" className={classes.breadcrumbsBlock}>\n                <Typography className={classes.link} onClick={() => this.goHomePage()}>Home</Typography>\n                {\n                    resource.map((item, key) => {\n                        return (\n                            <div key={key} className={classes.breadcrumbsItem}>\n                                <div className={classes.separator}></div>\n                                {item.isActive\n                                    ?\n                                    <Typography>\n                                        <Link to={item.url} className={classes.link} aria-label={item.title} color=\"inherit\">{item.title}</Link>\n                                    </Typography>\n                                    : (item.onClickAction\n                                            ? <Typography className={classes.link} onClick={() => item.onClickAction()}>{item.title}</Typography>\n                                            : <Typography>{item.title}</Typography>\n                                    )\n                                }\n                            </div>\n                        );\n                    })\n                }\n            </div>\n        );\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        removeUserSearch() {\n            dispatch(userSearchAction.remove());\n        },\n    }\n};\n\nexport default withStyles(styles)(connect(null, mapDispatchToProps)(Breadcrumbs));","import { createRequestTypes } from \"../../core/actions/functions\";\n\nexport const CONTRAST_MODE_ACTION = createRequestTypes('CONTRAST_MODE_ACTION');\n\nexport const contrastModeAction = {\n    request: data => ({ type: CONTRAST_MODE_ACTION.REQUEST, data }),\n};\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport ContrastIcon from '@material-ui/icons/Tonality';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport { contrastModeAction } from \"../../actions/contrastModeAction\";\n\n/**\n * Thic component returns Contrast Mode button\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nclass ContrastMode extends Component {\n\n    state = {\n        isContrastMode: false,\n    };\n\n    toggleContrastMode = () => {\n        this.setState(\n            state => ({ isContrastMode: !this.state.isContrastMode }),\n            () => this.props.contrastModeAction(this.state.isContrastMode)\n        );\n    };\n\n    render() {\n        const { classes, contrastMode } = this.props;\n        return (\n            <div className={classes.rightBlockItem}>\n                <Tooltip title=\"Contrast mode\">\n                    <IconButton\n                        className={classes.rightBlockButton}\n                        aria-haspopup=\"true\"\n                        color=\"inherit\"\n                        onClick={this.toggleContrastMode}\n                        aria-label=\"Contrast mode\"\n                    >\n                        <ContrastIcon />\n                    </IconButton>\n                </Tooltip>\n            </div>\n        );\n    }\n};\n\nconst mapStateToProps = state => {\n    return {\n        contrastMode: state.custom.contrastMode.data,\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        contrastModeAction(mode) {\n            dispatch(contrastModeAction.request(mode));\n        },\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ContrastMode);\n","import React from \"react\";\nimport { connect } from 'react-redux';\nimport { userLogout } from 'react-admin';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport ExitIcon from '@material-ui/icons/ExitToApp';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nconst styles = theme => ({\n    button: {\n        display: \"block\",\n        width: 140,\n        height: 40,\n        margin: \"8px !important\",\n        color: \"white\",\n        backgroundColor: theme.palette.secondaryMainColor,\n        border: `1px solid ${theme.palette.secondaryMainColor}`,\n        borderRadius: theme.isRectangleButtons ? 0 : 25,\n        fontSize: 16,\n        fontWeight: 800,\n        \"&:hover\": {\n            color: theme.palette.secondaryMainColor,\n            backgroundColor: \"white\",\n        },\n    },\n    icon: {\n        marginLeft: 10,\n    },\n});\n\n/**\n * This component returns custom Logout button\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}   classes\n * @param {func}    userLogout\n * @param {string}  title\n * @param {boolean} hideIcon\n */\nconst CustomLogoutButton = ({ classes, userLogout, title = \"Sign Out\", hideIcon }) => {\n    return (\n        <Tooltip title={title}>\n            <IconButton id=\"signOut\" className={classes.button} onClick={() => userLogout()} aria-label=\"Sign Out\">\n                {title}\n                { !hideIcon && <ExitIcon className={classes.icon} /> }\n            </IconButton>\n        </Tooltip>\n    );\n};\n\nconst mapDispatchToProps = {\n    userLogout,\n};\n\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(CustomLogoutButton));\n","import React, { Component } from \"react\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from '@material-ui/core/IconButton';\nimport Popover from '@material-ui/core/Popover';\nimport Card from '@material-ui/core/Card';\nimport PersonIcon from '@material-ui/icons/Person';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport CustomLogoutButton from \"../../../../core/common/Buttons/CustomLogoutButton\";\n\nconst styles = {\n    userPanel: {\n        minWidth: 220,\n        padding: 12,\n    },\n    userName: {\n        marginBottom: 7,\n        fontSize: 18,\n        fontWeight: 800,\n    },\n    userRole: {\n        fontSize: 14,\n        marginBottom: 7,\n    }\n};\n\n/**\n * This component returns User panel popover\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nclass UserPanelButton extends Component {\n\n    constructor(props) {\n        super(props);\n        this.button = React.createRef();\n    }\n\n    state = {\n        anchorEl: null,\n        isOpen: false,\n    };\n\n    handleMenu = () => {\n        this.setState(state => ({\n            anchorEl: this.button.current,\n            isOpen: !state.isOpen,\n        }));\n    };\n\n    handleClose = () => {\n        this.setState(state => ({\n            anchorEl: null,\n            isOpen: !state.isOpen,\n        }));\n    };\n\n    render() {\n        const { classes } = this.props;\n        const { isOpen, anchorEl } = this.state;\n        return (\n            <div className={classes.rightBlockItem} ref={this.button}>\n                <Tooltip title=\"User panel\">\n                    <IconButton\n                        id=\"icon-profile\"\n                        className={classes.rightBlockButton}\n                        aria-owns={isOpen ? 'menu-appbar' : undefined}\n                        aria-haspopup=\"true\"\n                        onClick={this.handleMenu.bind(this)}\n                        color=\"inherit\"\n                        aria-label=\"User Panel\"\n                    >\n                        <PersonIcon />\n                    </IconButton>\n                </Tooltip>\n                <Popover\n                    id=\"menu-appbar\"\n                    anchorEl={anchorEl}\n                    anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\n                    transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n                    open={isOpen}\n                    onClose={this.handleClose} >\n                    <Card id=\"userPanel\" className={classes.userPanel}>\n                        <Typography variant=\"h1\" className={classes.userName}>\n                            {localStorage.getItem('username')}\n                        </Typography>\n                        <Typography className={classes.userRole}>\n                            <span>User role:</span> {localStorage.getItem('role')}\n                        </Typography>\n                        <CustomLogoutButton classes={classes} />\n                    </Card>\n                </Popover>\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(UserPanelButton);\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport helmLogo from \"../../../images/helm-logo.png\";\nimport nhsLogo from \"../../../images/nhs.png\";\nimport ContrastMode from \"../../../features/ContrastMode\";\nimport UserPanelButton from \"./UserPanelButton\";\nimport { userSearchAction } from \"../../../../core/actions/userSearchAction\";\n\nconst styles = theme => ({\n    topPart: {\n        display: \"flex\",\n        backgroundColor: \"white\",\n        justifyContent: \"space-around\",\n        border: `1px solid ${theme.palette.borderColor}`,\n        minHeight: 54,\n        padding: 0,\n    },\n    homeButtonItem: {\n        display: \"inline-flex\",\n        position: \"relative\",\n        minHeight: 54,\n        minWidth: 54,\n        backgroundColor: theme.palette.mainColor,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    homeButton : {\n        color: \"white\",\n    },\n    mainLogoItem: {\n        display: \"inline-flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        paddingLeft: 9,\n    },\n    image: {\n        width: \"auto\",\n        cursor: \"pointer\",\n    },\n    nhsLogo: {\n        [theme.breakpoints.only('xs')]: {\n            display: \"none\",\n        },\n        width: \"auto\",\n        maxWidth: \"100%\",\n        marginRight: 24\n    },\n    rightBlockItem: {\n        display: \"inline-flex\",\n        position: \"relative\",\n        minHeight: 54,\n        minWidth: 54,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        borderLeft: `1px solid ${theme.palette.borderColor}`,\n        '&:hover': {\n            backgroundColor: theme.palette.mainColor,\n        },\n        '&:active': {\n            backgroundColor: theme.palette.mainColor,\n        },\n        '&:hover button': {\n            color: \"white\",\n        },\n        '&:active button': {\n            color: \"white\",\n        },\n        '&:hover a': {\n            color: \"white\",\n        },\n        '&:active a': {\n            color: \"white\",\n        },\n    },\n    rightBlockButton: {\n        color: theme.palette.mainColor,\n        '&:hover': {\n            color: \"white\",\n        },\n    },\n    emptyBlock: {\n        flexGrow: 1,\n    }\n});\n\n/**\n * This component returns Top part of Helm Topbar\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nclass TopPart extends Component {\n\n    goHomePage = () => {\n        this.props.removeUserSearch();\n        window.location.replace('/#/');\n    };\n\n    render() {\n        const { classes, location } = this.props;\n        return (\n            <Toolbar id=\"topbarTopPart\" className={classes.topPart}>\n                <div className={classes.homeButtonItem}>\n                    <Tooltip title=\"Home\">\n                        <IconButton id=\"icon-home\" aria-label=\"Home\" className={classes.homeButton} onClick={() => this.goHomePage()}>\n                            <HomeIcon />\n                        </IconButton>\n                    </Tooltip>\n                </div>\n                <div className={classes.mainLogoItem}>\n                    <CardMedia\n                        id=\"logo-image\"\n                        className={classes.image}\n                        component=\"img\"\n                        alt=\"Pulse Tile\"\n                        height=\"38px\"\n                        image={helmLogo}\n                        title=\"Pulse Tile\"\n                        onClick={() => this.goHomePage()}\n                    />\n                </div>\n                <div className={classes.emptyBlock}></div>\n                <CardMedia\n                    className={classes.nhsLogo}\n                    component=\"img\"\n                    alt=\"Pulse Tile\"\n                    height=\"29px\"\n                    image={nhsLogo}\n                    title=\"Pulse Tile\"\n                />\n                <ContrastMode classes={classes} />\n                <UserPanelButton classes={classes} />\n            </Toolbar>\n        );\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        removeUserSearch() {\n            dispatch(userSearchAction.remove());\n        },\n    }\n};\n\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(TopPart));","import React from \"react\";\nimport get from \"lodash/get\";\n\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\n/**\n * This component returnts banner with Patient information\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {shape} patientInfo\n * @constructor\n */\nconst PatientBanner = ({ classes, patientInfo }) => {\n    const addressArray = [\n        get(patientInfo, 'address', null),\n    ];\n    const doctor = get(patientInfo, 'gpName', null);\n    const dateOfBirth = get(patientInfo, 'birthDate', null);\n    return (\n        <Grid id=\"patientBanner\" className={classes.patientInfo} container spacing={24}>\n            <Grid className={classes.gridBlock} item xs={12} lg={8}>\n                <Typography id=\"patientBanner-name\" variant=\"h6\" className={classes.patientNameBlock}>\n                    <span className={classes.keyName}>{get(patientInfo, 'name', null)}</span>\n                </Typography>\n                { doctor &&\n                    <Typography id=\"patientBanner-doctor\" variant=\"body2\">\n                        <span className={classes.keyName}>Doctor: </span>\n                        <span className={classes.keyName}>{doctor}</span>\n                    </Typography>\n                }\n                <Typography id=\"patientBanner-address\" variant=\"body2\">\n                    <span className={classes.keyName}>Address: </span>\n                    <span className={classes.keyName}>{addressArray.join(', ')}</span>\n                </Typography>\n            </Grid>\n            <Grid className={classes.gridBlock} item xs={6} lg={2}>\n                {\n                    dateOfBirth &&\n                        <Typography variant=\"body2\">\n                            <span className={classes.keyName}>D.O.B.: </span>\n                            <span className={classes.keyName}>{dateOfBirth}</span>\n                        </Typography>\n                }\n                <Typography id=\"patientBanner-phone\" variant=\"body2\">\n                    <span className={classes.keyName}>Phone: </span>\n                    <span className={classes.keyName}>{get(patientInfo, 'phone', null)}</span>\n                </Typography>\n            </Grid>\n            <Grid className={classes.gridBlock} item xs={6} lg={2}>\n                <Typography id=\"patientBanner-gender\" variant=\"body2\">\n                    <span className={classes.keyName}>Gender: </span>\n                    <span className={classes.keyName}>{ get(patientInfo, 'gender', null) }</span>\n                </Typography>\n                <Typography id=\"patientBanner-nhsNumber\" variant=\"body2\">\n                    <span className={classes.keyName}>NHS No.: </span>\n                    <span className={classes.keyName}>{ get(patientInfo, 'nhsNumber', null) }</span>\n                </Typography>\n            </Grid>\n        </Grid>\n    );\n};\n\nexport default PatientBanner;","import React, { Component } from \"react\";\n\nimport get from \"lodash/get\";\nimport moment from \"moment\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSortDown } from '@fortawesome/free-solid-svg-icons';\n\nconst styles = theme => ({\n    menuAndBannerMobile: {\n        [theme.breakpoints.up('md')]: {\n            display: \"none\",\n        },\n        display: \"flex\",\n        width: \"100%\",\n        minHeight: \"auto\",\n        flexDirection: \"row\",\n        padding: 0,\n        justifyContent: \"space-between\",\n        backgroundColor: theme.palette.paperColor,\n    },\n    mobileMenuButton: {\n        color: theme.palette.mainColor,\n    },\n    iconArrowDown: {\n        color: theme.palette.fontColor,\n        paddingTop: 15,\n        paddingRight: 15,\n    },\n    patientBannerMobile: {\n        paddingLeft: 15,\n        backgroundColor: theme.palette.paperColor,\n        width: \"100%\",\n        minHeight: \"auto\",\n        '& span': {\n            color: theme.palette.fontColor,\n        },\n    },\n    patientName: {\n        paddingTop: 15,\n        color: theme.palette.fontColor,\n    },\n    bannerRow: {\n        marginBottom: 5,\n    },\n});\n\nconst MenuButtonMobile = ({ classes, setSidebarVisibility, isSidebarOpen }) => (\n    <Tooltip title={isSidebarOpen ? 'Menu' : 'Close'}>\n        <IconButton\n            className={classes.mobileMenuButton}\n            aria-haspopup=\"true\"\n            color=\"inherit\"\n            onClick={() => setSidebarVisibility(!isSidebarOpen)}\n            aria-label={isSidebarOpen ? 'Menu' : 'Close'}\n        >\n            { isSidebarOpen ? <MenuIcon /> : <CloseIcon /> }\n        </IconButton>\n    </Tooltip>\n);\n\nclass MobileMenu extends Component {\n\n    state = {\n        isMobileBannerOpened: false,\n    };\n\n    toggleMobileBanner = () => {\n        this.setState({\n            isMobileBannerOpened: !this.state.isMobileBannerOpened,\n        });\n    };\n\n    render() {\n        const { classes, setSidebarVisibility, isSidebarOpen, patientInfo } = this.props;\n        const { isMobileBannerOpened } = this.state;\n        return (\n            <React.Fragment>\n                <div className={classes.menuAndBannerMobile}>\n                    <MenuButtonMobile classes={classes} setSidebarVisibility={setSidebarVisibility} isSidebarOpen={isSidebarOpen} />\n                    <Typography variant=\"h6\" className={classes.patientName}>{get(patientInfo, 'name', null)}</Typography>\n                    <FontAwesomeIcon icon={faSortDown} size=\"1x\" className={classes.iconArrowDown} onClick={() => this.toggleMobileBanner()} />\n                </div>\n                { isMobileBannerOpened &&\n                    <div className={classes.patientBannerMobile}>\n                        <Typography variant=\"body2\" className={classes.bannerRow}>\n                            <span>Doctor: </span>\n                            {get(patientInfo, 'gpName', null)}\n                        </Typography>\n                        <Typography variant=\"body2\" className={classes.bannerRow}>\n                            <span>D.O.B.: </span>\n                            { moment(get(patientInfo, 'dateOfBirth', null)).format('DD-MMM-YYYY') }</Typography>\n                        <Typography variant=\"body2\" className={classes.bannerRow}>\n                            <span>Phone: </span>\n                            {get(patientInfo, 'phone', null)}\n                        </Typography>\n                        <Typography variant=\"body2\" className={classes.bannerRow}>\n                            <span>Gender: </span>\n                            { get(patientInfo, 'gender', null) }\n                        </Typography>\n                        <Typography variant=\"body2\" className={classes.bannerRow}>\n                            <span>NHS No.: </span>\n                            { get(patientInfo, 'nhsNumber', null) }</Typography>\n                        <Typography variant=\"body2\" className={classes.bannerRow}>\n                            <span>Address: </span>\n                            {get(patientInfo, 'address', null)}\n                        </Typography>\n                    </div>\n                }\n            </React.Fragment>\n        )\n    }\n}\n\nexport default withStyles(styles)(MobileMenu);\n","import { createRequestTypes } from \"./functions\";\n\nexport const DEMOGRAPHICS_ACTION = createRequestTypes('DEMOGRAPHICS_ACTION');\n\nexport const demographicsAction = {\n    request: data => ({ type: DEMOGRAPHICS_ACTION.REQUEST, data }),\n    success: data => ({ type: DEMOGRAPHICS_ACTION.SUCCESS, data }),\n    error:   error => ({ type: DEMOGRAPHICS_ACTION.FAILURE, error }),\n};\n","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport { connect } from 'react-redux';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport PatientBanner from \"../../../../core/common/Topbar/fragments/PatientBanner\";\nimport MobileMenu from \"./MobileMenu\";\n\nimport { demographicsAction } from \"../../../../core/actions/demographicsAction\";\n\nconst styles = theme => ({\n    lowPart: {\n        display: \"flex\",\n        minHeight: \"auto\",\n        flexDirection: \"column\",\n        padding: 0,\n    },\n    menuAndBanner: {\n        [theme.breakpoints.only('xs')]: {\n            display: \"none\",\n        },\n        display: \"flex\",\n        width: \"100%\",\n        minHeight: \"auto\",\n        border: `1px solid ${theme.palette.borderColor}`,\n        padding: 0,\n        backgroundColor: \"white\",\n        justifyContent: \"space-between\",\n    },\n    menuButtonBlock: {\n        display: \"inline-flex\",\n        position: \"relative\",\n        minWidth: 238,\n        minHeight: 90,\n        borderRight: `1px solid ${theme.palette.borderColor}`,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    menuButton: {\n        borderRadius: 15,\n        minWidth: 64,\n        color: theme.palette.mainColor,\n        textTransform: \"none\",\n        backgroundColor: \"white\",\n        '&:hover': {\n            backgroundColor: theme.palette.mainColor,\n            color: \"white\",\n        },\n        '&:active': {\n            backgroundColor: theme.palette.mainColor,\n            color: \"white\",\n        },\n    },\n    title: {\n        display: \"block\",\n        width: \"100%\",\n        flexGrow: 1,\n        color: \"white\",\n        backgroundColor: theme.palette.mainColor,\n        textAlign: \"center\",\n        paddingTop: 5,\n        paddingBottom: 5,\n        fontWeight: 800,\n    },\n    patientInfo: {\n        color: \"black\",\n        padding: \"11px 14px\",\n        marginLeft: 5,\n    },\n    gridBlock: {\n        padding: \"0px !important\",\n        marginTop: 5,\n        marginBottom: 5,\n    },\n});\n\n/**\n * This component returns button which toggle sidebar menu\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}   classes\n * @param {func}    setSidebarVisibility\n * @param {boolean} isSidebarOpen\n * @constructor\n */\nconst MenuButton = ({ classes, setSidebarVisibility, isSidebarOpen }) => {\n    return (\n        <div className={classes.menuButtonBlock}>\n            <Button aria-label={!isSidebarOpen ? 'Menu' : 'Close'} variant=\"contained\" color=\"primary\" className={classes.menuButton} onClick={() => setSidebarVisibility(!isSidebarOpen)}>\n                { !isSidebarOpen ? <MenuIcon /> : <CloseIcon /> }\n                { !isSidebarOpen ? 'Menu' : 'Close' }\n            </Button>\n        </div>\n    );\n};\n\n/**\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} location\n * @return {boolean}\n */\nexport function pageHasTitle(location) {\n    const pathName = location.pathname;\n    const pagesWithTitle = [\n        '/charts',\n    ];\n    return pagesWithTitle.indexOf(pathName) !== -1;\n}\n\n/**\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} location\n * @return {boolean}\n */\nexport function pageHasPatientBanner(location) {\n    const pathName = location.pathname;\n    const pathArray = pathName.split('/');\n    const currentResource = get(pathArray, [1], null);\n    const pagesWithTitle = [\n        'charts',\n        'patients'\n    ];\n    return pagesWithTitle.indexOf(currentResource) !== -1;\n}\n\n/**\n * This component returns low part of Showcase TopBar\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @constructor\n */\nclass LowPart extends Component {\n\n    componentDidMount() {\n        if (localStorage.getItem('patientId')) {\n            this.props.getCurrentPatientAction();\n        }\n    }\n\n    componentWillMount() {\n        this.props.setSidebarVisibility(true);\n    }\n\n    render() {\n        const { classes, isSidebarOpen, setSidebarVisibility, location, patientInfo } = this.props;\n        const isPageHasTitle = pageHasTitle(location);\n        const isPageHasPatientBanner = pageHasPatientBanner(location);\n        return (\n            <Toolbar className={classes.lowPart}>\n                <div className={classes.menuAndBanner}>\n                    <MenuButton classes={classes} setSidebarVisibility={setSidebarVisibility} isSidebarOpen={isSidebarOpen} />\n                    {\n                        !isPageHasPatientBanner &&\n                        <PatientBanner location={location} classes={classes} patientInfo={patientInfo} />\n                    }\n                </div>\n                <MobileMenu\n                    isPageHasPatientBanner={isPageHasPatientBanner}\n                    setSidebarVisibility={setSidebarVisibility}\n                    isSidebarOpen={isSidebarOpen}\n                    patientInfo={patientInfo}\n                />\n            </Toolbar>\n        );\n    }\n\n};\n\nconst mapStateToProps = state => {\n    return {\n        patientInfo: get(state, 'custom.demographics.data', null),\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        getCurrentPatientAction() {\n            dispatch(demographicsAction.request());\n        },\n    }\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(LowPart));","import React, { Component } from 'react';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport TopPart from \"./fragments/TopPart\";\nimport LowPart from \"./fragments/LowPart\";\n\nconst styles = {\n    appBar: {\n        boxShadow: \"none\",\n    }\n};\n\n/**\n * This is common component for theme TopBar\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nconst ThemeTopBar = ({ classes, ...rest }) => {\n    return (\n        <AppBar position=\"static\" className={classes.appBar}>\n            <TopPart {...rest} />\n            <LowPart {...rest} />\n        </AppBar>\n    );\n};\n\nexport default withStyles(styles)(ThemeTopBar);","import { createRequestTypes } from \"./functions\";\n\nexport const SYNOPSIS_ALLERGIES_ACTION = createRequestTypes('SYNOPSIS_ALLERGIES_ACTION');\nexport const SYNOPSIS_CONTACTS_ACTION = createRequestTypes('SYNOPSIS_CONTACTS_ACTION');\nexport const SYNOPSIS_MEDICATIONS_ACTION = createRequestTypes('SYNOPSIS_MEDICATIONS_ACTION');\nexport const SYNOPSIS_PROBLEMS_ACTION = createRequestTypes('SYNOPSIS_PROBLEMS_ACTION');\n\nexport const synopsisAllergiesAction = {\n    request: data => ({ type: SYNOPSIS_ALLERGIES_ACTION.REQUEST, data }),\n    success: data => ({ type: SYNOPSIS_ALLERGIES_ACTION.SUCCESS, data }),\n    error:   error => ({ type: SYNOPSIS_ALLERGIES_ACTION.FAILURE, error }),\n};\n\nexport const synopsisContactsAction = {\n    request: data => ({ type: SYNOPSIS_CONTACTS_ACTION.REQUEST, data }),\n    success: data => ({ type: SYNOPSIS_CONTACTS_ACTION.SUCCESS, data }),\n    error:   error => ({ type: SYNOPSIS_CONTACTS_ACTION.FAILURE, error }),\n};\n\nexport const synopsisMedicationsAction = {\n    request: data => ({ type: SYNOPSIS_MEDICATIONS_ACTION.REQUEST, data }),\n    success: data => ({ type: SYNOPSIS_MEDICATIONS_ACTION.SUCCESS, data }),\n    error:   error => ({ type: SYNOPSIS_MEDICATIONS_ACTION.FAILURE, error }),\n};\n\nexport const synopsisProblemsAction = {\n    request: data => ({ type: SYNOPSIS_PROBLEMS_ACTION.REQUEST, data }),\n    success: data => ({ type: SYNOPSIS_PROBLEMS_ACTION.SUCCESS, data }),\n    error:   error => ({ type: SYNOPSIS_PROBLEMS_ACTION.FAILURE, error }),\n};\n\n","import { createRequestTypes } from \"../../core/actions/functions\";\n\nexport const SYNOPSIS_TOP_THREE_THINGS_ACTION = createRequestTypes('SYNOPSIS_TOP_THREE_THINGS_ACTION');\nexport const SYNOPSIS_VACCINATIONS_ACTION = createRequestTypes('SYNOPSIS_VACCINATIONS_ACTION');\n\nexport const synopsisTopThreeThingsAction = {\n    request: data => ({ type: SYNOPSIS_TOP_THREE_THINGS_ACTION.REQUEST, data }),\n    success: data => ({ type: SYNOPSIS_TOP_THREE_THINGS_ACTION.SUCCESS, data }),\n    error:   error => ({ type: SYNOPSIS_TOP_THREE_THINGS_ACTION.FAILURE, error }),\n};\n\nexport const synopsisVaccinationsAction = {\n    request: data => ({ type: SYNOPSIS_VACCINATIONS_ACTION.REQUEST, data }),\n    success: data => ({ type: SYNOPSIS_VACCINATIONS_ACTION.SUCCESS, data }),\n    error:   error => ({ type: SYNOPSIS_VACCINATIONS_ACTION.FAILURE, error }),\n};\n","import {faNotesMedical, faSyringe, faUserMd} from '@fortawesome/free-solid-svg-icons';\n\nimport { synopsisVaccinationsAction, synopsisTopThreeThingsAction } from \"../actions/synopsisActions\";\n\nexport const nonCoreSynopsisActions = [\n    // synopsisVaccinationsAction,\n    synopsisTopThreeThingsAction,\n];\n\nexport const nonCoreSynopsisData = [\n    // {\n    //     id: \"block-vaccinations\",\n    //     title: \"Vaccinations\",\n    //     list: \"vaccinations\",\n    //     icon: faSyringe,\n    //     isActive: true,\n    //     isSynopsis: true,\n    //     description: \"A record of the immunisations/vaccines you have had to help you avoid ill health\",\n    // },\n    {\n        id: \"block-top3Things\",\n        title: \"Top Three Things\",\n        list: \"top3Things\",\n        icon: faUserMd,\n        isActive: true,\n        isSynopsis: true,\n        description: \"A place to record the top 3 issues that concern you today\",\n    },\n];","import { createRequestTypes } from \"./functions\";\n\nexport const EMERGENCY_SUMMARY_ACTION = createRequestTypes('EMERGENCY_SUMMARY_ACTION');\n\nexport const emergencySummaryAction = {\n    request: (resource, patientId) => ({ type: EMERGENCY_SUMMARY_ACTION.REQUEST, resource, patientId }),\n    success: data => ({ type: EMERGENCY_SUMMARY_ACTION.SUCCESS, data }),\n    error:   error => ({ type: EMERGENCY_SUMMARY_ACTION.FAILURE, error }),\n};\n","import { createRequestTypes } from \"./functions\";\n\nexport const CURRENT_PATIENT_ACTION = createRequestTypes('CURRENT_PATIENT_ACTION', {\n    REQUEST_PHOTO: 'REQUEST_PHOTO',\n    SUCCESS_PHOTO: 'SUCCESS_PHOTO',\n    FAILURE_PHOTO: 'FAILURE_PHOTO'\n});\n\nexport const currentPatientAction = {\n    request: data => ({ type: CURRENT_PATIENT_ACTION.REQUEST, data }),\n    success: data => ({ type: CURRENT_PATIENT_ACTION.SUCCESS, data }),\n    error:   error => ({ type: CURRENT_PATIENT_ACTION.FAILURE, error }),\n    requestPhoto: data => ({ type: CURRENT_PATIENT_ACTION.REQUEST_PHOTO, data }),\n    successPhoto: data => ({ type: CURRENT_PATIENT_ACTION.SUCCESS_PHOTO, data }),\n    errorPhoto: data => ({ type: CURRENT_PATIENT_ACTION.FAILURE_PHOTO, data }),\n};","import React from \"react\";\nimport get from \"lodash/get\";\n\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\n\nimport { themeCommonElements } from \"../../../version/config/theme.config\";\n\n/**\n * This component returns synopsis list\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}  classes\n * @param {array}  items\n * @param {string} list\n * @param {shape}  history\n * @constructor\n */\nconst ItemsList = ({ classes, items, list, history }) => {\n    const menuHasChevrons = get(themeCommonElements, 'menuHasChevrons', false);\n    if (items && items.length === 0) {\n        return (\n            <List className={classes.list}>\n                <li className={classes.listItemNoData}>\n                    <Typography>No data</Typography>\n                </li>\n            </List>\n        );\n    } else {\n        return (\n            <List className={classes.list}>\n                {items.slice(0).reverse().map((item, key) => {\n                    const showRoute = \"/\" + list + \"/\" + item.sourceId + \"/show\";\n                    return (\n                        <li key={key} className={classes.listItem} onClick={() => history.push(showRoute)}>\n                            <Typography noWrap={true}>\n                                {item.text}\n                            </Typography>\n                            { menuHasChevrons && <ChevronRight /> }\n                        </li>\n                    );\n                })}\n            </List>\n        );\n    }\n};\n\nexport default ItemsList;","import get from \"lodash/get\";\nimport { faAllergies, faPhone, faCapsules, faNotesMedical  } from '@fortawesome/free-solid-svg-icons';\nimport { nonCoreSynopsisData } from \"../../../version/config/nonCoreSynopsis\";\nimport {themeCommonElements} from \"../../../version/config/theme.config\";\n\n/**\n * This function returns data for patient summary page\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @return {array}\n */\nexport const coreSynopsisData = [\n    // {\n    //     id: \"block-problems\",\n    //     title: \"Problems / Issues\",\n    //     list: \"problems\",\n    //     icon: faNotesMedical,\n    //     isActive: true,\n    //     isSynopsis: true,\n    //     description: \"The key problems that affect your health, some with clear diagnoses from your doctor\",\n    // },\n    // {\n    //     id: \"block-medications\",\n    //     title: \"Medications\",\n    //     list: \"medications\",\n    //     icon: faCapsules,\n    //     isActive: true,\n    //     isSynopsis: true,\n    //     description: \"The medical tablets and other medications that you take regularly for your health care\",\n    // },\n    // {\n    //     id: \"block-allergies\",\n    //     title: \"Allergies\",\n    //     list: \"allergies\",\n    //     icon: faAllergies,\n    //     isActive: true,\n    //     isSynopsis: true,\n    //     description: \"Those things that your body reacts against, that you have an allergy to\",\n    // },\n    // {\n    //     id: \"block-contacts\",\n    //     title: \"Contacts\",\n    //     list: \"contacts\",\n    //     icon: faPhone,\n    //     isActive: true,\n    //     isSynopsis: true,\n    //     description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n    // },\n];\n\nexport const totalSynopsisData = coreSynopsisData.concat(nonCoreSynopsisData);\nexport const synopsisData = totalSynopsisData.filter(item => item.isActive);\n\nexport const SHOW_HEADING = 'heading';\nexport const SHOW_ALL = 'headingAndList';\n\nexport const showModesArray = [\n    { type: SHOW_HEADING, label: \"Headings\" },\n    { type: SHOW_ALL, label: \"Headings + List\" },\n];\n\nexport function getHeadingsLists() {\n    let result = [];\n    synopsisData.forEach(item => {\n        result.push(item.list);\n    });\n    const hasRespectPlugin = get(themeCommonElements, 'respectPanel', false);\n    if (hasRespectPlugin) {\n        result.push('respect');\n    }\n    return result;\n}\n\nexport function getSynopsisProps(state) {\n    let result = {};\n    synopsisData.forEach(item => {\n        const reducerName = item.list + 'Synopsis';\n        result[item.list] = get(state, ['custom', reducerName, 'data'], []);\n    });\n    return result;\n}","import React from \"react\";\nimport get from \"lodash/get\";\n\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport List from \"@material-ui/core/List\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport ItemsList from \"./ItemsList\";\nimport { SHOW_ALL } from \"../../pages/PatientSummary/config\";\nimport { themeCommonElements } from \"../../../version/config/theme.config\";\n\n/**\n * This component returns list of empty rows if information is loading\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n */\nconst LoadingItems = ({ classes }) => {\n    return (\n        <List className={classes.list}>\n            <li className={classes.listItemNoData}>\n                <Typography>Loading...</Typography>\n            </li>\n            <div className={classes.emptyRows}></div>\n        </List>\n    );\n};\n\n/**\n * This component returns list block\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}   classes\n * @param {array}   items\n * @param {shape}   list\n * @param {shape}   history\n */\nconst ListBlock = ({ classes, items, list, history }) => {\n    if (items) {\n        return (\n            <ItemsList classes={classes} items={items} list={list} history={history} />\n        );\n    }\n    return (\n        <LoadingItems classes={classes} />\n    );\n};\n\n/**\n * This component returns one single Dashboard Card\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param props\n * @constructor\n */\nexport default props => {\n    const { id, classes, title, items, loading, icon, list, history, showMode, showHeadings } = props;\n    if (Object.values(showHeadings).indexOf(list) === -1) {\n        return null;\n    }\n    const isOldDesign = get(themeCommonElements, 'isOldDesign', false);\n    const menuHasChevrons = get(themeCommonElements, 'menuHasChevrons', false);\n    return (\n        <Grid item xs={12} sm={6} md={6} lg={3}>\n            <Card className={classes.card}>\n                <div id={id} className={classes.topBlock} aria-label={title} onClick={() => history.push('/' + list)}>\n                    { !isOldDesign && <FontAwesomeIcon icon={icon} size=\"2x\" className={classes.icon} /> }\n                    <h1 className={classes.mainHeading}>\n                        <Typography className={classes.title}>\n                            {title}\n                        </Typography>\n                        { menuHasChevrons && <ChevronRight /> }\n                    </h1>\n                </div>\n                { (showMode === SHOW_ALL || !showMode) &&\n                <ListBlock loading={loading} classes={classes} items={items} list={list} history={history} />\n                }\n            </Card>\n        </Grid>\n    );\n}\n","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport { connect } from 'react-redux';\n\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport DashboardCard from \"../../../common/DashboardCard\";\nimport { themeCommonElements } from \"../../../../version/config/theme.config\";\nimport {getSynopsisProps, synopsisData} from \"../config\";\n\nconst invertedTableHeaders = get(themeCommonElements, 'invertedTableHeaders', false);\n\nconst styles = theme => ({\n    card: {\n        borderRadius: 0,\n        boxShadow: theme.isOldDesign ? \"0px 2px 4px rgba(0, 0, 0, 0.3)\" : null,\n    },\n    media: {\n        backgroundColor: theme.palette.mainColor,\n    },\n    topBlock: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: theme.isOldDesign ? 50 : 100,\n        backgroundColor: invertedTableHeaders ? theme.palette.tableHeadColor : theme.palette.mainColor,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"relative\",\n        color: invertedTableHeaders ? theme.palette.mainColor : theme.palette.paperColor,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.borderColor}` : null,\n        '&:hover': {\n            cursor: \"pointer\",\n        },\n    },\n    icon: {\n        marginBottom: 10,\n        zIndex: 99999999,\n    },\n    mainHeading: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        margin: 0,\n        zIndex: 99999999,\n        '& svg': {\n            color: theme.palette.fontColor,\n        }\n    },\n    title: {\n        marginBottom: 0,\n        color: invertedTableHeaders ? theme.palette.fontColor : theme.palette.paperColor,\n        fontSize: 20,\n        fontWeight: 600,\n        zIndex: 99999999,\n    },\n    list: {\n        padding: 0,\n        zIndex: 99999999,\n    },\n    listItemNoData: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        height: 48,\n        paddingLeft: 15,\n        zIndex: 99999999,\n        fontSize: \"1rem\",\n        borderLeft: `1px solid ${theme.palette.borderColor}`,\n        borderRight: `1px solid ${theme.palette.borderColor}`,\n        borderBottom: `1px solid ${theme.palette.borderColor}`,\n    },\n    listItem: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        textAlign: \"justify\",\n        height: 48,\n        paddingLeft: 15,\n        paddingRight: 15,\n        zIndex: 99999999,\n        fontSize: \"1rem\",\n        borderLeft: `1px solid ${theme.palette.borderColor}`,\n        borderRight: `1px solid ${theme.palette.borderColor}`,\n        borderBottom: `1px solid ${theme.palette.borderColor}`,\n        cursor: \"pointer\",\n        color: theme.palette.fontColor,\n        '&:hover': {\n            backgroundColor: theme.palette.secondaryMainColor,\n            '& p': {\n                color: theme.palette.paperColor,\n            },\n            '& svg': {\n                color: theme.palette.paperColor,\n            }\n        }\n    },\n    emptyRows: {\n        height: 150,\n        zIndex: 99999999,\n        borderLeft: `1px solid ${theme.palette.borderColor}`,\n        borderRight: `1px solid ${theme.palette.borderColor}`,\n        borderBottom: `1px solid ${theme.palette.borderColor}`,\n    },\n});\n\nclass PatientSummaryTable extends Component {\n\n    render() {\n        const { classes, history, loading, showMode, showHeadings } = this.props;\n        const FeedsPanels = get(themeCommonElements, 'feedsPanels', false);\n        const RespectPanel = get(themeCommonElements, 'respectPanel', false);\n        return (\n            <React.Fragment>\n                {\n                    synopsisData.map((item, key) => {\n                        if (get(item, 'isSynopsis', false)) {\n                            return (\n                                <DashboardCard\n                                    key={key}\n                                    showMode={showMode}\n                                    showHeadings={showHeadings}\n                                    id={item.id}\n                                    title={item.title}\n                                    list={item.list}\n                                    loading={loading}\n                                    items={get(this.props, item.list, [])}\n                                    icon={item.icon}\n                                    {...this.props}\n                                />\n                            );\n                        }\n                    })\n                }\n                { FeedsPanels && <FeedsPanels /> }\n                { RespectPanel && <RespectPanel showMode={showMode} {...this.props} /> }\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    const patientSummaryProps = {\n        loading: state.custom.demographics.loading,\n        showMode: state.custom.showMode.data,\n        showHeadings: state.custom.showHeadings.data,\n    };\n    const synopsisProps = getSynopsisProps(state);\n    return Object.assign({}, patientSummaryProps, synopsisProps);\n};\n\nexport default connect(mapStateToProps, null)(withStyles(styles)(PatientSummaryTable));","import React from \"react\";\n\nimport { ResponsiveContainer, Cell, Pie, PieChart } from \"recharts\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst styles = {\n    chartBlock: {\n        width: '100%',\n        height: 180,\n        textAlign: 'center',\n        paddingTop: 10,\n    },\n    value: {\n        marginTop: -145,\n    },\n\n    diagnosis: {\n        marginTop: 10,\n    }\n};\n\nconst COLOR_EMPTY = '#e9e4e4';\n\nconst PieChartBlock = ({ classes, value, units, color, title, maximal, diagnosis }) => {\n    const data = [\n        { name: 'Group A', value: value },\n        { name: 'Group B', value: (maximal - value) }\n    ];\n    return (\n        <div className={classes.chartBlock}>\n            <Typography variant=\"h1\">{title}</Typography>\n            <ResponsiveContainer height={200}>\n                <PieChart>\n                    <Pie\n                        data={data}\n                        startAngle={180}\n                        endAngle={0}\n                        innerRadius={60}\n                        outerRadius={80}\n                        paddingAngle={5}\n                        dataKey=\"value\"\n                    >\n                        <Cell fill={color} />\n                        <Cell fill={COLOR_EMPTY} />\n                    </Pie>\n                </PieChart>\n            </ResponsiveContainer>\n            <Typography variant=\"h1\" className={classes.value}>{value}</Typography>\n            <Typography variant=\"body1\" className={classes.units}>{units}</Typography>\n            <Typography variant=\"caption\" className={classes.diagnosis}>{diagnosis}</Typography>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(PieChartBlock);\n","import React from \"react\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst styles = theme => ({\n    backgroundBlock: {\n        height: 16,\n        backgroundColor: theme.palette.disabledColor,\n        borderRadius: 8,\n    },\n    coloredBlock: {\n        borderTopLeftRadius: 8,\n        borderBottomLeftRadius: 8,\n        height: '100%',\n    },\n    title: {\n        marginTop: 15,\n    }\n});\n\nconst HorizontalBarChart = ({ classes, title, color, value, maximal }) => {\n    const colorBlockWidth = 100 * value / maximal;\n    return (\n        <React.Fragment>\n            <div className={classes.backgroundBlock}>\n                <div className={classes.coloredBlock} style={{ backgroundColor: color, width: colorBlockWidth + '%' }}></div>\n            </div>\n            <Typography variant=\"caption\" className={classes.title}>{title}</Typography>\n        </React.Fragment>\n    );\n};\n\nexport default withStyles(styles)(HorizontalBarChart);\n","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport { connect } from 'react-redux';\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\n\nimport patientPhoto from \"../../../images/randomPatient.png\";\nimport PieChartBlock from \"./PieChartBlock\";\nimport HorizontalBarChart from \"./HorizontalBarChart\";\n\nconst styles = {\n    patientPhoto: {\n        height: 110,\n        width: 110,\n        borderRadius: '50%'\n    },\n    ageAndHeight: {\n        paddingLeft: 20,\n    },\n    parameter: {\n        display: 'flex',\n        flexDirection: 'row',\n    },\n    value: {\n        paddingTop: 2,\n        paddingLeft: 5,\n    },\n    diagrams: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    horizontalBarChart: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: \"center\",\n    },\n    chartBlock: {\n        width: '90%',\n        height: 80,\n        textAlign: 'center',\n        paddingTop: 10,\n    },\n};\n\nconst COLOR_AMBER = '#ffac5a';\nconst COLOR_GREEN = '#2dcd0d';\nconst COLOR_YELLOW = '#fbf800';\nconst COLOR_RED = '#ff5d00';\n\nconst DIAGNOSIS_AMBER = 'Overweight';\nconst DIAGNOSIS_GREEN = 'Healthy Weight';\nconst DIAGNOSIS_YELLOW = 'Underweight';\nconst DIAGNOSIS_RED = 'Obese';\n\n\nconst OXYGEN_SATURATION_HARDCODE = 91;\nconst SYSTOLIC_PRESSURE_HARDCODE = 150;\nconst DIASTOLIC_PRESSURE_HARDCODE = 88;\n\nclass PhotoAndVitals extends Component {\n\n    getPatientAge = () => {\n        const { patientInfo } = this.props;\n        const birthDate = get(patientInfo, 'birthDate', null);\n        const birthDateArray = birthDate ? birthDate.split('-') : [];\n        const year = get(birthDateArray, [0], null);\n        const currentYear = new Date().getFullYear();\n        return currentYear - year;\n    };\n\n    getWeightResult = value => {\n        let result = {\n            color: COLOR_YELLOW,\n            diagnosis: DIAGNOSIS_YELLOW,\n        };\n        if (value > 18.5 && value < 24.9) {\n            result = {\n                color: COLOR_GREEN,\n                diagnosis: DIAGNOSIS_GREEN,\n            };\n        } else if (value > 25 && value < 29.9) {\n            result = {\n                color: COLOR_AMBER,\n                diagnosis: DIAGNOSIS_AMBER,\n            };\n        } else if (value > 30) {\n            result = {\n                color: COLOR_RED,\n                diagnosis: DIAGNOSIS_RED,\n            };\n        }\n        return result;\n    };\n\n    getOxygenSaturationResult = value => {\n        let result = {\n            color: COLOR_YELLOW,\n            diagnosis: DIAGNOSIS_YELLOW,\n        };\n        if (value > 92 && value < 95) {\n            result = {\n                color: COLOR_GREEN,\n                diagnosis: DIAGNOSIS_GREEN,\n            };\n        } else if (value < 91 || value > 96) {\n            result = {\n                color: COLOR_RED,\n                diagnosis: DIAGNOSIS_RED,\n            };\n        }\n        return result;\n    };\n\n    getSystolicColor = value => {\n        let result = COLOR_YELLOW;\n        if (value > 101 && value < 219) {\n            result = COLOR_GREEN;\n        } else if (value < 90 || value > 220) {\n            result = COLOR_RED;\n        }\n        return result;\n    };\n\n    getDiastolicColor = value => {\n        let result = COLOR_YELLOW;\n        if (value > 101 && value < 219) {\n            result = COLOR_GREEN;\n        } else if (value < 90 || value > 220) {\n            result = COLOR_RED;\n        }\n        return result;\n    };\n\n    render() {\n        const { classes, patientInfo, isLoadingPhoto, isLoading } = this.props;\n        const age = this.getPatientAge();\n\n        const weight = 87.5;\n        const bmi = 17.92;\n\n        const weightResult = this.getWeightResult(bmi);\n\n        const oxygenSaturationResult = this.getOxygenSaturationResult(OXYGEN_SATURATION_HARDCODE);\n\n        const systolicColor = this.getSystolicColor(SYSTOLIC_PRESSURE_HARDCODE);\n        const diastolicColor = this.getDiastolicColor(DIASTOLIC_PRESSURE_HARDCODE);\n\n        const patientName = `${get(patientInfo, 'firstName', null)} ${get(patientInfo, 'lastName', null)}`;\n        return (\n            <React.Fragment>\n                <div className={classes.blockTitle}>\n                    <Typography className={classes.title}>{patientName}</Typography>\n                </div>\n                <Grid container xs={12} className={classes.content}>\n                    <Grid item xs={12} sm={6} md={5} className={classes.photoAndVitals}>\n                        <Grid container xs={12} className={classes.insideGridBlock}>\n                            <Grid item xs={12} sm={6} md={3}>\n                                <CardMedia\n                                    className={classes.patientPhoto}\n                                    component=\"img\"\n                                    alt={patientName}\n                                    image={patientPhoto}\n                                    title={patientName}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={9} className={classes.ageAndHeight}>\n                                <div className={classes.parameter}>\n                                    <Typography variant=\"body2\">Age: </Typography>\n                                    <Typography className={classes.value}>{isLoading ? 'Loading...' : age}</Typography>\n                                </div>\n                                <div className={classes.parameter}>\n                                    <Typography variant=\"body2\" >Height: </Typography>\n                                    <Typography className={classes.value}>184 cm</Typography>\n                                </div>\n                                <div className={classes.parameter}>\n                                    <Typography variant=\"body2\" >CPR Status: </Typography>\n                                    <Typography className={classes.value}>For active CPR</Typography>\n                                </div>\n                                <div className={classes.parameter}>\n                                    <Typography variant=\"body2\" >Blood Group: </Typography>\n                                    <Typography className={classes.value}>O+</Typography>\n                                </div>\n                                <div className={classes.parameter}>\n                                    <Typography variant=\"body2\" >Donor status: </Typography>\n                                    <Typography className={classes.value}>Organ Donor</Typography>\n                                </div>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                    <Grid item xs={12} sm={6} md={7}>\n                        <div className={classes.diagrams}>\n                            <Grid container xs={12}>\n                                <Grid item xs={12} sm={12} md={4}>\n                                    <PieChartBlock\n                                        title=\"Weight\"\n                                        value={weight}\n                                        units=\"kg\"\n                                        color={weightResult.color}\n                                        maximal={150}\n                                        diagnosis={weightResult.diagnosis}\n                                    />\n                                </Grid>\n                                <Grid item xs={12} sm={12} md={4}>\n                                    <PieChartBlock\n                                        title=\"BMI\"\n                                        value={bmi}\n                                        units=\"kg/m2\"\n                                        color={weightResult.color}\n                                        maximal={50}\n                                        diagnosis={weightResult.diagnosis}\n                                    />\n                                </Grid>\n                                <Grid item xs={12} sm={12} md={4}>\n                                    <PieChartBlock\n                                        title=\"Oxygen Saturation\"\n                                        value={OXYGEN_SATURATION_HARDCODE}\n                                        units=\"%\"\n                                        color={oxygenSaturationResult.color}\n                                        maximal={100}\n                                        diagnosis={oxygenSaturationResult.diagnosis}\n                                    />\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12}>\n                                <Grid item xs={12} sm={12} md={4}>\n                                    <div className={classes.horizontalBarChart}>\n                                        <Typography variant=\"body2\">Blood pressure: 143 / 89</Typography>\n                                        <Typography variant=\"body1\" className={classes.value}>kg/m2</Typography>\n                                    </div>\n                                </Grid>\n\n                                <Grid item xs={12} sm={12} md={4}>\n                                    <div className={classes.chartBlock}>\n                                        <HorizontalBarChart title=\"Systolic\" value={SYSTOLIC_PRESSURE_HARDCODE} color={systolicColor} maximal={220} />\n                                    </div>\n                                </Grid>\n\n                                <Grid item xs={12} sm={12} md={4}>\n                                    <div className={classes.chartBlock}>\n                                        <HorizontalBarChart title=\"Diastolic\" value={DIASTOLIC_PRESSURE_HARDCODE} color={diastolicColor} maximal={220} />\n                                    </div>\n                                </Grid>\n\n\n                            </Grid>\n                        </div>\n                    </Grid>\n                </Grid>\n\n            </React.Fragment>\n        );\n    }\n\n};\n\nconst mapStateToProps = state => {\n    return {\n        patientInfo: get(state, 'custom.currentPatient.patientInfo.data', null),\n        isLoading: get(state, 'custom.currentPatient.loading', null),\n        patientPhoto: get(state, 'custom.currentPatient.patientPhoto', null),\n        isLoadingPhoto: get(state, 'custom.currentPatient.loadingPhoto', null),\n    }\n};\n\nexport default connect(mapStateToProps, null)(withStyles(styles)(PhotoAndVitals));","import React from \"react\";\nimport get from \"lodash/get\";\n\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\n\nimport { themeCommonElements } from \"../../../version/config/theme.config\";\n\nconst DummyItemsList = ({ classes, items, list, history }) => {\n    const menuHasChevrons = get(themeCommonElements, 'menuHasChevrons', false);\n\n    return (\n        <List className={classes.list}>\n            {items.slice(0).map((item, key) => {\n                return (\n                        <li key={key} className={classes.listItem}>\n                            <Typography noWrap={true}>\n                                {item}\n                            </Typography>\n                            { (menuHasChevrons && item) && <ChevronRight /> }\n                        </li>\n                    );\n                })\n            }\n        </List>\n    )\n};\n\nexport default DummyItemsList;","import React from \"react\";\nimport get from \"lodash/get\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport List from \"@material-ui/core/List\";\n\nimport ItemsList from \"./ItemsList\";\nimport DummyItemsList from \"./DummyItemsList\";\nimport { SHOW_ALL } from \"../../pages/PatientSummary/config\";\n\nconst styles = theme => ({\n    card: {\n        borderRadius: 0,\n    },\n    topBlock: {\n        paddingLeft: 15,\n        paddingTop: 10,\n        paddingBottom: 10,\n        borderLeft: `0.5px solid ${theme.palette.paperColor}`,\n        borderRight: `0.5px solid ${theme.palette.paperColor}`,\n        backgroundColor: theme.palette.tableHeadColor,\n        position: \"relative\",\n        color: theme.palette.fontColor,\n        '&:hover': {\n            cursor: \"pointer\",\n        },\n    },\n    synopsisTitle: {\n        marginBottom: 0,\n        backgroundColor: theme.palette.tableHeadColor,\n        color: theme.palette.fontColor,\n        fontSize: 18,\n        fontWeight: 600,\n        zIndex: 99999999,\n    },\n    icon: {\n        marginBottom: 10,\n        zIndex: 99999999,\n    },\n    mainHeading: {\n        margin: 0,\n        zIndex: 99999999,\n    },\n    list: {\n        padding: 0,\n        zIndex: 99999999,\n    },\n    listItemNoData: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        height: 48,\n        paddingLeft: 15,\n        zIndex: 99999999,\n        fontSize: \"1rem\",\n        borderLeft: `1px solid ${theme.palette.borderColor}`,\n        borderRight: `1px solid ${theme.palette.borderColor}`,\n        borderBottom: `1px solid ${theme.palette.borderColor}`,\n    },\n    listItem: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        textAlign: \"justify\",\n        height: 48,\n        paddingLeft: 15,\n        paddingRight: 15,\n        zIndex: 99999999,\n        fontSize: \"1rem\",\n        borderLeft: `1px solid ${theme.palette.borderColor}`,\n        borderRight: `1px solid ${theme.palette.borderColor}`,\n        borderBottom: `1px solid ${theme.palette.borderColor}`,\n        cursor: \"pointer\",\n        '&:hover': {\n            backgroundColor: theme.palette.secondaryMainColor,\n            '& p': {\n                color: theme.palette.paperColor,\n            }\n        }\n    },\n    emptyRows: {\n        height: 150,\n        zIndex: 99999999,\n        borderLeft: `1px solid ${theme.palette.borderColor}`,\n        borderRight: `1px solid ${theme.palette.borderColor}`,\n        borderBottom: `1px solid ${theme.palette.borderColor}`,\n    },\n});\n\n/**\n * This component returns list of empty rows if information is loading\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n */\nconst LoadingItems = ({ classes }) => {\n    return (\n        <List className={classes.list}>\n            <li className={classes.listItemNoData}>\n                <Typography>Loading...</Typography>\n            </li>\n            <div className={classes.emptyRows}></div>\n        </List>\n    );\n};\n\nconst dummyItems = {\n    problems: ['Overweight', 'Type 2 diabetic', 'Hypertensive'],\n    medications: ['Metformin', 'Gloposode', 'Statins'],\n    allergies: ['Latex', '', ''],\n};\n\n/**\n * This component returns list block\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}   classes\n * @param {array}   items\n * @param {shape}   list\n * @param {shape}   history\n */\nconst ListBlock = ({ classes, items, list, history }) => {\n    if (items) {\n        // return (\n        //     <ItemsList classes={classes} items={items} list={list} history={history} />\n        // );\n        return (\n            <DummyItemsList classes={classes} items={dummyItems[list]} list={list} history={history} />\n        );\n    }\n    return (\n        <LoadingItems classes={classes} />\n    );\n};\n\n/**\n * This component returns one single Dashboard Card\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param props\n * @constructor\n */\nconst DashboardCardRoll = props => {\n    const { id, classes, title, items, loading, icon, list, history, showMode, showHeadings } = props;\n    if (Object.values(showHeadings).indexOf(list) === -1) {\n        return null;\n    }\n    return (\n        <Grid item xs={12} sm={6} md={6} lg={4}>\n            <Card className={classes.card}>\n                <div className={classes.topBlock} aria-label={title} onClick={() => history.push('/' + list)}>\n                    <Typography className={classes.synopsisTitle}>\n                        {title}\n                    </Typography>\n                </div>\n                { (showMode === SHOW_ALL || !showMode) &&\n                    <ListBlock loading={loading} classes={classes} items={items} list={list} history={history} />\n                }\n            </Card>\n        </Grid>\n    );\n}\n\nexport default withStyles(styles)(DashboardCardRoll);\n","import React from \"react\";\nimport get from \"lodash/get\";\nimport { connect } from 'react-redux';\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport { getSynopsisProps, synopsisData } from \"../config\";\nimport DashboardCardRoll from \"../../../common/DashboardCard/DashboardCardRoll\";\n\nconst styles = {\n\n};\n\nconst PatientSummaryPanels = props => {\n    const { classes, loading, showMode, showHeadings } = props;\n    return (\n        <Grid container xs={12} className={classes.content}>\n            {\n                synopsisData.map((item, key) => {\n                    if (item.list === 'problems' || item.list === 'medications' || item.list === 'allergies') {\n                        return (\n                            <DashboardCardRoll\n                                key={key}\n                                showMode={showMode}\n                                showHeadings={showHeadings}\n                                id={item.id}\n                                title={item.title}\n                                list={item.list}\n                                loading={loading}\n                                items={get(props, item.list, [])}\n                                icon={item.icon}\n                                {...props}\n                            />\n                        );\n                    }\n                    return null;\n\n                })\n            }\n        </Grid>\n    );\n};\n\nconst mapStateToProps = state => {\n    const patientSummaryProps = {\n        loading: state.custom.demographics.loading,\n        showMode: state.custom.showMode.data,\n        showHeadings: state.custom.showHeadings.data,\n    };\n    const synopsisProps = getSynopsisProps(state);\n    return Object.assign({}, patientSummaryProps, synopsisProps);\n};\n\nexport default connect(mapStateToProps, null)(withStyles(styles)(PatientSummaryPanels));\n","import React from \"react\";\nimport get from \"lodash/get\";\nimport moment from \"moment\";\nimport { GET_LIST } from \"react-admin\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport customDataProvider from \"../../../dataProviders/dataProvider\";\nimport Table from \"@material-ui/core/Table\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport HorizontalBarChart from \"./HorizontalBarChart\";\n\nconst styles = theme => ({\n    root: {\n        width: '100%',\n    },\n    tableWrapper: {\n        overflowX: 'auto',\n    },\n    tableList: {\n        '& thead': {\n            backgroundColor: theme.palette.tableHeadColor,\n            '& tr th': {\n                fontSize: 14,\n                paddingLeft: 10,\n            },\n        },\n        '& tbody tr td span': {\n            paddingLeft: 10,\n            fontSize: 14,\n        },\n        '& tbody tr:hover': {\n            backgroundColor: theme.palette.secondaryMainColor,\n            '& td span': {\n                color: theme.palette.paperColor,\n            }\n        },\n    },\n    value: {\n        marginTop: 15,\n    },\n    valueWithBar: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n    },\n    chartBlock: {\n        width: '60%',\n    }\n});\n\nconst LabResults = ({ classes }) => {\n    // const labResults = customDataProvider(GET_LIST, 'labresults', {});\n    // const labResultsArray = get(labResults, 'data', []);\n\n    const COLOR_AMBER = '#ffac5a';\n    const COLOR_GREEN = '#2dcd0d';\n    const COLOR_YELLOW = '#fbf800';\n    const COLOR_RED = '#ff5d00';\n\n    const dummyLabResults = [\n        { testName: 'HBA1C', normalRange: '5-7 mmol/l', value: 7, units: 'mmol/l', dateCreated: '22-Jun-2019', color: COLOR_GREEN, maximal: 10 },\n        { testName: 'Glucose', normalRange: '5-9 mmol/l', value: 6, units: 'mmol/l', dateCreated: '15-Jul-2019', color: COLOR_GREEN, maximal: 60  },\n        { testName: 'Glucose', normalRange: '5-9 mmol/l', value: 10, units: 'mmol/l', dateCreated: '26-Jun-2019', color: COLOR_AMBER, maximal: 20  },\n        { testName: 'Glucose', normalRange: '5-9 mmol/l', value: 15, units: 'mmol/l', dateCreated: '05-May-2019', color: COLOR_RED, maximal: 20  },\n    ];\n\n    return (\n        <React.Fragment>\n            <div className={classes.blockTitle}>\n                <Typography className={classes.title}>Lab Results</Typography>\n            </div>\n            <Grid container xs={12} className={classes.content}>\n                <Paper className={classes.root}>\n                    <div className={classes.tableWrapper}>\n                        <Table className={classes.tableList} aria-labelledby=\"tableTitle\">\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell>Name</TableCell>\n                                    <TableCell>Normal Range</TableCell>\n                                    <TableCell>Value</TableCell>\n                                    <TableCell>Date</TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                            {\n                                dummyLabResults.map((item, key) => {\n                                    return (\n                                        <TableRow key={key}>\n                                            <TableCell scope=\"row\" padding=\"none\">\n                                                <span>{item.testName}</span>\n                                            </TableCell>\n                                            <TableCell scope=\"row\" padding=\"none\">\n                                                <span>{item.normalRange}</span>\n                                            </TableCell>\n                                            <TableCell scope=\"row\" padding=\"none\">\n                                                <div className={classes.valueWithBar}>\n                                                    <span className={classes.value}>{item.value} {item.units}</span>\n                                                    <div className={classes.chartBlock}>\n                                                        <HorizontalBarChart value={item.value} color={item.color} maximal={item.maximal} />\n                                                    </div>\n                                                </div>\n                                            </TableCell>\n                                            <TableCell>\n                                                {/*<span>{moment(item.dateCreated).format('DD-MMM-YYYY')}</span>*/}\n                                                <span>{item.dateCreated}</span>\n                                            </TableCell>\n                                        </TableRow>\n                                    )\n                                })\n                            }\n                            </TableBody>\n                        </Table>\n                    </div>\n                </Paper>\n            </Grid>\n        </React.Fragment>\n    );\n}\n\nexport default withStyles(styles)(LabResults);\n","import React, { Component } from \"react\";\nimport {CartesianGrid, Legend, Line, LineChart, ResponsiveContainer, Tooltip, XAxis, YAxis} from \"recharts\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {withStyles} from \"@material-ui/core\";\nimport get from \"lodash/get\";\n\nconst styles = {\n    chartBlock: {\n        width: '100%',\n        height: 500,\n    },\n    toolbar: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-end',\n    }\n};\n\nfunction getTooltipFormatter(value, name) {\n    const row = get(name, 'props.children', null);\n    if (!row) {\n        return null;\n    }\n    const nameArray = row.split(', ');\n    const parameter = nameArray[0];\n    const units = nameArray[1];\n    return (\n        <span>\n            <Typography variant=\"h1\">{parameter}:</Typography>\n            <Typography> {value}, {units}</Typography>\n        </span>\n\n    );\n}\n\nclass DummyVitalsChart extends Component {\n\n\n    state = {\n        disabledLines: [],\n    };\n\n    /**\n     * This action is run when user click on the dot on the legend to toggle lines visibility\n     *\n     * @author BogdanScherban <bsc@piogroup.net>\n     * @param {shape} e\n     */\n    toggleLine = e => {\n        const { disabledLines } = this.state;\n        const dataKey = e.dataKey;\n        let newDisabledLinesArray = [];\n        if (disabledLines.indexOf(dataKey) !== -1) {\n            newDisabledLinesArray = disabledLines.filter(item => item !== dataKey);\n        } else {\n            newDisabledLinesArray = disabledLines.concat(dataKey);\n        }\n        this.setState({\n            disabledLines: newDisabledLinesArray\n        })\n    };\n\n    render() {\n        const { classes,  } = this.props;\n        const { disabledLines } = this.state;\n\n        const vitalsListArray = [\n            {\n                number: 1,\n                dateCreate: 'Jan',\n                newsScore: 13,\n                respirationRate: 7,\n                oxygenSupplemental: true,\n                heartRate: 92,\n                temperature: 38,\n                levelOfConsciousness: \"Pain\",\n                systolicBP: 92,\n                diastolicBP: 92,\n                oxygenSaturation: 77,\n            },\n            {\n                number: 2,\n                dateCreate: 'Feb',\n                newsScore: 11,\n                respirationRate: 9,\n                oxygenSupplemental: true,\n                heartRate: 91,\n                temperature: 37,\n                levelOfConsciousness: \"Pain\",\n                systolicBP: 91,\n                diastolicBP: 92,\n                oxygenSaturation: 78,\n            },\n            {\n                number: 3,\n                dateCreate: 'Mar',\n                newsScore: 10,\n                respirationRate: 9,\n                oxygenSupplemental: true,\n                heartRate: 91,\n                temperature: 37,\n                levelOfConsciousness: \"Pain\",\n                systolicBP: 92,\n                diastolicBP: 91,\n                oxygenSaturation: 72,\n            },\n            {\n                number: 4,\n                dateCreate: 'Apr',\n                newsScore: 11,\n                respirationRate: 9,\n                oxygenSupplemental: true,\n                heartRate: 95,\n                temperature: 36,\n                levelOfConsciousness: \"Pain\",\n                systolicBP: 90,\n                diastolicBP: 95,\n                oxygenSaturation: 73,\n            },\n            {\n                number: 5,\n                dateCreate: 'May',\n                newsScore: 12,\n                respirationRate: 9,\n                oxygenSupplemental: true,\n                heartRate: 91,\n                temperature: 36,\n                levelOfConsciousness: \"Pain\",\n                systolicBP: 93,\n                diastolicBP: 93,\n                oxygenSaturation: 77,\n            },\n            {\n                number: 6,\n                dateCreate: 'Jun',\n                newsScore: 14,\n                respirationRate: 9,\n                oxygenSupplemental: true,\n                heartRate: 91,\n                temperature: 37,\n                levelOfConsciousness: \"Pain\",\n                systolicBP: 95,\n                diastolicBP: 92,\n                oxygenSaturation: 76,\n            },\n            {\n                number: 7,\n                dateCreate: 'Jul',\n                newsScore: 14,\n                respirationRate: 9,\n                oxygenSupplemental: true,\n                heartRate: 94,\n                temperature: 36,\n                levelOfConsciousness: \"Pain\",\n                systolicBP: 93,\n                diastolicBP: 93,\n                oxygenSaturation: 79,\n            },\n            {\n                number: 8,\n                dateCreate: 'Aug',\n                newsScore: 13,\n                respirationRate: 9,\n                oxygenSupplemental: true,\n                heartRate: 91,\n                temperature: 37,\n                levelOfConsciousness: \"Pain\",\n                systolicBP: 89,\n                diastolicBP: 88,\n                oxygenSaturation: 81,\n            },\n        ];\n\n        let chartData = [];\n        for (let i = 0, n = vitalsListArray.length; i < n; i++) {\n\n            let item = vitalsListArray[i];\n            chartData.push({\n                name: item.dateCreate,\n                // diastolicBP: item.diastolicBP,\n                heartRate: item.heartRate,\n                oxygenSaturation: item.oxygenSaturation,\n                respirationRate: item.respirationRate,\n                systolicBP: item.systolicBP,\n                // temperature: item.temperature,\n                sourceId: item.sourceId,\n            });\n        }\n\n        const DOT_RADIUS = 8;\n        const STROKE_WIDTH = 4;\n\n        const linesArray = [\n            { dataKey: \"respirationRate\", color: \"#99C78C\", label: <Typography>Respiration Rate, resps/min</Typography> },\n            { dataKey: \"oxygenSaturation\", color: \"#E18FC0\", label: <Typography>Oxygen Saturation, %</Typography> },\n            { dataKey: \"heartRate\", color: \"#ACC2D7\", label: <Typography>Heart Rate, bpm</Typography> },\n            { dataKey: \"systolicBP\", color: \"#EABA97\", label: <Typography>Systolic BP, mmHg</Typography> },\n            // { dataKey: \"diastolicBP\", color: \"#99D9DE\", label: <Typography>Diastolic BP, mmHg</Typography> },\n            // { dataKey: \"temperature\", color: \"#E3A08F\", label: <Typography>Temperature, C</Typography> },\n        ];\n\n\n        return (\n            <div className={classes.chartBlock}>\n                <ResponsiveContainer width={'99%'}>\n                    <LineChart data={chartData} margin={{ top: 25, left: 0 }}>\n                        <XAxis dataKey=\"name\" tick={{ fontFamily: '\"HK Grotesk Regular\", Arial, sans-serif', fontSize: 14 }} />\n                        <YAxis tick={{ fontFamily: '\"HK Grotesk Regular\", Arial, sans-serif', fontSize: 14 }} />\n                        <Tooltip\n                            formatter={(value, name) => getTooltipFormatter(value, name)}\n                            labelFormatter={function(value) {\n                                return (\n                                    <Typography>Date: {value}</Typography>\n                                );\n                            }}\n                        />\n                        <Legend\n                            payload={linesArray.map(item => ({\n                                dataKey: item.dataKey,\n                                color: item.color,\n                                value: item.label,\n                            }))}\n                            onClick={e => this.toggleLine(e)}\n                        />\n                        <CartesianGrid stroke=\"#e5e5e5\" strokeDasharray=\"5 5\"/>\n                        {\n                            linesArray.map((item, key) => {\n                                if (disabledLines.indexOf(item.dataKey) !== -1) {\n                                    return null;\n                                }\n                                return (\n                                    <Line\n                                        key={key}\n                                        type=\"monotone\"\n                                        name={item.label}\n                                        dataKey={item.dataKey}\n                                        stroke={item.color}\n                                        activeDot={{ r: DOT_RADIUS }}\n                                        strokeWidth={STROKE_WIDTH}\n                                    />\n                                )\n                            })\n                        }\n                    </LineChart>\n                </ResponsiveContainer>\n            </div>\n        )\n    }\n\n};\n\nexport default (withStyles(styles)(DummyVitalsChart));","import React from \"react\";\nimport _ from \"lodash\";\nimport get from \"lodash/get\";\nimport moment from \"moment\";\n\nimport {\n    Timeline,\n    Content,\n    ContentYear,\n    ContentBody,\n} from 'vertical-timeline-component-react';\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst styles = theme => ({\n    timeline: {\n        height: 500,\n        overflowX: 'hidden',\n        overflowY: 'auto',\n        paddingLeft: 30,\n        paddingTop: 15,\n        '& .timeline__container__year': {\n            marginRight: -20,\n            zIndex: 10,\n            color: theme.palette.mainColor,\n        },\n        '& .timeline__container__year:after': {\n            background: 'none',\n        },\n        '& .timeline__container__body': {\n            marginTop: 50,\n            position: 'relative',\n            '&:before': {\n                backgroundColor: theme.palette.mainColor,\n                width: 5,\n                left: -6,\n                content: '\"\"',\n                height: '100%',\n                minHeight: '95%',\n                position: 'absolute',\n                top: 10,\n            },\n        },\n\n    },\n    eventBlock: {\n        marginLeft: 30,\n        marginTop: 25,\n        textAlign: \"center\",\n    },\n    eventDate: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        width: 60,\n        height: 60,\n        borderRadius: '50%',\n        textAlign: 'center',\n        backgroundColor: theme.palette.mainColor,\n        '& p': {\n            color: theme.palette.paperColor,\n        },\n    },\n    eventType: {\n        color: theme.palette.mainColor,\n        fontSize: 16,\n        fontWeight: 700,\n    },\n    eventDescription: {\n        border: `1px solid ${theme.palette.borderColor}`,\n        backgroundColor: theme.palette.toolbarColor,\n        padding: \"10px 15px\",\n        borderRadius: 5,\n    }\n});\n\nconst CustomHeader = ({ classes, items }) => {\n\n    const dateAndTime = items[0];\n    const events = items[1];\n    const dateForPoint = moment.unix(dateAndTime).format('Do MMM')\n\n    // Use your own CSS\n    return (\n        <Content>\n            <ContentYear year={<EventDate classes={classes} label={dateForPoint} />} />\n            <ContentBody>\n                {\n                    events.map(item => {\n                        return (\n                            <div className={classes.eventBlock}>\n                                <Typography variant=\"body1\" className={classes.eventType}>{get(item, 'type', null)}</Typography>\n                                <div className={classes.eventDescription}>\n                                    <Typography variant=\"h1\">{get(item, 'title', null)}</Typography>\n                                    <Typography variant=\"caption\">{get(item, 'dateAndTime', null)}</Typography>\n                                </div>\n                            </div>\n                        )\n                    })\n                }\n\n            </ContentBody>\n        </Content>\n    );\n};\n\nconst EventDate = ({ classes, label }) => {\n    const dateArray = label.split(' ');\n    return (\n        <div className={classes.eventDate}>\n            <Typography variant=\"body1\">{dateArray[0]}</Typography>\n            <Typography variant=\"body1\">{dateArray[1]}</Typography>\n        </div>\n    )\n}\nconst EventsTimeline = ({ classes }) => {\n\n    const events = [\n        {\n            date: 1559433600,\n            type: 'Event',\n            title: 'Appointment with Dr Jones',\n            dateAndTime: '02-Jun-2019 at 13:30'\n        },\n        {\n            date: 1559433600,\n            type: 'Event',\n            title: 'Appointment with Dr Smith',\n            dateAndTime: '02-Jun-2019 at 15:30'\n        },\n        {\n            date: 1559433600,\n            type: 'Event',\n            title: 'Appointment with Dr Taylor',\n            dateAndTime: '02-Jun-2019 at 19:30'\n        },\n        {\n            date: 1559520000,\n            type: 'Event',\n            title: 'Appointment with Dr Jones',\n            dateAndTime: '03-Jun-2019 at 13:30'\n        },\n        {\n            date: 1559692800,\n            type: 'Event',\n            title: 'Appointment with Dr Jones',\n            dateAndTime: '05-Jun-2019 at 13:30'\n        },\n        {\n            date: 1559692800,\n            type: 'Event',\n            title: 'Appointment with Dr Smith',\n            dateAndTime: '05-Jun-2019 at 16:30'\n        },\n    ];\n\n    const eventsGroupByDate = _.mapValues(_.groupBy(events, 'date'),\n        clist => clist.map(event => _.omit(event, 'date')));\n\n    const eventsGroupByDateArray = Object.entries(eventsGroupByDate);\n\n    return (\n        <div className={classes.timeline}>\n            <Timeline>\n                { eventsGroupByDateArray.map(item => {\n                    return (\n                        <CustomHeader classes={classes} items={item} />\n                    )\n                })}\n                <Content>\n                    <ContentYear />\n                </Content>\n            </Timeline>\n        </div>\n    );\n};\n\nexport default withStyles(styles)(EventsTimeline);\n","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport { connect } from 'react-redux';\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport PhotoAndVitals from \"../fragments/PhotoAndVitals\";\nimport PatientSummaryPanels from \"../fragments/PatientSummaryPanels\";\nimport LabResults from \"../fragments/LabResults\";\nimport DummyVitalsChart from \"../fragments/DummyVitalsChart\";\nimport EventsTimeline from \"../fragments/EventsTimeline\";\n\nconst styles = theme => ({\n    headerBlock:{\n        width: '100%',\n        marginLeft: 10,\n        marginRight: 10,\n        marginBottom: 10,\n    },\n    blockTitle: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        height: 49,\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        backgroundColor: theme.palette.mainColor,\n        fontSize: 18,\n        fontWeight: 700,\n        paddingLeft: 15,\n        paddingRight: 10,\n    },\n    blockTitleLeft: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        height: 49,\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        backgroundColor: theme.palette.mainColor,\n        fontSize: 18,\n        fontWeight: 700,\n        paddingLeft: 15,\n        paddingRight: 10,\n        borderRight: `0.5px solid ${theme.palette.paperColor}`\n    },\n    blockTitleRight: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        height: 49,\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        backgroundColor: theme.palette.mainColor,\n        fontSize: 18,\n        fontWeight: 700,\n        paddingLeft: 15,\n        paddingRight: 10,\n        borderLeft: `0.5px solid ${theme.palette.paperColor}`\n    },\n    title: {\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        backgroundColor: theme.palette.mainColor,\n        fontSize: 18,\n        fontWeight: 700,\n    },\n    content: {\n        width: '100%',\n        backgroundColor: theme.palette.paperColor,\n    },\n    photoAndVitals: {\n        padding: 10,\n    },\n    chartBlock: {\n        padding: 10,\n    },\n    dummyEvents: {\n        margin: 20,\n    }\n});\n\nclass PatientSummaryTable extends Component {\n\n    render() {\n        const { classes, emergencySummary, history, location, isVitalsLoading } = this.props;\n        return (\n            <div className={classes.headerBlock}>\n                <PhotoAndVitals classes={classes} />\n                <PatientSummaryPanels classes={classes} />\n                <LabResults classes={classes} location={location} />\n                <Grid container xs={12} className={classes.content}>\n                    <Grid item xs={12} sm={12} md={6}>\n                        <div className={classes.blockTitleLeft}>\n                            <Typography className={classes.title}>Timeline</Typography>\n                        </div>\n                        <EventsTimeline />\n                    </Grid>\n                    <Grid item xs={12} sm={12} md={6}>\n                        <div className={classes.blockTitleRight}>\n                            <Typography className={classes.title}>Vitals</Typography>\n                        </div>\n                        <div className={classes.chartBlock}>\n                        {\n                            isVitalsLoading\n                                ? <Typography>Loading...</Typography>\n                                // : <VitalsChart vitalsEmergencySummary={get(emergencySummary, 'vitalsigns', [])} history={history} />\n                                : <DummyVitalsChart />\n                        }\n                        </div>\n                    </Grid>\n                </Grid>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        emergencySummary: get(state, 'custom.emergencySummary.data', null),\n        isVitalsLoading: get(state, 'custom.emergencySummary.loading', null),\n    }\n};\n\nexport default connect(mapStateToProps, null)(withStyles(styles)(PatientSummaryTable));","import { createRequestTypes } from \"./functions\";\n\nexport const SHOW_MODE_ACTION = createRequestTypes('SHOW_MODE_ACTION');\n\nexport const showModeAction = {\n    request: data => ({ type: SHOW_MODE_ACTION.REQUEST, data }),\n    success: data => ({ type: SHOW_MODE_ACTION.SUCCESS, data }),\n    error:   error => ({ type: SHOW_MODE_ACTION.FAILURE, error }),\n};\n","import { createRequestTypes } from \"./functions\";\n\nexport const SHOW_HEADINGS_ACTION = createRequestTypes('SHOW_HEADINGS_ACTION');\n\nexport const showHeadingsAction = {\n    request: data => ({ type: SHOW_HEADINGS_ACTION.REQUEST, data }),\n    success: data => ({ type: SHOW_HEADINGS_ACTION.SUCCESS, data }),\n    error:   error => ({ type: SHOW_HEADINGS_ACTION.FAILURE, error }),\n};\n","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport compose from 'recompose/compose';\nimport { connect } from 'react-redux';\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Dialog from '@material-ui/core/Dialog';\nimport Divider from '@material-ui/core/Divider';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Radio from '@material-ui/core/Radio';\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\n\nimport { showModeAction } from \"../../actions/showModeAction\";\nimport { showHeadingsAction } from \"../../actions/showHeadingsAction\";\nimport { synopsisData, showModesArray, SHOW_ALL, getHeadingsLists } from \"./config\";\nimport { themeCommonElements } from \"../../../version/config/theme.config\";\n\nconst styles = theme => ({\n    dialogBlock: {\n        [theme.breakpoints.only('xs')]: {\n            paddingTop: 0,\n            paddingLeft: 20,\n            paddingRight: 20,\n        },\n        [theme.breakpoints.up('sm')]: {\n            minHeight: 300,\n            minWidth: 500,\n            marginTop: 5,\n            marginLeft: 20,\n            marginBottom: 20,\n        },\n    },\n    dialogItem: {\n        minHeight: 100,\n        paddingBottom: 10,\n    },\n    dialogItemColumn: {\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    dialogLabel: {\n        display: \"inline-block\",\n        minWidth: 200,\n        marginTop: 10,\n    },\n    checkbox: {\n        display: \"inline-block\",\n        height: 24,\n    },\n    checkboxLabel: {\n        display: \"inline-block\",\n    },\n    sectionTitle: {\n        marginTop: 10,\n    },\n    topPanel: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n    },\n    closeIcon: {\n        float: \"right\",\n        height: 25,\n    },\n    radio: {\n        '&$checked': {\n            color: theme.palette.mainColor,\n        }\n    },\n    checked: {}\n});\n\n/**\n * This component returns content and functionality of dialog window\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nclass DialogContent extends Component {\n\n    state = {\n        selectedMode: this.props.showMode ? this.props.showMode : SHOW_ALL,\n        selectedHeadings: this.props.showHeadings ? Object.values(this.props.showHeadings) : getHeadingsLists(),\n    };\n\n    /**\n     * This function checks is current heading was checked\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @param {string} itemName\n     * @return {boolean}\n     */\n    isHeadingChecked = itemName => {\n        const { selectedHeadings } = this.state;\n        return Object.values(selectedHeadings).indexOf(itemName) !== -1;\n    };\n\n    /**\n     * This function saves headings to select\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @param {string} itemName\n     */\n    toggleVisibility = itemName => {\n        this.setState(state => {\n            const { selectedHeadings } = state;\n            let headingsArray = selectedHeadings;\n            if (Object.values(selectedHeadings).indexOf(itemName) !== -1) {\n                let index = headingsArray.indexOf(itemName);\n                headingsArray.splice(index, 1)\n            } else {\n                headingsArray.push(itemName);\n            }\n            return {\n                selectedHeadings: headingsArray,\n            };\n        }, () => this.props.setHeadingsAction(this.state.selectedHeadings));\n    };\n\n    /**\n     * This function toggle shows mode\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @param {string} mode\n     */\n    selectShowMode = mode => {\n        this.setState(\n            { selectedMode: mode },\n            () => this.props.setModeAction(mode)\n        );\n    };\n\n    render() {\n        const { classes, onClose, showMode, ...rest } = this.props;\n        const { selectedMode, selectedHeadings } = this.state;\n        const FeedSelector = get(themeCommonElements, 'feedsSelectors', false);\n        const hasRespectPlugin = get(themeCommonElements, 'respectPanel', false);\n        return (\n            <Dialog onBackdropClick={() => onClose()} {...rest}>\n                <div id=\"settingsModalWindow\" className={classes.dialogBlock} >\n                    <Tooltip title=\"Settings\">\n                        <IconButton id=\"closeIcon\" className={classes.closeIcon} color=\"inherit\" onClick={() => onClose()}>\n                            <CloseIcon />\n                        </IconButton>\n                    </Tooltip>\n                    <Typography className={classes.sectionTitle}>SHOW</Typography>\n                    <Divider />\n                    <div className={classes.dialogItem}>\n                        {\n                            synopsisData.map((item, key) => {\n                                if (get(item, 'isSynopsis', false)) {\n                                    return (\n                                        <div key={key} className={classes.dialogLabel}>\n                                            <Checkbox\n                                                className={classes.checkbox}\n                                                checked={this.isHeadingChecked(item.list)}\n                                                color=\"primary\"\n                                                onChange={() => this.toggleVisibility(item.list)}\n                                                classes={{root: classes.radio, checked: classes.checked}}\n                                            />\n                                            <Typography className={classes.checkboxLabel}>{item.title}</Typography>\n                                        </div>\n                                    );\n                                }\n                            })\n                        }\n                        { hasRespectPlugin &&\n                            <div className={classes.dialogLabel}>\n                                <Checkbox\n                                    className={classes.checkbox}\n                                    checked={this.isHeadingChecked('respect')}\n                                    color=\"primary\"\n                                    onChange={() => this.toggleVisibility('respect')}\n                                    classes={{ root: classes.radio, checked: classes.checked }}\n                                />\n                                <Typography className={classes.checkboxLabel}>ReSPECT</Typography>\n                            </div>\n                        }\n                    </div>\n                    { FeedSelector && <FeedSelector classes={classes} /> }\n                    <Typography>VIEW OF BOARDS</Typography>\n                    <Divider />\n                    <div className={classes.dialogItemColumn}>\n                    {\n                        showModesArray.map((item, key) => {\n                            return (\n                                <label key={key} className={classes.dialogLabel}>\n                                    <Radio\n                                        className={classes.checkbox}\n                                        checked={selectedMode === item.type}\n                                        color=\"primary\"\n                                        onChange={() => this.selectShowMode(item.type)}\n                                        classes={{ root: classes.radio, checked: classes.checked }}\n                                    />\n                                    <Typography className={classes.checkboxLabel}>{item.label}</Typography>\n                                </label>\n                            );\n                        })\n                    }\n                    </div>\n                </div>\n            </Dialog>\n        );\n    }\n};\n\nconst mapStateToProps = state => {\n    return {\n        showMode: get(state, 'custom.showMode.data', null),\n        showHeadings: get(state, 'custom.showHeadings.data', null),\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setModeAction(mode) {\n            dispatch(showModeAction.request(mode));\n        },\n        setHeadingsAction(headingsArray) {\n            dispatch(showHeadingsAction.request(headingsArray));\n        }\n    }\n};\n\nexport default compose(\n    withStyles(styles),\n    connect(mapStateToProps, mapDispatchToProps)\n)(withMobileDialog({breakpoint: 'xs'})(DialogContent));","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\n\nimport DialogWithStyles from \"./DialogWithStyles\";\n\nconst styles = {\n    settingsIconBlock: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n    },\n    icon: {\n        display: \"block\",\n    },\n    iconTitle: {\n        marginTop: 15,\n    },\n};\n\n/**\n * This component returns button which calls settings dropdown\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nclass SettingsDialog extends Component {\n\n    state = {\n        open: false,\n    };\n\n    toggleDialog = () => {\n        this.setState({\n            open: !this.state.open,\n        });\n    };\n\n    render() {\n        const { classes } = this.props;\n        const { open } = this.state;\n        return (\n            <div id=\"patientSummary-Top\"  className={classes.settingsIconBlock}>\n                <Tooltip className={classes.icon} title=\"Settings\">\n                    <IconButton id=\"icon-settings\" aria-haspopup=\"true\" aria-label=\"Settings\" color=\"inherit\" onClick={() => this.toggleDialog()}>\n                        <SettingsIcon />\n                    </IconButton>\n                </Tooltip>\n                <Typography className={classes.iconTitle} variant=\"h1\">Home</Typography>\n                <DialogWithStyles open={open} onClose={this.toggleDialog} />\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(SettingsDialog);","import get from \"lodash/get\";\n\nimport { themeImages } from \"../../../version/config/theme.config\";\n\nexport function getSummaryContainerStyles(synopsisData) {\n\n    let data = {};\n    data.margin = 0;\n    data.width = \"100%\";\n\n    const cardBackgroundImage = get(themeImages, 'cardBackgroundImage', null);\n\n    const transforms = [\n        'translate(-5px, -98px)',\n        'translate(105px, 12px)',\n        'rotate(69deg) translate(82px, 31px)',\n        'rotate(-110deg) translate(83px, 89px)',\n        'rotate(90deg) translate(59px, 6px)',\n    ];\n\n    let count = 0;\n    synopsisData.map((item, key) => {\n        if (key === transforms.length) {\n            count = 0;\n        }\n\n        data['& #' + item.id + ':before'] = {\n            content: '\"\"',\n            position: \"absolute\",\n            width: 300,\n            height: 300,\n            left: 0,\n            right: 0,\n            zIndex: 999999,\n            background: `url(${cardBackgroundImage}) 0 0 repeat`,\n            backgroundSize: \"contain\",\n            transform: transforms[count],\n        };\n        count++;\n    });\n\n    return data;\n}","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport { connect } from 'react-redux';\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\n\nimport {\n    synopsisAllergiesAction,\n    synopsisContactsAction,\n    synopsisMedicationsAction,\n    synopsisProblemsAction\n} from \"../../actions/synopsisActions\";\nimport { nonCoreSynopsisActions } from \"../../../version/config/nonCoreSynopsis\";\nimport { emergencySummaryAction } from \"../../actions/emergencySummaryAction\";\nimport { currentPatientAction } from \"../../actions/currentPatientAction\";\n\nimport PatientSummaryTable from \"./views/PatientSummaryTable\";\nimport PatientSummaryRoll from \"./views/PatientSummaryRoll\";\nimport { synopsisData } from \"./config\";\nimport SettingsDialog from \"./SettingsDialog\";\nimport Breadcrumbs from \"../../common/Breadcrumbs\";\nimport { themeCommonElements } from \"../../../version/config/theme.config\";\nimport { getSummaryContainerStyles } from \"./functions\";\n\nconst styles = theme => ({\n    summaryContainer: getSummaryContainerStyles(synopsisData),\n    container: {\n        width: \"100%\",\n        height: \"100%\",\n        background: theme.patientSummaryPanel.container.background,\n        backgroundSize: \"cover\",\n    },\n    toggleViewBlock: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between'\n    },\n    formGroup: {\n        width: \"98%\",\n        paddingTop: 5,\n        boxSizing: \"border-box\",\n    },\n    topBlock: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: theme.isOldDesign ? 50 : 100,\n        backgroundColor: theme.palette.mainColor,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"relative\",\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.borderColor}` : null,\n            '&:hover': {\n            cursor: \"pointer\",\n        },\n    },\n    formGroupLabel: {\n        marginTop: 18,\n    },\n    formControlLabel: {\n        marginBottom: 10,\n    },\n    radioGroup: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        marginLeft: 15,\n        marginRight: 10,\n    },\n    radio: {\n        '&$checked': {\n            color: theme.palette.mainColor,\n        }\n    },\n    checked: {},\n});\n\nconst TABLE_VIEW = 'table';\nconst ROLL_VIEW = 'roll';\n\nclass PatientSummaryInfo extends Component {\n\n    state = {\n        isRollView: get(themeCommonElements, 'hasPatientSummaryRoll', false),\n    };\n\n    toggleView = () => {\n        this.setState({\n            isRollView: !this.state.isRollView,\n        });\n    };\n\n    componentDidMount() {\n        if (localStorage.getItem('role') === 'PHR') {\n            this.props.updateCurrentPatient(localStorage.getItem('patientId'));\n        }\n        if (localStorage.getItem('userId') && localStorage.getItem('username')) {\n            this.props.getPatientSynopsis();\n            // this.props.getEmergencySummary(localStorage.getItem('patientId'));\n        }\n    }\n\n    componentWillReceiveProps(nextProps, nextContent) {\n        const { patientInfo } = this.props;\n        if (patientInfo !== nextProps.patientInfo) {\n            // this.props.getRandomPhoto(get(nextProps, 'patientInfo.gender', 'male'));\n        }\n    }\n\n    render() {\n        const { classes, location, history } = this.props;\n        const { isRollView } = this.state;\n        const breadcrumbsResource = [\n            { url: location.pathname, title: \"Patient Summary\", isActive: false }\n        ];\n        const viewType = isRollView ? ROLL_VIEW : TABLE_VIEW;\n        const isRollViewDefault = get(themeCommonElements, 'hasPatientSummaryRoll', false);\n        return (\n            <Grid id=\"patientSummary\" className={classes.container} >\n                <Breadcrumbs resource={breadcrumbsResource} />\n                <div className={classes.toggleViewBlock}>\n                    <SettingsDialog className={classes.settingsIcon} />\n                    {\n                        isRollViewDefault &&\n                            <div className={classes.toggleViewBlock} >\n                                <Typography variant=\"h1\" className={classes.formGroupLabel}>View</Typography>\n                                <FormGroup className={classes.formGroup}>\n                                    <RadioGroup name=\"viewType\" className={classes.radioGroup} value={viewType} onChange={() => this.toggleView()} row>\n                                        <FormControlLabel\n                                            className={classes.formControlLabel}\n                                            value={ROLL_VIEW}\n                                            control={<Radio classes={{ root: classes.radio, checked: classes.checked }} />}\n                                            label=\"Roll\"\n                                        />\n                                        <FormControlLabel\n                                            className={classes.formControlLabel}\n                                            value={TABLE_VIEW}\n                                            control={<Radio classes={{ root: classes.radio, checked: classes.checked }} />}\n                                            label=\"Table\"\n                                        />\n                                    </RadioGroup>\n                                </FormGroup>\n                            </div>\n                    }\n                </div>\n                <Grid className={classes.summaryContainer} spacing={16} container>\n                    {\n                        isRollView ? <PatientSummaryRoll history={history} /> : <PatientSummaryTable history={history} />\n                    }\n                </Grid>\n            </Grid>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        patientInfo: get(state, 'custom.currentPatient.patientInfo.data', null),\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n\n    const coreSynopsisActions = [\n        // synopsisAllergiesAction,\n        // synopsisContactsAction,\n        // synopsisProblemsAction,\n        // synopsisMedicationsAction,\n    ];\n\n    const synopsisActions = coreSynopsisActions.concat(nonCoreSynopsisActions);\n\n    return {\n        getPatientSynopsis() {\n            synopsisActions.map(item => {\n                return dispatch(item.request());\n            });\n        },\n        getEmergencySummary(patientId) {\n            dispatch(emergencySummaryAction.request('vitalsigns', patientId));\n        },\n        getRandomPhoto(gender) {\n            dispatch(currentPatientAction.requestPhoto(gender));\n        },\n        updateCurrentPatient(data) {\n            dispatch(currentPatientAction.request(data));\n        },\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(PatientSummaryInfo));","import backgroundImage from \"../../version/images/Artboard.png\";\nimport cardBackgroundImage from \"../../version/images/blue-ring-01.png\";\nimport tableHeaderImage from \"../../version/images/table-header.png\";\n\nimport ThemeTopbar from \"../common/Topbar\";\nimport PatientSummary from \"../../core/pages/PatientSummary\";\n\nexport const themeShortMenu = [\n    { id: 'menu-summary', url: '/summary', label: 'Patient Summary' },\n    // { url: '/problems', label: 'Problems / Issues' },\n    // { url: '/medications', label: 'Medications' },\n    // { url: '/vaccinations', label: 'Vaccinations' },\n    // { url: '/allergies', label: 'Allergies' },\n    // { url: '/contacts', label: 'Contacts' },\n    { id: 'menu-top3Things', url: '/top3Things', label: 'TopThreeThings' },\n];\n\nexport const themeFullMenu = [\n    { id: 'menu-summary', url: '/summary', label: 'Patient Summary' },\n    // { url: '/problems', label: 'Problems / Issues' },\n    // { url: '/medications', label: 'Medications' },\n    // { url: '/vaccinations', label: 'Vaccinations' },\n    // { url: '/allergies', label: 'Allergies' },\n    // { url: '/contacts', label: 'Contacts' },\n    { id: 'menu-top3Things', url: '/top3Things', label: 'TopThreeThings' },\n];\n\nexport const themeCommonElements = {\n    topbar: ThemeTopbar,\n    homePage: PatientSummary,\n    isFooterAbsent: true,\n};\n\nexport const themeImages = {\n    backgroundImage: backgroundImage,\n    cardBackgroundImage: cardBackgroundImage,\n    tableHeaderImage: tableHeaderImage,\n};\n","import React from \"react\";\nimport get from \"lodash/get\";\nimport { translate } from 'react-admin';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nimport { themeCommonElements } from \"../../version/config/theme.config\";\nimport { totalSynopsisData } from \"../pages/PatientSummary/config\";\n\nconst isTableHeaderInverted = get(themeCommonElements, 'invertedTableHeaders', false);\n\nconst styles = theme => ({\n    tableHeaderBlock: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        background: theme.tableHeader.tableHeaderBlock.background,\n        backgroundSize: \"cover\",\n        color: theme.palette.paperColor,\n        padding: 15,\n    },\n    mainHeader: {\n        margin: 0,\n    },\n    title: {\n        marginTop: 0,\n        color: isTableHeaderInverted ? theme.palette.fontColor : theme.palette.paperColor,\n        fontSize: 24,\n        fontWeight: 800,\n    },\n    description: {\n        color: isTableHeaderInverted ? theme.palette.fontColor : theme.palette.paperColor,\n        fontSize: 15,\n    },\n    icon: {\n        color: theme.palette.mainColor,\n        marginRight: 15,\n    },\n});\n\nfunction getCurrentPlugin(resource) {\n    let result = null;\n    for (let i = 0, n = totalSynopsisData.length; i < n; i++) {\n        let item = totalSynopsisData[i];\n        if (item.list === resource) {\n            result = item;\n            break;\n        }\n    }\n    return result;\n}\n\n/**\n * This component returns header for table\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}  classes\n * @param {string} resource\n * @param {func}   translate\n */\nconst TableHeader = ({ classes, resource, translate }) => {\n    const plugin = getCurrentPlugin(resource);\n    const title = get(plugin, 'title', null);\n    const description = get(plugin, 'description', null);\n    const icon = get(plugin, 'icon', null);\n    return (\n        <div id=\"tableHeader\" className={classes.tableHeaderBlock} >\n            { (isTableHeaderInverted && icon) && <FontAwesomeIcon icon={icon} size=\"3x\" className={classes.icon} /> }\n            <div>\n                <h1 className={classes.mainHeader}>\n                    <Typography id=\"tableHeader-title\" className={classes.title}>{title}</Typography>\n                </h1>\n                <Typography className={classes.description}>{description}</Typography>\n            </div>\n        </div>\n    );\n};\n\nexport default withStyles(styles)(translate(TableHeader));","import React from \"react\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n    fontAwesomeIcon: {\n        color: theme.isOldDesign ? `${theme.palette.secondaryMainColor} !important` : `${theme.palette.paperColor} !important`,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        paddingTop: 4,\n        paddingLeft: 10,\n        paddingRight: 10,\n        height: 37,\n        boxSizing: 'border-box',\n    },\n});\n\nconst CustomIcon = ({ classes, iconClassName }) => (\n    <div className={classes.fontAwesomeIcon}>\n        <i className={iconClassName}></i>\n    </div>\n);\n\nexport default withStyles(styles)(CustomIcon);","import React, { Component } from \"react\";\n\n/**\n * This component returns Details block template\n * (fork to Edit and Show)\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nclass DetailsTemplate extends Component {\n\n    state = {\n        viewType: this.props.mode,\n    };\n\n    changeViewType = viewType => {\n        this.setState({\n            viewType: viewType,\n        })\n    };\n\n    render() {\n        const { classes, show, edit, ...rest } = this.props;\n        const { viewType } = this.state;\n        const ShowTemplate = show;\n        const EditTemplate = edit;\n        if (viewType === 'show') {\n            return (\n                <ShowTemplate changeViewType={this.changeViewType} {...this.props} />\n            );\n        } else if (viewType === 'edit') {\n            return (\n                <EditTemplate changeViewType={this.changeViewType} {...this.props} />\n            );\n        }\n        return null;\n    }\n}\n\nexport default DetailsTemplate;","export const MODE_TABLE = 'table';\nexport const MODE_CHART = 'chart';\nexport const MODE_TIMELINE = 'timeline';\n\nexport const DATE_FORMAT = 'DD-MM-YYYY';","import React from \"react\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = theme => ({\n    emptyBlock: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        height: 48,\n        backgroundColor: theme.palette.paperColor,\n        textAlign: \"center\",\n        borderBottom: `1px solid ${theme.palette.borderColor}`,\n        borderLeft: `1px solid ${theme.palette.borderColor}`,\n        borderRight: `1px solid ${theme.palette.borderColor}`,\n    }\n});\n\nconst EmptyListBlock = ({ classes }) => (\n    <div className={classes.emptyBlock}>\n        <Typography>No Records found</Typography>\n    </div>\n);\n\nexport default withStyles(styles)(EmptyListBlock);\n","import get from \"lodash/get\";\nimport memoize from \"lodash/memoize\";\nimport DeepMerge from 'deepmerge';\n\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { themeImages, themeCommonElements } from \"../../version/config/theme.config\";\n\nexport const ITEMS_PER_PAGE = 10;\n\nconst defaultLightPalette = {\n    type: 'light',\n    mainColor: \"#0D672F\",\n    secondaryMainColor: \"#0D672F\",\n    tableHeadColor: \"#c5e39f\",\n    dangerColor: \"#da534f\",\n    viewButton: \"#30ad57\",\n    disabledColor: \"#e9e4e4\",\n    borderColor: \"#e5e5e5\",\n    paperColor: \"#fff\",\n    toolbarColor: \"#e5e5e5\",\n    fontColor: \"#000\",\n    topbarButton: \"#757575\",\n    menuItemsColor: \"#3E3E3E\",\n};\n\nconst defaultDarkPalette = {\n    type: 'dark',\n    mainColor: \"#000\",\n    secondaryMainColor: \"#000\",\n    tableHeadColor: \"#e8e8e8\",\n    dangerColor: \"#000\",\n    viewButton: \"#000\",\n    disabledColor: \"#e9e4e4\",\n    borderColor: \"#000\",\n    paperColor: \"#fff\",\n    fontColor: \"#000\",\n    toolbarColor: \"#fff\",\n    background: \"#fff\",\n    text: \"#000\",\n    divider: \"#000\",\n    topbarButton: \"#000\",\n    menuItemsColor: \"#000\",\n};\n\n/**\n * This function defined background-rule for Patient Summary panels and for table headings\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {boolean} isContrastMode\n * @param {string}  themeColor\n * @param {string}  imageName\n * @return {string}\n */\nfunction getBackground(isContrastMode, themeColor, imageName) {\n    const cardBackgroundImage = get(themeImages, imageName, null);\n    let result = themeColor;\n    if (cardBackgroundImage) {\n        result = `url(${cardBackgroundImage}) 0 0 repeat`;\n    }\n    return (isContrastMode) ? \"#000\" : result;\n}\n\nfunction getCurrentPalette(isContrastMode) {\n    return isContrastMode\n        ? DeepMerge(defaultDarkPalette, window.config.darkPalette)\n        : DeepMerge(defaultLightPalette, window.config.lightPalette);\n}\n\n/**\n * This function returns current theme settings\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nfunction getCurrentTheme(isContrastMode) {\n    const backgroundImage = isContrastMode ? null : get(themeImages, 'backgroundImage', null);\n    const palette = getCurrentPalette(isContrastMode);\n    const isOldDesign = get(window, 'config.isOldDesign', false);\n    const isRectangleButtons = get(window, 'config.isRectangleButtons', false);\n    const isTableHeaderInverted = get(themeCommonElements, 'invertedTableHeaders', false);\n    const tableHeaderColor = isTableHeaderInverted ? palette.tableHeadColor : palette.secondaryMainColor;\n    return createMuiTheme({\n        palette: palette,\n        isOldDesign: isOldDesign,\n        isRectangleButtons: isRectangleButtons,\n        typography: {\n            fontFamily: '\"HK Grotesk Regular\", Arial, sans-serif',\n            fontSize: 14,\n        },\n        tableHeader: {\n            tableHeaderBlock: {\n                background: getBackground(isContrastMode, tableHeaderColor, 'tableHeaderImage'),\n            },\n        },\n        patientSummaryPanel: {\n            container: {\n                background: `url(${backgroundImage})`,\n            },\n            topBlock: {\n                background: getBackground(isContrastMode, palette.secondaryMainColor, 'cardBackgroundImage'),\n            }\n        },\n        overrides: {\n            MuiInput: {\n                root: {\n                    border: `1px solid ${palette.borderColor}`,\n                }\n            },\n            MuiList: {\n                root: {\n                    backgroundColor: palette.paperColor,\n                }\n            },\n            MuiPaper: {\n                elevation1: {\n                    boxShadow: \"none\",\n                    backgroundColor: palette.paperColor,\n                }\n            },\n            MuiTable: {\n                root: {\n                    backgroundColor: palette.paperColor,\n                    border: `1px solid ${palette.borderColor}`,\n                }\n            },\n            MuiTableHead: {\n                root: {\n                    backgroundColor: isContrastMode ? palette.paperColor : palette.borderColor,\n                    color: isContrastMode ? palette.paperColor : palette.fontColor,\n                }\n            },\n            MuiTableRow: {\n                head: {\n                    height: 48,\n                }\n            },\n            MuiTableCell: {\n                head: {\n                    color: palette.fontColor,\n                    fontSize: 16,\n                    fontWeight: 800,\n                },\n                paddingNone: {\n                    paddingLeft: 10,\n                }\n            },\n            MuiTypography: {\n                root: {\n                    fontFamily: '\"HK Grotesk SemiBold\", Arial, sans-serif',\n                    fontSize: 17,\n                },\n                body1: {\n                    fontFamily: '\"HK Grotesk Regular\", Arial, sans-serif',\n                    fontSize: 14,\n                },\n                body2: {\n                    fontFamily: '\"HK Grotesk SemiBold\", Arial, sans-serif',\n                    fontSize: 14,\n                },\n                h3: {\n                    fontFamily: '\"HK Grotesk SemiBold\", Arial, sans-serif',\n                    fontSize: 16,\n                }\n            },\n        }\n    });\n}\n\nexport default memoize(getCurrentTheme);","import React from \"react\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nconst styles = theme => ({\n    createButton: {\n        display: \"block\",\n        width: 100,\n        height: 40,\n        margin: 8,\n        padding: 0,\n        backgroundColor: \"white\",\n        color: theme.palette.secondaryMainColor,\n        border: `1px solid ${theme.palette.secondaryMainColor}`,\n        borderRadius: theme.isRectangleButtons ? 0 : 25,\n        fontSize: 16,\n        fontWeight: 800,\n        \"&:hover\": {\n            backgroundColor: theme.palette.secondaryMainColor,\n            color: \"white\",\n        }\n    }\n});\n\n/**\n * This component returns Edit button\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}  classes\n * @param {shape}  history\n * @param {string} redirectPath\n */\nconst CreateButton = ({ classes, history, redirectPath }) => (\n    <Tooltip title=\"Create\">\n        <IconButton aria-label=\"Create\" className={classes.createButton} onClick={() => history.push(redirectPath)}>\n            <AddIcon /> Create\n        </IconButton>\n    </Tooltip>\n);\n\nexport default withStyles(styles)(CreateButton);\n","import React, { Component } from \"react\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport IconButton from '@material-ui/core/IconButton';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport Button from '@material-ui/core/Button';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nconst MAXIMAL_BUTTONS_NUMBER = 5;\n\nconst styles = theme => ({\n    paginatorRoot: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        backgroundColor: \"#fff\",\n    },\n    button: {\n        display: \"block\",\n        border: `1px solid ${theme.palette.borderColor}`,\n        height: 48,\n        width: 48,\n        boxSizing: \"border-box\",\n        borderRadius: 0,\n        color: theme.palette.secondaryMainColor,\n        '&:hover': {\n            color: \"white\",\n            backgroundColor: theme.palette.secondaryMainColor\n        }\n    },\n    activeButton: {\n        display: \"block\",\n        border: `1px solid ${theme.palette.borderColor}`,\n        height: 48,\n        width: 48,\n        boxSizing: \"border-box\",\n        borderRadius: 0,\n        color: \"white\",\n        backgroundColor: theme.palette.secondaryMainColor,\n        '&:hover': {\n            color: \"white\",\n            backgroundColor: theme.palette.secondaryMainColor\n        }\n    }\n});\n\n/**\n * This component returns custom paginator\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nclass CustomPaginator extends Component {\n\n    state = {\n        page: 1,\n        showAll: false,\n    };\n\n    /**\n     * This function adds page parameter to URL\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @param {number} page\n     */\n    goToPage = page => {\n        this.setState(\n            { page: page },\n            () => {\n                const { resourceUrl, history, itemsPerPage } = this.props;\n                const { page} = this.state;\n                history.push(\"/\" + resourceUrl + \"?page=\" + page + \"&perPage=\" + itemsPerPage)\n            }\n        );\n    };\n\n    showAllButtons = () => {\n        this.setState({\n            showAll: true,\n        });\n    };\n\n    /**\n     * This function show all possible buttons\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @param {number} buttonsNumber\n     * @param {number} page\n     * @param {shape} classes\n     * @return {array}\n     */\n    getAllButtons = (buttonsNumber, page, classes) => {\n        let buttons = [];\n        for (let i = 0; i < buttonsNumber; i++) {\n            buttons.push(\n                <Button\n                    onClick={() => this.goToPage(i + 1)}\n                    aria-label={ i + 1 }\n                    className={(page === i + 1) ? classes.activeButton : classes.button}>\n                    { i + 1 }\n                </Button>\n            );\n        }\n        return buttons;\n    };\n\n    /**\n     * This function add spaces to the button array if digit buttons number is more than maximal\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @param {number} buttonsNumber\n     * @param {number} page\n     * @param {shape} classes\n     * @return {array}\n     */\n    getDigitButtons = (buttonsNumber, page, classes) => {\n        let buttons = [];\n        if (buttonsNumber > MAXIMAL_BUTTONS_NUMBER) {\n            const half = Math.ceil(MAXIMAL_BUTTONS_NUMBER / 2) - 1;\n            for (let i = 0; i < half; i++) {\n                buttons.push(\n                    <Button\n                        onClick={() => this.goToPage(i + 1)}\n                        aria-label={ i + 1 }\n                        className={(page === i + 1) ? classes.activeButton : classes.button}>\n                        { i + 1 }\n                    </Button>\n                );\n            }\n            if (page === half) {\n                buttons.push(\n                    <Button\n                        onClick={() => this.goToPage(page + 1)}\n                        aria-label={ page + 1 }\n                        className={(page === page + 1) ? classes.activeButton : classes.button}>\n                        { page + 1 }\n                    </Button>\n                );\n            }\n            if (page > half && page < buttonsNumber - half) {\n                if (page > half + 1) {\n                    buttons.push(<Button className={classes.button} onClick={() => this.showAllButtons()}>{'...'}</Button>);\n                }\n                buttons.push(\n                    <Button\n                        onClick={() => this.goToPage(page + 1)}\n                        aria-label={ page }\n                        className={classes.activeButton}>\n                        { page }\n                    </Button>\n                );\n                buttons.push(\n                    <Button\n                        onClick={() => this.goToPage(page + 1)}\n                        aria-label={ page + 1 }\n                        className={(page === page + 1) ? classes.activeButton : classes.button}>\n                        { page + 1 }\n                    </Button>\n                );\n            }\n            buttons.push(<Button className={classes.button} onClick={() => this.showAllButtons()}>{'...'}</Button>);\n            if (page === buttonsNumber - half) {\n                buttons.push(\n                    <Button\n                        onClick={() => this.goToPage(page)}\n                        aria-label={ page }\n                        className={classes.activeButton}>\n                        { page }\n                    </Button>\n                );\n            }\n            for (let i = buttonsNumber - half; i < buttonsNumber; i++) {\n                buttons.push(\n                    <Button\n                        onClick={() => this.goToPage(i + 1)}\n                        aria-label={ i + 1 }\n                        className={(page === i + 1) ? classes.activeButton : classes.button}>\n                        { i + 1 }\n                    </Button>\n                );\n            }\n        } else {\n            for (let i = 0; i < buttonsNumber; i++) {\n                buttons.push(\n                <Button\n                    onClick={() => this.goToPage(i + 1)}\n                    aria-label={ i + 1 }\n                    className={(page === i + 1) ? classes.activeButton : classes.button}>\n                    { i + 1 }\n                </Button>\n                );\n            }\n        }\n\n        return buttons;\n    };\n\n    render() {\n        const { classes, itemsPerPage, total } = this.props;\n        const { page, showAll } = this.state;\n        const buttonsNumber = Math.ceil(total / itemsPerPage);\n        const buttons = showAll ? this.getAllButtons(buttonsNumber, page, classes) : this.getDigitButtons(buttonsNumber, page, classes);\n        return (\n            <div className={classes.paginatorRoot}>\n                <Tooltip title=\"First page\">\n                    <IconButton onClick={() => this.goToPage(1)} className={classes.button} disabled={page === 1} aria-label=\"First page\">\n                        <FirstPageIcon />\n                    </IconButton>\n                </Tooltip>\n                <Tooltip title=\"Previous page\">\n                    <IconButton onClick={() => this.goToPage(page - 1)} className={classes.button} disabled={page === 1} aria-label=\"Previous page\">\n                        <KeyboardArrowLeft />\n                    </IconButton>\n                </Tooltip>\n                { buttons }\n                <Tooltip title=\"Next page\">\n                    <IconButton onClick={() => this.goToPage(page + 1)} className={classes.button} disabled={page === buttonsNumber} aria-label=\"Next page\">\n                        <KeyboardArrowRight />\n                    </IconButton>\n                </Tooltip>\n                <Tooltip title=\"Last page\">\n                    <IconButton onClick={() => this.goToPage(buttonsNumber)} className={classes.button} disabled={page === buttonsNumber} aria-label=\"Last page\">\n                       <LastPageIcon />\n                    </IconButton>\n                </Tooltip>\n            </div>\n        );\n    }\n};\n\nexport default withStyles(styles)(CustomPaginator);","\nimport React from \"react\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport CreateButton from \"../../common/Buttons/CreateButton\";\nimport CustomPaginator from \"../../common/Buttons/CustomPaginator\";\n\nconst styles = {\n    paginationBlock: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        marginTop: 45,\n    },\n};\n\n/**\n * This component returns toolbar for List\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}   classes\n * @param {boolean} notCreate\n * @param {boolean} isCreatePage\n * @param {string}  resourceUrl\n * @param {string}  createPath\n * @param {shape}   history\n * @param {number}  total\n */\nconst ListToolbar = ({ classes, notCreate, isCreatePage, resourceUrl, createPath, history, total }) => (\n    <div className={classes.paginationBlock}>\n        <CustomPaginator resourceUrl={resourceUrl} history={history} itemsPerPage={10} total={total} />\n        {\n            (!isCreatePage && !notCreate) &&\n                <CreateButton history={history} redirectPath={createPath} />\n        }\n    </div>\n);\n\nexport default withStyles(styles)(ListToolbar);","import React from \"react\";\nimport {List, Datagrid, DatagridBody} from \"react-admin\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport EmptyListBlock from \"../EmptyListBlock\";\nimport {ITEMS_PER_PAGE} from \"../../../config/styles\";\nimport ListToolbar from \"../../Toolbars/ListToolbar\";\n\nconst styles = theme => ({\n    tableList: {\n        whiteSpace: \"nowrap\",\n        '& thead': {\n            '& tr th': {\n                backgroundColor: theme.palette.tableHeadColor + '!important',\n                paddingLeft: 10,\n                borderLeft: theme.isOldDesign ? `0.5px solid ${theme.palette.borderColor}` : null,\n                borderRight: theme.isOldDesign ? `0.5px solid ${theme.palette.borderColor}` : null,\n            },\n        },\n        '& tbody tr:hover': {\n            backgroundColor: theme.palette.secondaryMainColor + '!important',\n            '& td div button': {\n                backgroundColor: theme.palette.paperColor,\n                color: theme.palette.secondaryMainColor\n            },\n            '& td div svg': {\n                backgroundColor: theme.palette.paperColor,\n                color: theme.palette.secondaryMainColor\n            },\n        },\n        '& tbody tr td': {\n            borderLeft: theme.isOldDesign ? `0.5px solid ${theme.palette.borderColor}` : null,\n            borderRight: theme.isOldDesign ? `0.5px solid ${theme.palette.borderColor}` : null,\n        },\n        '& tbody tr:hover td span': {\n            color: theme.palette.paperColor\n        },\n    },\n    tableWrapper: {\n        overflowX: 'auto',\n    },\n    rowEven: {\n        backgroundColor: theme.isOldDesign ? theme.palette.toolbarColor : theme.palette.paperColor\n    },\n    rowOdd: {\n        backgroundColor: theme.palette.paperColor\n    }\n});\n\nconst CustomDatagridBody = ({ CustomRow, location, hiddenColumns, history, ...rest }) => {\n    return (\n        <DatagridBody\n            row={<CustomRow\n                location={location}\n                hiddenColumns={hiddenColumns}\n                history={history}\n            />}\n            {...rest}\n        />\n    );\n};\n\n\nconst CustomDatagrid = ({ classes, history, CustomRow, CustomTableHead, hiddenColumns, location, ...rest }) => {\n    return (\n        <Datagrid\n            body={\n                <CustomDatagridBody\n                    location={location}\n                    hiddenColumns={hiddenColumns}\n                    history={history}\n                    CustomRow={CustomRow}\n                />}\n            {...rest}\n        />\n    );\n};\n\nconst DatagridBlock = ({ classes, location, hiddenColumns, isCustomDatagrid, children, history, CustomRow, CustomTableHead, ...rest }) => {\n    if (isCustomDatagrid) {\n        return (\n            <div className={classes.tableWrapper}>\n                <CustomDatagrid\n                    className={classes.tableList}\n                    hiddenColumns={hiddenColumns}\n                    location={location}\n                    CustomRow={CustomRow}\n                    CustomTableHead={CustomTableHead}\n                    history={history}\n                    {...rest}\n                >\n                    {children}\n                </CustomDatagrid>\n            </div>\n        );\n    }\n    return (\n        <div className={classes.tableWrapper}>\n            <Datagrid\n                className={classes.tableList}\n                classes={{ rowEven: classes.rowEven, rowOdd: classes.rowOdd  }}\n                {...rest}\n            >\n                {children}\n            </Datagrid>\n        </div>\n    );\n};\n\nfunction getSearch(userSearch, userSearchID) {\n    let result = null;\n    if (userSearch) {\n        result = userSearch;\n    }\n    if (userSearchID) {\n        result = userSearchID;\n    }\n    return result;\n}\n\nfunction getSearchType(userSearch, userSearchID, userSearchType, userClinicalQuery) {\n    let result = null;\n    if (userSearch) {\n        result = 'name';\n    }\n    if (userSearchID) {\n        result = 'id';\n    }\n    if (userSearchType) {\n        result = userSearchType;\n    }\n    if (userClinicalQuery) {\n        result = 'clinicalQuery'\n    }\n    return result;\n}\n\nconst TableContent = props => {\n    const { classes, title, idsNumber, isDetailsPage, resourceUrl, notCreate, key, userSearch, userSearchID, userSearchType, userClinicalQuery, filterText, history, isCreatePage, createUrl, children, defaultSort, defaultSortOrder } = props;\n    const sortField = defaultSort ? defaultSort : 'dateCreated';\n    const sortOrder = defaultSortOrder ? defaultSortOrder : 'DESC';\n    const search = getSearch(userSearch, userSearchID);\n    const searchType = getSearchType(userSearch, userSearchID, userSearchType, userClinicalQuery);\n    return (\n        <List\n            resource={resourceUrl}\n            key={key}\n            sort={{ field: sortField, order: sortOrder }}\n            filter={{\n                filterText: (search && resourceUrl === 'patients') ? search : filterText,\n                filterType: searchType,\n                clinicalQuery: userClinicalQuery,\n            }}\n            title={title}\n            perPage={ITEMS_PER_PAGE}\n            actions={null}\n            bulkActions={false}\n            pagination={<ListToolbar notCreate={notCreate} resourceUrl={resourceUrl} history={history} isCreatePage={isCreatePage} createPath={createUrl} />}\n            {...props}\n        >\n            { (idsNumber === 0 && !isDetailsPage) ?\n                <EmptyListBlock />\n                :\n                <DatagridBlock classes={classes} children={children} history={history} {...props} />\n            }\n        </List>\n    );\n};\n\nexport default withStyles(styles)(TableContent);\n\n","import React from \"react\";\n\nconst ChartContent = ({ chartBlock, ...rest }) => {\n    const ChartBlock = chartBlock;\n    return (\n        <React.Fragment>\n            <ChartBlock {...rest} />\n        </React.Fragment>\n    );\n};\n\nexport default ChartContent;\n","import React from \"react\";\n\nconst TimelineContent = ({ timelineBlock, ...rest }) => {\n    const TimelineBlock = timelineBlock;\n    return (\n        <React.Fragment>\n            <TimelineBlock {...rest} />\n        </React.Fragment>\n    );\n};\n\nexport default TimelineContent;\n","import React from \"react\";\n\nimport { withStyles } from \"@material-ui/core/styles/index\";\nimport Typography from \"@material-ui/core/Typography/index\";\nimport Popover from \"@material-ui/core/Popover/index\";\nimport IconButton from \"@material-ui/core/IconButton/index\";\nimport Tooltip from \"@material-ui/core/Tooltip/index\";\nimport TableIcon from '@material-ui/icons/List';\nimport ChartIcon from '@material-ui/icons/ShowChart';\nimport TimelineIcon from '@material-ui/icons/AccessTime';\nimport Divider from \"@material-ui/core/Divider/index\";\n\nimport { MODE_TIMELINE, MODE_TABLE, MODE_CHART } from \"../fragments/constants\";\n\nconst styles = theme => ({\n    paper: {\n        display: \"block\",\n        width: 150,\n        height: 'auto',\n        margin: 0,\n        padding: 10,\n        borderRadius: 0,\n    },\n    label: {\n        paddingLeft: 10,\n    },\n    icon: {\n        paddingLeft: 20,\n        color: theme.palette.secondaryMainColor,\n    },\n});\n\nconst ListModePopover = ({ classes, open, anchorEl, handleClose, resourse, changeListMode, hasChart, hasTimetable }) => {\n    return (\n        <Popover\n            open={open}\n            classes={{ paper: classes.paper }}\n            anchorEl={anchorEl}\n            onClose={handleClose}\n            anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n            transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n        >\n\n            <div>\n                <Typography>TABLES</Typography>\n                <Divider />\n                <Tooltip title=\"Table\">\n                    <IconButton className={classes.icon} onClick={() => changeListMode(MODE_TABLE)}>\n                        <TableIcon />\n                        <Typography className={classes.label}>{resourse}</Typography>\n                    </IconButton>\n                </Tooltip>\n            </div>\n\n            { hasChart &&\n                <div>\n                    <Typography>CHARTS</Typography>\n                    <Divider />\n                    <Tooltip title=\"Chart\">\n                        <IconButton className={classes.icon} onClick={() => changeListMode(MODE_CHART)}>\n                            <ChartIcon />\n                            <Typography className={classes.label}>{resourse}</Typography>\n                        </IconButton>\n                    </Tooltip>\n                </div>\n            }\n\n            { hasTimetable &&\n                <div>\n                    <Typography>TIMELINES</Typography>\n                    <Divider />\n                    <Tooltip title=\"Timeline\">\n                        <IconButton className={classes.icon} onClick={() => changeListMode(MODE_TIMELINE)}>\n                            <TimelineIcon />\n                            <Typography className={classes.label}>{resourse}</Typography>\n                        </IconButton>\n                    </Tooltip>\n                </div>\n            }\n\n        </Popover>\n    );\n};\n\nexport default withStyles(styles)(ListModePopover);\n","import React from \"react\";\n\nimport { withStyles } from \"@material-ui/core/styles/index\";\nimport Popover from \"@material-ui/core/Popover/index\";\n\nconst styles = theme => ({\n    paper: {\n        display: \"block\",\n        width: 400,\n        height: 'auto',\n        margin: 0,\n        padding: 10,\n        borderRadius: 0,\n    },\n});\n\nconst ColumnsTogglePopover = ({ classes, open, anchorEl, handleClose, ColumnsTogglingPopover, toggleColumn }) => {\n    return (\n        <Popover\n            open={open}\n            classes={{ paper: classes.paper }}\n            anchorEl={anchorEl}\n            onClose={handleClose}\n            anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n            transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n        >\n            <ColumnsTogglingPopover toggleColumn={toggleColumn} />\n        </Popover>\n    );\n};\n\nexport default withStyles(styles)(ColumnsTogglePopover);\n","import React, { Component } from 'react';\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport ArrowDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowUpIcon from '@material-ui/icons/ArrowDropUp';\n\nimport ColumnsTogglePopover from \"../popovers/ColumnsTogglePopover\";\n\nconst styles = theme => ({\n    icon: {\n        color: theme.isOldDesign ? `${theme.palette.secondaryMainColor} !important` : `${theme.palette.paperColor} !important`,\n        paddingLeft: 10,\n        paddingRight: 10,\n        marginRight: 5,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        borderRadius: 0,\n        width: 'auto',\n        height: 38,\n    },\n});\n\nclass ColumnsTogglingIcon extends Component {\n\n    state = {\n        anchorEl: null,\n    };\n\n    popoverOpen = event => {\n        this.setState({\n            anchorEl: event.currentTarget,\n        });\n    };\n\n    popoverClose = () => {\n        this.setState({\n            anchorEl: false,\n        });\n    };\n\n    render() {\n        const { classes, hasColumnsToggling, hiddenColumns } = this.props;\n        const { anchorEl } = this.state;\n\n        if (!hasColumnsToggling) {\n            return null;\n        }\n\n        const open = Boolean(anchorEl);\n\n        return (\n            <React.Fragment>\n                <Tooltip title=\"Table\">\n                    <IconButton className={classes.icon} onClick={e => this.popoverOpen(e)}>\n                        <SettingsIcon  />\n                        { open ? <ArrowDownIcon /> : <ArrowUpIcon /> }\n                    </IconButton>\n                </Tooltip>\n                <ColumnsTogglePopover\n                    anchorEl={anchorEl}\n                    open={open}\n                    handleClose={this.popoverClose}\n                    hiddenColumns={hiddenColumns}\n                    {...this.props}\n                />\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(styles)(ColumnsTogglingIcon);\n","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport { connect } from 'react-redux';\nimport { Route } from \"react-router\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport TableIcon from '@material-ui/icons/List';\nimport ChartIcon from '@material-ui/icons/ShowChart';\nimport TimelineIcon from '@material-ui/icons/AccessTime';\n\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faFilter } from '@fortawesome/free-solid-svg-icons';\n\nimport { columnsTogglingAction } from \"../../actions/columnsTogglingAction\";\n\nimport Breadcrumbs from \"../../common/Breadcrumbs\";\nimport TableHeader from \"../../common/TableHeader\";\nimport CustomIcon from \"../../common/CustomIcon\";\nimport DetailsTemplate from \"./DetailsTemplate\";\n\nimport { MODE_TIMELINE, MODE_TABLE, MODE_CHART } from \"./fragments/constants\";\nimport TableContent from \"./fragments/TableContent\";\nimport ChartContent from \"./fragments/ChartContent\";\nimport TimelineContent from \"./fragments/TimelineContent\";\nimport ListModePopover from \"./popovers/ListModePopover\";\nimport ColumnsTogglingIcon from \"./icons/ColumnsTogglingIcon\";\n\nconst listStyles = theme => ({\n    container: {\n        width: '100%',\n        height: '100%',\n        background: theme.patientSummaryPanel.container.background,\n        backgroundSize: \"cover\",\n    },\n    mainBlock: {\n        width: '100%',\n        margin: 0,\n        padding: 10,\n        border: `1px solid ${theme.palette.borderColor}`,\n    },\n    list: {\n        paddingLeft: 0,\n    },\n    blockTitle: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        height: 49,\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        backgroundColor: theme.palette.mainColor,\n        fontSize: 18,\n        fontWeight: 700,\n        paddingLeft: 15,\n        paddingRight: 10,\n    },\n    emptyBlock: {\n        flexGrow: 1,\n    },\n    title: {\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        backgroundColor: theme.palette.mainColor,\n        fontSize: 18,\n        fontWeight: 700,\n    },\n    filterIcon: {\n        color: theme.isOldDesign ? `${theme.palette.secondaryMainColor} !important` : `${theme.palette.paperColor} !important`,\n        paddingLeft: 10,\n        paddingRight: 10,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        height: 35,\n    },\n    listModeIcon: {\n        color: theme.isOldDesign ? `${theme.palette.secondaryMainColor} !important` : `${theme.palette.paperColor} !important`,\n        paddingLeft: 10,\n        paddingRight: 10,\n        marginRight: 5,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        height: 35,\n    },\n    filterInput: {\n        display: 'flex',\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        padding: 5,\n        backgroundColor: `${theme.palette.mainColor} !important`,\n        borderRadius: 0,\n        boxShadow: \"none\",\n        '& button': {\n            color: \"#fff\",\n        },\n    },\n    filterInputIcon: {\n        color: theme.palette.paperColor,\n        marginLeft: 5,\n        marginBottom: 10,\n    },\n    inputBlock: {\n        width: 'calc(100% - 60px)',\n        borderRadius: theme.isOldDesign ? 0 : 18,\n        height: 36,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.disabledColor}` : 0,\n        backgroundColor: theme.isOldDesign ? theme.palette.paperColor : theme.palette.disabledColor,\n        paddingLeft: 5,\n        marginLeft: 10,\n        marginBottom: 10,\n    },\n});\n\n/**\n * This component returns template for List page\n * (it used in List blocks for the plugins Allergies, Contacts, Medications, Problems etc.)\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nclass ListTemplate extends Component {\n\n    state = {\n        listMode: MODE_TABLE,\n        anchorEl: null,\n        isListOpened: true,\n        isFilterOpened: false,\n        filterText: null,\n        key: 0,\n        hiddenColumns: [],\n    };\n\n    /**\n     * This function returns create page URL\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @return {string}\n     */\n    getCreateUrl = () => {\n        let currentPage = null;\n        const search = get(this.props, 'location.search', null);\n        if (search) {\n            const params = new URLSearchParams(search);\n            currentPage = params.get('page');\n        }\n        let createPage = \"/\" + this.props.resourceUrl + \"/create\";\n        return currentPage ? (createPage + \"?page=\" + currentPage + \"&perPage=10\") : createPage;\n    };\n\n    /**\n     * This function returns details page URL\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @return {string}\n     */\n    getDetailsUrl = () => {\n        return \"/\" + this.props.resourceUrl + \"/:id\";\n    };\n\n    /**\n     * This function checks is current create page\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @return {string}\n     */\n    isCreatePage = () => {\n        const defaultCreateUrl = \"/\" + this.props.resourceUrl + \"/create\";\n        return (this.props.location.pathname === defaultCreateUrl);\n    };\n\n    /**\n     * This function toggle filter input\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     */\n    toggleFilter = () => {\n        this.setState({\n            isFilterOpened: !this.state.isFilterOpened,\n        })\n    };\n\n    toggleListBlock = e => {\n        e.stopPropagation();\n        this.setState({\n            isListOpened: !this.state.isListOpened,\n        })\n    };\n\n    /**\n     * This function check is current page is list page with table (it also used at create and show pages).\n     * Settings of <Grid /> component of <ListTemplate /> depends on result of this function.\n     *\n     * Second part of condition - for the case when list page is a homepage\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @return {boolean}\n     */\n    isListPage = () => {\n        return (this.props.location.pathname === `/${this.props.resourceUrl}`) || (this.props.location.pathname === '/');\n    };\n\n    /**\n     * This function set filter string to state\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @param {shape} e\n     */\n    filterByText = e => {\n        this.setState({\n            filterText: e.target.value,\n            key: this.state.key + 1,\n        })\n    };\n\n    hasNewItem = (resource, newListArray, prevListArray, nextProps, userSearch) => {\n        let result = false;\n        const newDataArray = Object.values(get(nextProps, 'currentData', {}));\n        for (let i = 0, n = newDataArray.length; i < n; i++) {\n            let item = newDataArray[i];\n            if (resource !== 'patients' && get(item, 'isNew', false)) {\n                result = true;\n                break;\n            }\n        }\n        return result;\n    };\n\n    componentDidMount() {\n        const { resourceUrl, isChartDefault, toggleColumnStore, defaultHiddenColumns } = this.props;\n\n        if (isChartDefault) {\n            this.setState({\n                listMode: MODE_CHART,\n            });\n        }\n\n        if (defaultHiddenColumns) {\n            defaultHiddenColumns.map(item => {\n                toggleColumnStore(resourceUrl, item, false);\n            });\n        }\n        this.setState({\n            hiddenColumns: defaultHiddenColumns,\n        });\n\n        if (defaultHiddenColumns) {\n            this.props.updateTableHead();\n        }\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        const newListArray = Object.values(get(nextProps, 'currentList', {}));\n        const prevListArray = Object.values(get(this.props, 'currentList', {}));\n        const userSearch = get(nextProps, 'userSearch', null);\n        const resource = get(nextProps, 'resource', null);\n        const hasNewItem = this.hasNewItem(resource, newListArray, prevListArray, nextProps, userSearch);\n        if (newListArray.length === 1 && prevListArray.length === 0 && hasNewItem) {\n            this.setState({\n                key: this.state.key + 1\n            });\n        }\n    }\n\n    getListModeIcon = () => {\n        const { listMode } = this.state;\n        let result = TableIcon;\n        if (listMode === MODE_CHART) {\n            result = ChartIcon;\n        } else if (listMode === MODE_TIMELINE) {\n            result = TimelineIcon;\n        }\n        return result;\n    };\n\n    getContentBlock = () => {\n        const { listMode } = this.state;\n        let result = TableContent;\n        if (listMode === MODE_CHART) {\n            result = ChartContent;\n        } else if (listMode === MODE_TIMELINE) {\n            result = TimelineContent;\n        }\n        return result;\n    };\n\n    changeListMode = mode => {\n        this.setState({\n            listMode: mode,\n            anchorEl: false,\n        });\n    };\n\n    popoverOpen = event => {\n        this.setState({\n            anchorEl: event.currentTarget,\n        });\n    };\n\n    popoverClose = () => {\n        this.setState({\n            anchorEl: false,\n        });\n    };\n\n    toggleColumn = (columnName, value) => {\n        const { resourceUrl, toggleColumnStore, updateTableHead } = this.props;\n\n        let hiddenColumnsArray = this.state.hiddenColumns;\n        let key = this.state.key;\n\n        if (hiddenColumnsArray.indexOf(columnName) !== -1) {\n            let index = hiddenColumnsArray.indexOf(columnName);\n            hiddenColumnsArray.splice(index, 1);\n        } else {\n            hiddenColumnsArray.push(columnName);\n        }\n        key++;\n\n        this.setState({\n            hiddenColumns: hiddenColumnsArray,\n            key: key,\n        }, () => {\n            updateTableHead();\n            toggleColumnStore(resourceUrl, columnName, value)\n        });\n    };\n\n    render() {\n        const { create, resourceUrl, title, classes, history, notCreate, headerFilterAbsent, currentList, isChartDefault, hasChart, hasTimetable, isCustomDatagrid } = this.props;\n        const { isFilterOpened, isListOpened, anchorEl, hiddenColumns, key, filterText } = this.state;\n\n        const breadcrumbsResource = [\n            { url: \"/\" + resourceUrl, title: title, isActive: false },\n        ];\n        const CreateBlock = create;\n        const createUrl = this.getCreateUrl();\n        const defaultCreateUrl = \"/\" + this.props.resourceUrl + \"/create\";\n\n        let titleTable = title;\n\n        const currentListArray = Object.values(currentList);\n        const idsNumber = currentListArray.length > 0 ? currentListArray.length : 0;\n\n        const ListModeIcon = this.getListModeIcon();\n        const ContentBlock = this.getContentBlock();\n\n        const open = Boolean(anchorEl);\n        const isDetailsPage = !this.isListPage();\n\n        return (\n            <div className={classes.container}>\n                <Breadcrumbs resource={breadcrumbsResource} />\n                <TableHeader resource={resourceUrl} />\n                <Grid id=\"listTemplate\" container spacing={16} className={classes.mainBlock}>\n                    { isListOpened &&\n                    <Grid className={classes.list} item xs={12} sm={this.isListPage() ? 12 : 6}>\n                        <div className={classes.headerBlock}>\n                            <div className={classes.blockTitle}>\n                                <Typography className={classes.title}>{titleTable}</Typography>\n                                <div className={classes.emptyBlock}></div>\n                                {!this.isListPage() &&\n                                    <Tooltip title=\"Expand\">\n                                        <IconButton onClick={() => history.push(\"/\" + resourceUrl)} >\n                                            <CustomIcon iconClassName=\"fa fa-expand\" />\n                                        </IconButton>\n                                    </Tooltip>\n                                }\n                                <ColumnsTogglingIcon hiddenColumns={hiddenColumns} toggleColumn={this.toggleColumn} {...this.props} />\n                                {\n                                    (hasChart || hasTimetable) &&\n                                        <React.Fragment>\n                                            <Tooltip title=\"Table\">\n                                                <IconButton onClick={e => this.popoverOpen(e)}>\n                                                    <ListModeIcon className={classes.listModeIcon}/>\n                                                </IconButton>\n                                            </Tooltip>\n                                            <ListModePopover\n                                                anchorEl={anchorEl}\n                                                open={open}\n                                                changeListMode={this.changeListMode}\n                                                handleClose={this.popoverClose}\n                                                resourse={title}\n                                                hasChart={hasChart}\n                                                hasTimetable={hasTimetable}\n                                            />\n                                        </React.Fragment>\n                                }\n                                { !headerFilterAbsent &&\n                                    <Tooltip title=\"Search\">\n                                        <IconButton onClick={() => this.toggleFilter()}>\n                                            <FontAwesomeIcon icon={faFilter} className={classes.filterIcon}  size=\"1x\" />\n                                        </IconButton>\n                                    </Tooltip>\n                                }\n                            </div>\n                            {\n                                isFilterOpened &&\n                                    <div className={classes.filterBlock}>\n                                        <Paper className={classes.filterInput} elevation={1}>\n                                            <FontAwesomeIcon icon={faFilter} className={classes.filterInputIcon}  size=\"1x\" />\n                                            <input className={classes.inputBlock} onChange={e => this.filterByText(e)} placeholder=\"Filter...\" />\n                                        </Paper>\n                                    </div>\n                            }\n                        </div>\n                        <ContentBlock\n                            key={key}\n                            filterText={filterText}\n                            hiddenColumns={hiddenColumns}\n                            createUrl={createUrl}\n                            idsNumber={idsNumber}\n                            isCustomDatagrid={isCustomDatagrid}\n                            history={history}\n                            notCreate={notCreate}\n                            isDetailsPage={isDetailsPage}\n                            {...this.props}\n                        />\n                    </Grid>\n                    }\n                    {\n                        (!this.isCreatePage())\n                            ?\n                            <Route\n                                path={this.getDetailsUrl()}\n                                render={({ match }) => <DetailsTemplate mode=\"show\" isListOpened={isListOpened} toggleListBlock={this.toggleListBlock} {...this.props} id={match.params.id} />}\n                            />\n                            :\n                            <Route\n                                path={defaultCreateUrl}\n                                render={({ match }) => <CreateBlock isListOpened={isListOpened} toggleListBlock={this.toggleListBlock} id={match.params.id} {...this.props} />}\n                            />\n                    }\n                </Grid>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps)  => {\n    return {\n        currentList: get(state, 'admin.resources[' + ownProps.resource + '].list.ids', []),\n        currentData: get(state, 'admin.resources[' + ownProps.resource + '].data', []),\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleColumnStore(resource, columnName, value) {\n            dispatch(columnsTogglingAction.toggle(resource, columnName, value));\n        },\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(listStyles)(ListTemplate));\n","import React from \"react\";\nimport { SaveButton } from \"react-admin\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport DoneIcon from '@material-ui/icons/Done';\n\nconst styles = theme => ({\n    saveButton: {\n        display: \"flex\",\n        alignItems: \"flex-end\",\n        width: 130,\n        height: 40,\n        margin: 8,\n        backgroundColor: theme.palette.secondaryMainColor,\n        color: \"white\",\n        border: `1px solid ${theme.palette.secondaryMainColor}`,\n        borderRadius: theme.isRectangleButtons ? 0 : 25,\n        fontSize: 16,\n        fontWeight: 800,\n        padding: 0,\n        \"& svg\": {\n            marginRight: 5,\n        },\n        \"& span\": {\n            textTransform: \"capitalize\"\n        },\n        \"&:hover\": {\n            backgroundColor: \"white\",\n            color: theme.palette.secondaryMainColor,\n        }\n    },\n});\n\n/**\n * This component returns Save button with custom styles\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n */\nconst CustomSaveButton = ({ classes, ...rest }) => (\n    <SaveButton id=\"saveButton\" aria-label=\"Complete\" label=\"Complete\" icon={<DoneIcon className={classes.icon} />} className={classes.saveButton} {...rest} />\n);\n\nexport default withStyles(styles)(CustomSaveButton);\n","import React from \"react\";\nimport { Toolbar, ListButton } from \"react-admin\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport BlockIcon from '@material-ui/icons/Block';\n\nimport CustomSaveButton from \"../../common/Buttons/CustomSaveButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nconst styles = theme => ({\n    listButton: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        width: 110,\n        height: 40,\n        margin: \"8px !important\",\n        padding: 0,\n        color: theme.palette.paperColor,\n        backgroundColor: theme.palette.dangerColor,\n        border: `1px solid ${theme.palette.dangerColor}`,\n        borderRadius: theme.isRectangleButtons ? 0 : 25,\n        fontSize: 16,\n        fontWeight: 800,\n        \"&:hover\": {\n            color: theme.palette.dangerColor,\n            backgroundColor: theme.palette.paperColor,\n        },\n        \"& svg\": {\n            marginRight: 2,\n        },\n        \"& span\": {\n            textTransform: \"capitalize\",\n        },\n    },\n    toolbar: {\n        backgroundColor: theme.palette.toolbarColor,\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-end\",\n    }\n});\n\n/**\n * This component returns toolbar without delete button for create forms\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}  classes\n * @param {string} resourceUrl\n * @param {shape}  history\n * @param {shape}  props\n */\nconst CreateFormToolbar = ({ classes, resourceUrl, history, ...props}) => {\n    return (\n        <Toolbar className={classes.toolbar} {...props} >\n            <Tooltip title=\"Cancel\" disableHoverListener={true}>\n                <IconButton type=\"button\" className={classes.listButton} onClick={() => history.push('/' + resourceUrl)}>\n                    <BlockIcon />\n                    Cancel\n                </IconButton>\n            </Tooltip>\n            <CustomSaveButton {...props} />\n        </Toolbar>\n    );\n};\n\nexport default withStyles(styles)(CreateFormToolbar);","import React from \"react\";\nimport { Create, SimpleForm } from \"react-admin\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport CreateFormToolbar from \"../../common/Toolbars/CreateFormToolbar\";\nimport CustomIcon from \"../CustomIcon\";\n\nconst styles = theme => ({\n    blockTitle: {\n        display: \"flex\",\n        alignItems: \"center\",\n        height: 49,\n        backgroundColor: theme.palette.mainColor,\n        paddingLeft: 15,\n    },\n    title: {\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        fontSize: 18,\n        fontWeight: 700,\n    },\n    emptyBlock: {\n        flexGrow: 1,\n    },\n    expandBlockIcon: {\n        height: 35,\n        paddingLeft: 10,\n        paddingRight: 10,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        color: theme.isOldDesign ? theme.palette.secondaryMainColor : theme.palette.paperColor,\n    },\n    createForm: {\n        '& > div': {\n            paddingTop: '0px !important',\n            paddingLeft: 10,\n            paddingRight: 10,\n            border: `1px solid ${theme.palette.borderColor}`\n        },\n    },\n    customFormBlock: {\n        backgroundColor: theme.palette.paperColor,\n        border: `1px solid ${theme.palette.borderColor}`\n    },\n});\n\n/**\n * This component returns common template for plugin Create form\n * (it used in Create blocks for the plugins Allergies, Contacts, Medications, Problems etc.)\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}   classes\n * @param {boolean} isCustom\n * @param {string}  resourceUrl\n * @param {shape}   history\n * @param {boolean} isListOpened\n * @param {func}    toggleListBlock\n * @param {string}  blockTitle\n * @param {shape}   children\n * @param {shape}   rest\n */\nconst CreateTemplate = ({ classes, isCustom, resourceUrl, history, isListOpened, toggleListBlock, blockTitle, children, ...rest }) => (\n    <Grid item xs={12} sm={isListOpened ? 6 : 12}>\n        <div className={classes.blockTitle}>\n            <Typography className={classes.title}>{blockTitle}</Typography>\n            <div className={classes.emptyBlock}></div>\n            <Tooltip title={isListOpened ? \"Expand\" : \"Compress\"}>\n                <IconButton onClick={e => toggleListBlock(e)}>\n                    <CustomIcon iconClassName={isListOpened ? 'fa fa-expand' : 'fa fa-compress'} />\n                </IconButton>\n            </Tooltip>\n        </div>\n        { !isCustom\n            ?\n                <Create {...rest}>\n                    <SimpleForm className={classes.createForm} toolbar={<CreateFormToolbar resourceUrl={resourceUrl} history={history} />}>\n                        {children}\n                    </SimpleForm>\n                </Create>\n            :\n            <div className={classes.customFormBlock}>\n                {children}\n            </div>\n        }\n    </Grid>\n);\n\nexport default withStyles(styles)(CreateTemplate);\n","export default theme => ({\n    customRoot: {\n        padding: 0,\n        border: 'none',\n    },\n    formGroup: {\n        paddingLeft: 10,\n        paddingRight: 10,\n        boxSizing: \"border-box\",\n        '& div div input': {\n            marginTop: 5,\n            border: `1px solid #a8a9a9`,\n        },\n        '& div div textarea': {\n            marginTop: 5,\n            border: `1px solid #a8a9a9`,\n        },\n    },\n    customFormLabel: {\n        display: \"block\",\n        fontWeight: 800,\n        color: theme.palette.fontColor,\n        fontSize: 18,\n        marginBottom: 15,\n    },\n    customInput: {\n        borderRadius: 0,\n        backgroundColor: theme.palette.paperColor,\n        border: 'none',\n        height: 25,\n        paddingLeft: 10,\n        paddingTop: 2,\n        paddingBottom: 2,\n    },\n    customTextarea: {\n        borderRadius: 0,\n        backgroundColor: theme.palette.paperColor,\n        border: 'none',\n        height: 60,\n        paddingLeft: 10,\n        paddingTop: 5,\n        paddingBottom: 5,\n    },\n    customSelector: {\n        borderRadius: 0,\n        backgroundColor: theme.palette.paperColor,\n        border: `1px solid #a8a9a9`,\n        paddingLeft: 10,\n        marginTop: 5,\n        paddingTop: 5,\n        paddingBottom: 5,\n    }\n});","import React from \"react\";\nimport { TextInput, DateInput, LongTextInput } from \"react-admin\";\nimport moment from \"moment\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport FormGroup from \"@material-ui/core/FormGroup\";\n\nimport formStyles from \"../../../config/formStyles\";\n\n/**\n * This component returns inputs for Allergies creation/editing forms\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {shape} rest\n */\nconst AllergiesInputs = ({ classes }) => (\n    <React.Fragment>\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"cause\"\n                label=\"Cause\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n        <FormGroup className={classes.formGroup}>\n            <LongTextInput\n                source=\"reaction\"\n                label=\"Reaction / Description\"\n                rows={20}\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customTextarea } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"causeCode\"\n                label=\"Terminology\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"causeTerminology\"\n                label=\"Terminology Code\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"author\"\n                label=\"Author\"\n                defaultValue={localStorage.getItem('username')}\n                disabled={true}\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n        <FormGroup className={classes.formGroup}>\n            <DateInput\n                className={classes.labelBlock}\n                source=\"dateCreated\"\n                label=\"Date\"\n                defaultValue={moment().format('MM/DD/YYYY')}\n                disabled={true}\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n    </React.Fragment>\n);\n\nexport default withStyles(formStyles)(AllergiesInputs);\n","import React from \"react\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport BlockIcon from '@material-ui/icons/Block';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nconst styles = theme => ({\n    button: {\n        display: \"block\",\n        width: 110,\n        height: 40,\n        margin: \"8px !important\",\n        padding: 0,\n        color: theme.palette.paperColor,\n        backgroundColor: theme.palette.dangerColor,\n        border: `1px solid ${theme.palette.dangerColor}`,\n        borderRadius: theme.isRectangleButtons ? 0 : 25,\n        fontSize: 16,\n        fontWeight: 800,\n        \"&:hover\": {\n            color: theme.palette.dangerColor,\n            backgroundColor: theme.palette.paperColor,\n        }\n    },\n    icon: {\n        paddingRight: 5,\n    }\n});\n\n/**\n * This component returns Cancel button\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {func}  redirectTo\n */\nconst CancelButton = ({ classes, redirectTo }) => (\n    <Tooltip title=\"Cancel\">\n        <IconButton aria-label=\"Cancel\" className={classes.button} onClick={() => redirectTo('show')}>\n            <BlockIcon className={classes.icon} /> Cancel\n        </IconButton>\n    </Tooltip>\n);\n\nexport default withStyles(styles)(CancelButton);\n","import React from \"react\";\nimport { Toolbar } from \"react-admin\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport CancelButton from \"../Buttons/CancelButton\";\nimport CustomSaveButton from \"../Buttons/CustomSaveButton\";\n\nconst styles = theme => ({\n    toolbar: {\n        backgroundColor: theme.palette.toolbarColor,\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-end\",\n    }\n});\n\n/**\n * This component returns custom toolbar for edit form\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {func}  changeViewType\n * @param {shape} props\n * @constructor\n */\nconst EditToolbar = ({ classes, changeViewType, ...props }) => {\n    return (\n        <Toolbar className={classes.toolbar} {...props} >\n            <CancelButton redirectTo={changeViewType} />\n            <CustomSaveButton {...props} />\n        </Toolbar>\n    );\n};\n\nexport default withStyles(styles)(EditToolbar);\n","import React from \"react\";\nimport { Edit, SimpleForm } from \"react-admin\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport EditFormToolbar from \"../../common/Toolbars/EditFormToolbar\";\nimport CustomIcon from \"../CustomIcon\";\n\nconst styles = theme => ({\n    blockTitle: {\n        display: \"flex\",\n        alignItems: \"center\",\n        height: 49,\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        backgroundColor: theme.palette.mainColor,\n        paddingLeft: 15,\n    },\n    title: {\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        fontSize: 18,\n        fontWeight: 700,\n    },\n    emptyBlock: {\n        flexGrow: 1,\n    },\n    expandBlockIcon: {\n        height: 35,\n        paddingLeft: 10,\n        paddingRight: 10,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        color: theme.isOldDesign ? theme.palette.secondaryMainColor : theme.palette.paperColor,\n    },\n    editForm: {\n        '& > div': {\n            paddingTop: '0px !important',\n            paddingLeft: 10,\n            paddingRight: 10,\n            border: `1px solid ${theme.palette.borderColor}`\n        },\n    },\n    customFormBlock: {\n        backgroundColor: theme.palette.paperColor,\n        border: `1px solid ${theme.palette.borderColor}`\n    },\n});\n\n/**\n * This component returns block with template for plugin edit form\n * (it used in Edit blocks for the plugins Allergies, Contacts, Medications, Problems etc.)\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}   classes\n * @param {boolean} isCustom\n * @param {boolean} isListOpened\n * @param {string}  blockTitle\n * @param {func}    toggleListBlock\n * @param {shape}   children\n * @param {func}    changeViewType\n * @param {shape}   rest\n * @constructor\n */\nconst EditTemplate = ({ classes, isCustom, isListOpened, blockTitle, toggleListBlock, children, changeViewType, ...rest }) => (\n    <Grid item xs={12} sm={isListOpened ? 6 : 12}>\n        <div className={classes.blockTitle}>\n            <Typography className={classes.title}>{blockTitle}</Typography>\n            <div className={classes.emptyBlock}></div>\n            <Tooltip title={isListOpened ? \"Expand\" : \"Compress\"}>\n                <IconButton onClick={e => toggleListBlock(e)}>\n                    <CustomIcon iconClassName={isListOpened ? 'fa fa-expand' : 'fa fa-compress'} />\n                </IconButton>\n            </Tooltip>\n        </div>\n        { !isCustom\n            ?\n                <Edit undoable={false} {...rest}>\n                    <SimpleForm id=\"form\" className={classes.editForm} toolbar={<EditFormToolbar changeViewType={changeViewType} />}>\n                        {children}\n                    </SimpleForm>\n                </Edit>\n            :\n                <div className={classes.customFormBlock}>\n                    {children}\n                </div>\n        }\n    </Grid>\n);\n\nexport default withStyles(styles)(EditTemplate);\n","import React from \"react\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nconst styles = theme => ({\n    editButton: {\n        display: \"block\",\n        width: 85,\n        height: 40,\n        margin: 8,\n        padding: 0,\n        backgroundColor: \"white\",\n        color: theme.palette.secondaryMainColor,\n        border: `1px solid ${theme.palette.secondaryMainColor}`,\n        borderRadius: theme.isRectangleButtons ? 0 : 25,\n        fontSize: 16,\n        fontWeight: 800,\n        \"&:hover\": {\n            backgroundColor: theme.palette.secondaryMainColor,\n            color: \"white\",\n        }\n    }\n});\n\n/**\n * This component returns Edit button\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {func}  redirectTo\n */\nconst EditButton = ({ classes, redirectTo }) => (\n    <Tooltip title=\"Edit\">\n        <IconButton id=\"editButton\" aria-label=\"Edit\" className={classes.editButton} onClick={() => redirectTo('edit')}>\n            <EditIcon /> Edit\n        </IconButton>\n    </Tooltip>\n);\n\nexport default withStyles(styles)(EditButton);\n","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport { Show, SimpleShowLayout, TextField, DateField } from \"react-admin\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport EditButton from \"../../common/Buttons/EditButton\";\nimport CustomIcon from \"../../common/CustomIcon\";\nimport { themeCommonElements } from \"../../../version/config/theme.config\";\n\nconst styles = theme => ({\n    expansionPanel: {\n        height: \"49px !important\",\n        border: `1px solid ${theme.palette.borderColor}`,\n        '& > div': {\n            minHeight: \"49px !important\",\n        }\n    },\n    currentExpansionPanel: {\n        margin: \"0px !important\",\n        border: `1px solid ${theme.palette.borderColor}`,\n        '& > div': {\n            minHeight: \"49px !important\",\n        }\n    },\n    expansionPanelSummary: {\n        backgroundColor: theme.palette.mainColor,\n        paddingLeft: 16,\n        '& > div': {\n            margin: \"0px !important\",\n            marginTop: \"0px\",\n            marginBottom: \"0px\",\n        }\n    },\n    emptyBlock: {\n        flexGrow: 1,\n    },\n    expandIcon: {\n        height: 35,\n        paddingLeft: 10,\n        paddingRight: 10,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        color: theme.isOldDesign ? theme.palette.secondaryMainColor : theme.palette.paperColor,\n    },\n    expandBlockIcon: {\n        height: 35,\n        paddingLeft: 10,\n        paddingRight: 10,\n        marginRight: 35,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        color: theme.isOldDesign ? theme.palette.secondaryMainColor : theme.palette.paperColor,\n    },\n    expansionTypography: {\n        paddingTop: 10,\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        fontSize: 18,\n        fontWeight: 700,\n    },\n    expansionPanelDetails: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: 0,\n    },\n    showDetails: {\n        padding: '10px 0',\n        '& > div': {\n            boxShadow: \"none\",\n        }\n    },\n    showLayoutDetails: {\n        paddingTop: '0px !important',\n        paddingLeft: 10,\n    },\n    labelBlock: {\n        '& > div': {\n            marginTop: 0,\n            marginBottom: 0,\n        },\n    },\n});\n\n/**\n * This component returns template for details block\n * (it used in Show details blocks for the plugins Allergies, Contacts, Medications, Problems etc.)\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nclass ShowTemplate extends Component {\n\n    state = {\n        isMainPanelOpen: true,\n        isSystemInfoPanelOpen: true,\n    };\n\n    toggleMainPanel = () => {\n        this.setState({\n            isMainPanelOpen: !this.state.isMainPanelOpen,\n        });\n    };\n\n    toggleSystemInfoPanel = () => {\n        this.setState({\n            isSystemInfoPanelOpen: !this.state.isSystemInfoPanelOpen,\n        });\n    };\n\n    render() {\n        const { classes, children, resourceUrl, isListOpened, pageTitle, toggleListBlock, changeViewType, ...rest } = this.props;\n        const { isMainPanelOpen, isSystemInfoPanelOpen } = this.state;\n        return (\n            <Grid item xs={12} sm={isListOpened ? 6 : 12}>\n                <ExpansionPanel className={isMainPanelOpen ? classes.currentExpansionPanel : classes.expansionPanel} expanded={isMainPanelOpen} onChange={() => this.toggleMainPanel()}>\n                    <ExpansionPanelSummary className={classes.expansionPanelSummary} expandIcon={<ExpandMoreIcon className={classes.expandIcon} />}>\n                        <Typography className={classes.expansionTypography} >{pageTitle}</Typography>\n                        <div className={classes.emptyBlock}></div>\n                        <div title={isListOpened ? \"Expand\" : \"Compress\"}>\n                            <IconButton onClick={e => toggleListBlock(e)}>\n                                <CustomIcon iconClassName={isListOpened ? 'fa fa-expand' : 'fa fa-compress'} />\n                            </IconButton>\n                        </div>\n                    </ExpansionPanelSummary>\n                    {\n                        isMainPanelOpen &&\n                            <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n                                <Show className={classes.showDetails} title={pageTitle} {...rest}>\n                                    <SimpleShowLayout className={classes.showLayoutDetails}>\n                                        {children}\n                                    </SimpleShowLayout>\n                                </Show>\n                                {resourceUrl === \"top3Things\" && <EditButton redirectTo={changeViewType} />}\n                            </ExpansionPanelDetails>\n                    }\n                </ExpansionPanel>\n                <ExpansionPanel className={isSystemInfoPanelOpen ? classes.currentExpansionPanel : classes.expansionPanel} expanded={isSystemInfoPanelOpen} onChange={() => this.toggleSystemInfoPanel()}>\n                    <ExpansionPanelSummary className={classes.expansionPanelSummary} expandIcon={<ExpandMoreIcon className={classes.expandIcon} />}>\n                        <Typography className={classes.expansionTypography} >System Information</Typography>\n                    </ExpansionPanelSummary>\n                    {\n                        isSystemInfoPanelOpen &&\n                            <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n                                <Show className={classes.showDetails} title={pageTitle} {...rest}>\n                                    <SimpleShowLayout className={classes.showLayoutDetails}>\n                                        <DateField className={classes.labelBlock} label=\"Date\" source=\"dateCreated\" />\n                                        <TextField className={classes.labelBlock} label=\"Source\" source=\"source\" />\n                                    </SimpleShowLayout>\n                                </Show>\n                            </ExpansionPanelDetails>\n                    }\n                </ExpansionPanel>\n            </Grid>\n        );\n    }\n}\n\nexport default withStyles(styles)(ShowTemplate);","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport {Datagrid, DatagridRow} from 'react-admin';\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TableRow from '@material-ui/core/TableRow';\n\nconst styles = theme => ({\n    tableRow: {\n        '&:hover': {\n            backgroundColor: theme.palette.secondaryMainColor + '!important',\n            cursor: \"pointer\"\n        },\n        '&:hover td': {\n            color: theme.palette.paperColor,\n        },\n    },\n    tableRowActive: {\n        backgroundColor: theme.palette.secondaryMainColor + '!important',\n        '& td': {\n            color: theme.palette.paperColor,\n        }\n    },\n});\n\nclass CustomDatagridRow extends Component {\n\n    isActiveRow = () => {\n        const { id, location } = this.props;\n        const pathname = get(location, 'pathname', null);\n        const pathnameArray = pathname ? pathname.split('/') : [];\n        const sourceId = get(pathnameArray, [2], null);\n        return id === sourceId;\n    };\n\n    getCurrentPage = () => {\n        const { location } = this.props;\n        let result = 1;\n        const search = get(location, 'search', null);\n        if (search) {\n            const params = new URLSearchParams(search);\n            result = params.get('page');\n        }\n        return result;\n    };\n\n    getUrl = () => {\n        const { id, basePath } = this.props;\n        const currentPage = this.getCurrentPage();\n        return (currentPage > 1) ? (basePath + '/' + id + '?page=' + currentPage + '&perPage=10')  : (basePath + '/' + id);\n    };\n\n    render() {\n        const { classes, record, history, children } = this.props;\n        if (!record) {\n            return null;\n        }\n        const detailsPath = this.getUrl();\n        const isActiveRow = this.isActiveRow();\n        return (\n            <TableRow className={isActiveRow ? classes.tableRowActive : classes.tableRow} key={record.id} onClick={() => history.push(detailsPath)}>\n                {children}\n            </TableRow>\n        );\n    }\n};\n\nexport default withStyles(styles)(CustomDatagridRow);\n","import React from \"react\";\nimport { TextField, DateField } from \"react-admin\";\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ShowTemplate from \"../../common/ResourseTemplates/ShowTemplate\";\n\nconst styles = {\n    labelBlock: {\n        '& > div': {\n            marginTop: \"0px !important\",\n            marginBottom: \"0px !important\",\n        },\n    },\n};\n\n/**\n * This component returns block with Allergies details component\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nconst AllergiesShow = ({ classes, ...rest }) => (\n    <ShowTemplate pageTitle=\"Allergy\" {...rest}>\n        <TextField className={classes.labelBlock} label=\"Cause\" source=\"cause\" />\n        <TextField className={classes.labelBlock} label=\"Reaction / Description\" source=\"reaction\" />\n        <TextField className={classes.labelBlock} label=\"Terminology\" source=\"causeCode\" />\n        <TextField className={classes.labelBlock} label=\"Terminology Code\" source=\"causeTerminology\" />\n        <TextField className={classes.labelBlock} label=\"Author\" source=\"author\" />\n    </ShowTemplate>\n);\n\nexport default withStyles(styles)(AllergiesShow);\n","export const relationshipArray = [\n    { id: 'Husband', name: 'Husband' },\n    { id: 'Wife', name: 'Wife' },\n    { id: 'Father', name: 'Father' },\n    { id: 'Alone', name: 'Alone' },\n    { id: 'Mother', name: 'Mother' },\n    { id: 'Daughter', name: 'Daughter' },\n    { id: 'Son', name: 'Son' },\n    { id: 'Brother', name: 'Brother' },\n    { id: 'Sister', name: 'Sister' },\n    { id: 'Friend', name: 'Friend' },\n    { id: 'Family friend', name: 'Family friend' },\n    { id: 'Neighbour', name: 'Neighbour' },\n    { id: 'District Nurse', name: 'District Nurse' },\n    { id: 'Primary Care Worker', name: 'Primary Care Worker' },\n    { id: 'Allocated social worker', name: 'Allocated social worker' },\n    { id: 'Care Coordinator', name: 'Care C-ordinator' },\n];\n\nexport const relationshipTypeArray = [\n    { id: 'at0036', name: 'Informal carer' },\n    { id: 'at0037', name: 'Main informal carer' },\n    { id: 'at0038', name: 'Formal care worker' },\n    { id: 'at0039', name: 'Key formal care worker' },\n];\n","export const routesArray = [\n    { id: \"Po Per Oral\", name: \"Po Per Oral\" },\n    { id: \"IV Intra Venous\", name: \"IV Intra Venous\" },\n    { id: \"IM Intra Muscular\", name: \"IM Intra Muscular\" },\n    { id: \"PN Per Nasal\", name: \"PN Per Nasal\" },\n    { id: \"PR Per Rectum\", name: \"PR Per Rectum\" },\n    { id: \"SL Sub Lingual\", name: \"SL Sub Lingual\" },\n    { id: \"SC Sub Cutaneous\", name: \"SC Sub Cutaneous\" },\n];\n","import React from \"react\";\nimport { TextInput, SelectInput, BooleanInput, DateInput, LongTextInput } from \"react-admin\";\nimport moment from \"moment\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport { relationshipArray, relationshipTypeArray } from \"./selects\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\n\nimport formStyles from \"../../../config/formStyles\";\n\n/**\n * This component returns inputs for Contacts creation/editing forms\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {shape} rest\n */\nconst ContactsInputs = ({ classes, ...rest }) => (\n    <React.Fragment>\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"name\"\n                label=\"Name\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <SelectInput\n                source=\"relationship\"\n                label=\"Relationship\"\n                choices={relationshipArray}\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customSelector } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <SelectInput\n                source=\"relationshipCode\"\n                label=\"Relationship Type\"\n                choices={relationshipTypeArray}\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customSelector } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"relationshipTerminology\"\n                label=\"Relationship Terminology\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <BooleanInput\n                label=\"Next of Kin\"\n                source=\"nextOfKin\"\n                fullWidth\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <LongTextInput\n                source=\"contactInformation\"\n                label=\"Contact Information\"\n                rows={20}\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customTextarea } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <LongTextInput\n                source=\"notes\"\n                label=\"Note\"\n                rows={20}\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customTextarea } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"author\"\n                label=\"Author\"\n                fullWidth\n                defaultValue={localStorage.getItem('username')}\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n                disabled={true}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <DateInput\n                source=\"dateSubmitted\"\n                label=\"Date\"\n                fullWidth\n                defaultValue={moment().format('MM/DD/YYYY')}\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n                disabled={true}\n            />\n        </FormGroup>\n\n    </React.Fragment>\n);\n\nexport default withStyles(formStyles)(ContactsInputs);\n","import React from \"react\";\nimport { TextField, DateField } from \"react-admin\";\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ShowTemplate from \"../../common/ResourseTemplates/ShowTemplate\";\n\nconst styles = {\n    labelBlock: {\n        '& > div': {\n            marginTop: \"0px !important\",\n            marginBottom: \"0px !important\",\n        },\n    },\n};\n\n/**\n * This component returns block with Contact details component\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nconst ContactsShow = ({ classes, ...rest }) => (\n    <ShowTemplate pageTitle=\"Contact\" {...rest}>\n        <TextField className={classes.labelBlock} source=\"name\" label=\"Name\" />\n        <TextField className={classes.labelBlock} source=\"relationship\" label=\"Relationship\" />\n        <TextField className={classes.labelBlock} source=\"relationshipType\" label=\"Relationship Type\" />\n        <TextField className={classes.labelBlock} source=\"relationshipTerminology\" label=\"Relationship Terminology\" />\n        <TextField className={classes.labelBlock} source=\"nextOfKin\" label=\"Next of Kin\" />\n        <TextField className={classes.labelBlock} source=\"contactInformation\" label=\"Contact Information\" />\n        <TextField className={classes.labelBlock} source=\"notes\" />\n        <TextField className={classes.labelBlock} source=\"author\" />\n    </ShowTemplate>\n);\n\nexport default withStyles(styles)(ContactsShow);\n","import React from \"react\";\nimport { DateInput, SelectInput, LongTextInput, TextInput, DisabledInput } from \"react-admin\";\nimport moment from \"moment\";\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport formStyles from \"../../../config/formStyles\";\nimport { routesArray } from \"./selects\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport {relationshipArray} from \"../../Contacts/fragments/selects\";\n\n/**\n * This component returns fields for Medications creation/editing forms\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {shape} rest\n */\nconst MedicationsInputs = ({ classes, ...rest }) => (\n    <React.Fragment>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"name\"\n                label=\"Name\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <SelectInput\n                source=\"route\"\n                label=\"Route\"\n                choices={routesArray}\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customSelector } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <LongTextInput\n                source=\"doseAmount\"\n                label=\"Dose Amount\"\n                rows={20}\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customTextarea } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <LongTextInput\n                source=\"doseDirections\"\n                label=\"Dose Description\"\n                rows={20}\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customTextarea } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <LongTextInput\n                source=\"doseTiming\"\n                label=\"Dose Timing\"\n                rows={20}\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customTextarea } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"medicationCode\"\n                label=\"Medication Description\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <DateInput\n                source=\"startDate\"\n                label=\"Start date\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"author\"\n                label=\"Author\"\n                fullWidth\n                defaultValue={localStorage.getItem('username')}\n                disabled={true}\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <DateInput\n                source=\"dateCreated\"\n                label=\"Date\"\n                fullWidth\n                defaultValue={moment().format('MM/DD/YYYY')}\n                disabled={true}\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n    </React.Fragment>\n);\n\nexport default withStyles(formStyles)(MedicationsInputs);\n","import React from \"react\";\nimport { TextField, DateField } from \"react-admin\";\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ShowTemplate from \"../../common/ResourseTemplates/ShowTemplate\";\n\nconst styles = {\n    labelBlock: {\n        '& > div': {\n            marginTop: \"0px !important\",\n            marginBottom: \"0px !important\",\n        },\n    },\n};\n\n/**\n * This component returns block with Medication details component\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nconst ProblemsShow = ({ classes, ...rest }) => (\n    <ShowTemplate pageTitle=\"Medication\" {...rest}>\n        <TextField className={classes.labelBlock} label=\"Name\" source=\"name\" />\n        <TextField className={classes.labelBlock} label=\"Route\" source=\"route\" />\n        <TextField className={classes.labelBlock} label=\"Dose Amount\" source=\"doseAmount\" />\n        <TextField className={classes.labelBlock} label=\"Dose Description\" source=\"doseDirections\" />\n        <TextField className={classes.labelBlock} label=\"Dose Timing\" source=\"doseTiming\" />\n        <TextField className={classes.labelBlock} label=\"Medication Description\" source=\"medicationCode\" />\n        <DateField className={classes.labelBlock} label=\"Start Date\" source=\"startDate\" />\n        <TextField className={classes.labelBlock} label=\"Author\" source=\"author\" />\n    </ShowTemplate>\n);\n\nexport default withStyles(styles)(ProblemsShow);\n","import React from \"react\";\nimport { TextInput, DateInput, LongTextInput } from \"react-admin\";\nimport moment from \"moment\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport FormGroup from \"@material-ui/core/FormGroup\";\n\nimport formStyles from \"../../../config/formStyles\";\n\n/**\n * This component returns inputs for Problems creation/editing forms\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {shape} rest\n */\nconst ProblemsInputs = ({ classes, ...rest }) => (\n    <React.Fragment>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"problem\"\n                label=\"Problem / Issue\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <DateInput\n                source=\"dateOfOnset\"\n                label=\"Date of Onset\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <LongTextInput\n                source=\"description\"\n                label=\"Description\"\n                rows={20}\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customTextarea } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"code\"\n                label=\"Terminology Code\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"terminology\"\n                label=\"Terminology\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"author\"\n                label=\"Author\"\n                fullWidth\n                defaultValue={localStorage.getItem('username')}\n                disabled={true}\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <DateInput\n                source=\"dateCreated\"\n                label=\"Date\"\n                fullWidth\n                defaultValue={moment().format('MM/DD/YYYY')}\n                disabled={true}\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n    </React.Fragment>\n);\n\nexport default withStyles(formStyles)(ProblemsInputs);\n","import React from \"react\";\nimport { TextField, DateField } from \"react-admin\";\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ShowTemplate from \"../../common/ResourseTemplates/ShowTemplate\";\n\nconst styles = {\n    labelBlock: {\n        '& > div': {\n            marginTop: \"0px !important\",\n            marginBottom: \"0px !important\",\n        },\n    },\n};\n\n/**\n * This component returns block with Allergies details component\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nconst ProblemsShow = ({ classes, ...rest }) => (\n    <ShowTemplate pageTitle=\"Problem / Diagnosis\" {...rest}>\n        <TextField className={classes.labelBlock} label=\"Problem issue\" source=\"problem\" />\n        <DateField className={classes.labelBlock} label=\"Date of Onset\" source=\"dateOfOnset\" />\n        <TextField className={classes.labelBlock} label=\"Description\" source=\"description\" />\n        <TextField className={classes.labelBlock} label=\"Terminology Code\" source=\"code\" />\n        <TextField className={classes.labelBlock} label=\"Terminology\" source=\"terminology\" />\n        <TextField className={classes.labelBlock} label=\"Author\" source=\"author\" />\n    </ShowTemplate>\n);\n\nexport default withStyles(styles)(ProblemsShow);\n","import { createRequestTypes } from \"./functions\";\n\nexport const PATIENTS_COUNT_ACTION = createRequestTypes('PATIENTS_COUNT_ACTION');\n\nexport const patientsCountAction = {\n    request: data => ({ type: PATIENTS_COUNT_ACTION.REQUEST, data }),\n    success: data => ({ type: PATIENTS_COUNT_ACTION.SUCCESS, data }),\n    error:   error => ({ type: PATIENTS_COUNT_ACTION.FAILURE, error }),\n};\n","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport { connect } from 'react-redux';\nimport { Route } from \"react-router\";\n\nimport { withStyles } from \"@material-ui/core/styles/index\";\nimport Grid from '@material-ui/core/Grid/index';\nimport Typography from '@material-ui/core/Typography/index';\nimport TableIcon from '@material-ui/icons/List';\nimport ChartIcon from '@material-ui/icons/ShowChart';\nimport TimelineIcon from '@material-ui/icons/Timeline';\n\nimport Paper from '@material-ui/core/Paper/index';\nimport IconButton from '@material-ui/core/IconButton/index';\nimport Tooltip from '@material-ui/core/Tooltip/index';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome/index'\nimport { faFilter } from '@fortawesome/free-solid-svg-icons/index';\n\nimport { columnsTogglingAction } from \"../../../actions/columnsTogglingAction\";\n\nimport Breadcrumbs from \"../../../common/Breadcrumbs\";\nimport TableHeader from \"../../../common/TableHeader\";\nimport CustomIcon from \"../../../common/CustomIcon\";\nimport DetailsTemplate from \"../../../common/ResourseTemplates/DetailsTemplate\";\n\nimport { MODE_TIMELINE, MODE_TABLE, MODE_CHART } from \"../../../common/ResourseTemplates/fragments/constants\";\nimport TableContent from \"../../../common/ResourseTemplates/fragments/TableContent\";\nimport ChartContent from \"../../../common/ResourseTemplates/fragments/ChartContent\";\nimport TimelineContent from \"../../../common/ResourseTemplates/fragments/TimelineContent\";\nimport ListModePopover from \"../../../common/ResourseTemplates/popovers/ListModePopover\";\nimport ColumnsTogglingIcon from \"../../../common/ResourseTemplates/icons/ColumnsTogglingIcon\";\n\nconst listStyles = theme => ({\n    container: {\n        width: '100%',\n        height: '100%',\n        background: theme.patientSummaryPanel.container.background,\n        backgroundSize: \"cover\",\n    },\n    mainBlock: {\n        width: '100%',\n        margin: 0,\n        padding: 10,\n        border: `1px solid ${theme.palette.borderColor}`,\n    },\n    list: {\n        paddingLeft: 0,\n    },\n    blockTitle: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        height: 49,\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        backgroundColor: theme.palette.mainColor,\n        fontSize: 18,\n        fontWeight: 700,\n        paddingLeft: 15,\n        paddingRight: 10,\n    },\n    emptyBlock: {\n        flexGrow: 1,\n    },\n    title: {\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        backgroundColor: theme.palette.mainColor,\n        fontSize: 18,\n        fontWeight: 700,\n    },\n    filterIcon: {\n        color: theme.isOldDesign ? `${theme.palette.secondaryMainColor} !important` : `${theme.palette.paperColor} !important`,\n        paddingLeft: 10,\n        paddingRight: 10,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        height: 35,\n    },\n    listModeIcon: {\n        color: theme.isOldDesign ? `${theme.palette.secondaryMainColor} !important` : `${theme.palette.paperColor} !important`,\n        paddingLeft: 10,\n        paddingRight: 10,\n        marginRight: 5,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        height: 35,\n    },\n    filterInput: {\n        display: 'flex',\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        padding: 5,\n        backgroundColor: `${theme.palette.mainColor} !important`,\n        borderRadius: 0,\n        boxShadow: \"none\",\n        '& button': {\n            color: \"#fff\",\n        },\n    },\n    filterInputIcon: {\n        color: theme.palette.fontColor,\n        marginLeft: 5,\n        marginBottom: 10,\n    },\n    inputBlock: {\n        width: 'calc(100% - 60px)',\n        borderRadius: theme.isOldDesign ? 0 : 18,\n        height: 36,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.disabledColor}` : 0,\n        backgroundColor: theme.isOldDesign ? theme.palette.paperColor : theme.palette.disabledColor,\n        paddingLeft: 5,\n        marginLeft: 10,\n        marginBottom: 10,\n    },\n});\n\n/**\n * This component returns template for List page\n * (it used in List blocks for the plugins Allergies, Contacts, Medications, Problems etc.)\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nclass ListTemplate extends Component {\n\n    state = {\n        listMode: MODE_TABLE,\n        anchorEl: null,\n        isListOpened: true,\n        isFilterOpened: false,\n        filterText: null,\n        userClinicalQuery: null,\n        key: 0,\n        hiddenColumns: [],\n    };\n\n    /**\n     * This function returns create page URL\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @return {string}\n     */\n    getCreateUrl = () => {\n        return \"/\" + this.props.resourceUrl + \"/create\";\n    };\n\n    /**\n     * This function returns details page URL\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @return {string}\n     */\n    getDetailsUrl = () => {\n        return \"/\" + this.props.resourceUrl + \"/:id\";\n    };\n\n    /**\n     * This function checks is current create page\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @return {string}\n     */\n    isCreatePage = () => {\n        return (this.props.location.pathname === this.getCreateUrl());\n    };\n\n    /**\n     * This function toggle filter input\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     */\n    toggleFilter = () => {\n        this.setState({\n            isFilterOpened: !this.state.isFilterOpened,\n        })\n    };\n\n    toggleListBlock = e => {\n        e.stopPropagation();\n        this.setState({\n            isListOpened: !this.state.isListOpened,\n        })\n    };\n\n    /**\n     * This function check is current page is list page with table (it also used at create and show pages).\n     * Settings of <Grid /> component of <ListTemplate /> depends on result of this function.\n     *\n     * Second part of condition - for the case when list page is a homepage\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @return {boolean}\n     */\n    isListPage = () => {\n        return (this.props.location.pathname === `/${this.props.resourceUrl}`) || (this.props.location.pathname === '/');\n    };\n\n    /**\n     * This function set filter string to state\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @param {shape} e\n     */\n    filterByText = e => {\n        this.setState({\n            filterText: e.target.value,\n            key: this.state.key + 1,\n        })\n    };\n\n    filterByUserSearch = () => {\n        this.setState((state, props) => {\n            if (state.filterText !== props.userSearch) {\n                return {\n                    filterText: props.userSearch,\n                    key: this.state.key + 1,\n                }\n            }\n        });\n    };\n\n    filterByUserSearchId = () => {\n        this.setState((state, props) => {\n            if (state.filterText !== props.userSearchID) {\n                return {\n                    filterText: props.userSearchID,\n                    key: this.state.key + 1,\n                }\n            }\n        });\n    };\n\n    filterByUserSearchType = () => {\n        this.setState((state, props) => {\n            if (state.filterText !== props.userSearchValue) {\n                return {\n                    filterText: props.userSearchValue,\n                    key: this.state.key + 1,\n                }\n            }\n        });\n    };\n\n    filterByClinicalQuery = () => {\n        this.setState((state, props) => {\n            if (state.userClinicalQuery !== props.userClinicalQuery) {\n                return {\n                    userClinicalQuery: props.userClinicalQuery,\n                    key: this.state.key + 1,\n                }\n            }\n        });\n    };\n\n    hasNewItem = (resource, newListArray, prevListArray, nextProps, userSearch) => {\n        let result = false;\n        const newDataArray = Object.values(get(nextProps, 'currentData', {}));\n        for (let i = 0, n = newDataArray.length; i < n; i++) {\n            let item = newDataArray[i];\n            if (resource === 'patients' && get(item, 'isNew', false) && get(item, 'lastName', null) === userSearch) {\n                result = true;\n                break;\n            }\n            if (resource !== 'patients' && get(item, 'isNew', false)) {\n                result = true;\n                break;\n            }\n        }\n        return result;\n    };\n\n    componentDidMount() {\n        const { resourceUrl, toggleColumnStore, defaultHiddenColumns } = this.props;\n        if (defaultHiddenColumns) {\n            defaultHiddenColumns.map(item => {\n                toggleColumnStore(resourceUrl, item, false);\n            });\n        }\n        this.setState({\n            hiddenColumns: defaultHiddenColumns,\n        });\n\n        if (defaultHiddenColumns) {\n            this.props.updateTableHead();\n        }\n\n\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        const newListArray = Object.values(get(nextProps, 'currentList', {}));\n        const prevListArray = Object.values(get(this.props, 'currentList', {}));\n        const userSearch = get(nextProps, 'userSearch', null);\n        const resource = get(nextProps, 'resource', null);\n        const hasNewItem = this.hasNewItem(resource, newListArray, prevListArray, nextProps, userSearch);\n        if (newListArray.length === 1 && prevListArray.length === 0 && hasNewItem) {\n            this.setState({\n                key: this.state.key + 1\n            });\n        }\n    }\n\n    getListModeIcon = () => {\n        const { listMode } = this.state;\n        let result = TableIcon;\n        if (listMode === MODE_CHART) {\n            result = ChartIcon;\n        } else if (listMode === MODE_TIMELINE) {\n            result = TimelineIcon;\n        }\n        return result;\n    };\n\n    getContentBlock = () => {\n        const { listMode } = this.state;\n        let result = TableContent;\n        if (listMode === MODE_CHART) {\n            result = ChartContent;\n        } else if (listMode === MODE_TIMELINE) {\n            result = TimelineContent;\n        }\n        return result;\n    };\n\n    changeListMode = mode => {\n        this.setState({\n            listMode: mode,\n            anchorEl: false,\n        });\n    };\n\n    popoverOpen = event => {\n        this.setState({\n            anchorEl: event.currentTarget,\n        });\n    };\n\n    popoverClose = () => {\n        this.setState({\n            anchorEl: false,\n        });\n    };\n\n    toggleColumn = (columnName, value) => {\n        const { resourceUrl, toggleColumnStore, updateTableHead } = this.props;\n\n        let hiddenColumnsArray = this.state.hiddenColumns;\n        let key = this.state.key;\n\n        if (hiddenColumnsArray.indexOf(columnName) !== -1) {\n            let index = hiddenColumnsArray.indexOf(columnName);\n            hiddenColumnsArray.splice(index, 1);\n        } else {\n            hiddenColumnsArray.push(columnName);\n        }\n        key++;\n\n        this.setState({\n            hiddenColumns: hiddenColumnsArray,\n            key: key,\n        }, () => {\n            updateTableHead();\n            toggleColumnStore(resourceUrl, columnName, value)\n        });\n    };\n\n    getTitleForAdvancedSearh = (userSearchType, userSearchValue) => {\n\n        console.log('userSearchType', userSearchType)\n        console.log('userSearchValue', userSearchValue)\n\n        let result = '';\n        if (userSearchType === 'by_city') {\n            result = `Patients search by City: ${userSearchValue}`;\n        }\n        if (userSearchType === 'advanced') {\n            result = userSearchValue.title;\n        }\n        return result;\n    };\n\n    getTitleForClinicalSearh = (userClinicalQuery) => {\n        let result = 'Patients Clinical Query: ';\n        const searchType = get(userClinicalQuery, 'searchType', null);\n        const searchValue = get(userClinicalQuery, 'searchValue', null);\n        const gender = get(userClinicalQuery, 'gender', null);\n        const birthDate = get(userClinicalQuery, 'birthDate', null);\n        const maxAge = get(userClinicalQuery, 'maxAge', null);\n        const minAge = get(userClinicalQuery, 'minAge', null);\n        if (searchType && searchValue) {\n            result += ` ${searchType}: ${searchValue}, `;\n        }\n        if (gender) {\n            result += ` gender: ${gender}, `;\n        }\n        if (birthDate) {\n            result += ` birthdate: ${birthDate}, `;\n        }\n        if (maxAge && minAge) {\n            result += ` age: ${minAge}-${maxAge}, `;\n        }\n        return result;\n    };\n\n    render() {\n        const { create, resourceUrl, title, classes, history, userSearch, userSearchID, userSearchType, userSearchValue, userClinicalQuery, headerFilterAbsent, currentList, hasChart, hasTimetable, isCustomDatagrid } = this.props;\n        const { isFilterOpened, isListOpened, anchorEl, hiddenColumns, key, filterText } = this.state;\n\n        const breadcrumbsResource = [\n            { url: \"/\" + resourceUrl, title: title, isActive: false },\n        ];\n        const CreateBlock = create;\n        const createUrl = this.getCreateUrl();\n\n        let titleTable = title;\n        if (userSearch) {\n            titleTable = `Patients matching '${userSearch}'`;\n            this.filterByUserSearch();\n        }\n        if (userSearchID) {\n            titleTable = `Patients with ID: '${userSearchID}'`;\n            this.filterByUserSearchId();\n        }\n        if (userSearchType && userSearchValue) {\n            titleTable = this.getTitleForAdvancedSearh(userSearchType, userSearchValue);\n            this.filterByUserSearchType();\n        }\n        if (userClinicalQuery) {\n            titleTable = this.getTitleForClinicalSearh(userClinicalQuery);\n            this.filterByClinicalQuery();\n        }\n\n        const currentListArray = Object.values(currentList);\n        const idsNumber = currentListArray.length > 0 ? currentListArray.length : 0;\n\n        const ListModeIcon = this.getListModeIcon();\n        const ContentBlock = this.getContentBlock();\n\n        const open = Boolean(anchorEl);\n\n        return (\n            <div className={classes.container}>\n                <Breadcrumbs resource={breadcrumbsResource} />\n                <Grid container spacing={16} className={classes.mainBlock}>\n                    { isListOpened &&\n                    <Grid className={classes.list} item xs={12} sm={this.isListPage() ? 12 : 6}>\n                        <div className={classes.headerBlock}>\n                            <div className={classes.blockTitle}>\n                                <Typography className={classes.title}>{titleTable}</Typography>\n                                <div className={classes.emptyBlock}></div>\n                                {!this.isListPage() &&\n                                <Tooltip title=\"Expand\">\n                                    <IconButton onClick={() => history.push(\"/\" + resourceUrl)} >\n                                        <CustomIcon iconClassName=\"fa fa-expand\" />\n                                    </IconButton>\n                                </Tooltip>\n                                }\n                                <ColumnsTogglingIcon hiddenColumns={hiddenColumns} toggleColumn={this.toggleColumn} {...this.props} />\n                                {\n                                    (hasChart || hasTimetable) &&\n                                    <React.Fragment>\n                                        <Tooltip title=\"Table\">\n                                            <IconButton onClick={e => this.popoverOpen(e)}>\n                                                <ListModeIcon className={classes.listModeIcon}/>\n                                            </IconButton>\n                                        </Tooltip>\n                                        <ListModePopover\n                                            anchorEl={anchorEl}\n                                            open={open}\n                                            changeListMode={this.changeListMode}\n                                            handleClose={this.popoverClose}\n                                            resourse={title}\n                                            hasChart={hasChart}\n                                            hasTimetable={hasTimetable}\n                                        />\n                                    </React.Fragment>\n                                }\n                                { !headerFilterAbsent &&\n                                <Tooltip title=\"Search\">\n                                    <IconButton onClick={() => this.toggleFilter()}>\n                                        <FontAwesomeIcon icon={faFilter} className={classes.filterIcon}  size=\"1x\" />\n                                    </IconButton>\n                                </Tooltip>\n                                }\n                            </div>\n                            {\n                                isFilterOpened &&\n                                <div className={classes.filterBlock}>\n                                    <Paper className={classes.filterInput} elevation={1}>\n                                        <FontAwesomeIcon icon={faFilter} className={classes.filterInputIcon}  size=\"1x\" />\n                                        <input className={classes.inputBlock} onChange={e => this.filterByText(e)} placeholder=\"Filter...\" />\n                                    </Paper>\n                                </div>\n                            }\n                        </div>\n                        {\n                            (filterText === userSearch || filterText === userSearchID || filterText === userSearchValue || this.state.userClinicalQuery === this.props.userClinicalQuery) &&\n                                <ContentBlock\n                                    key={key}\n                                    filterText={filterText}\n                                    hiddenColumns={hiddenColumns}\n                                    createUrl={createUrl}\n                                    idsNumber={idsNumber}\n                                    isCustomDatagrid={isCustomDatagrid}\n                                    history={history}\n                                    {...this.props}\n                                />\n                        }\n\n                    </Grid>\n                    }\n                    {\n                        (!this.isCreatePage())\n                            ?\n                            <Route\n                                path={this.getDetailsUrl()}\n                                render={({ match }) => <DetailsTemplate mode=\"show\" isListOpened={isListOpened} toggleListBlock={this.toggleListBlock} {...this.props} id={match.params.id} />}\n                            />\n                            :\n                            <Route\n                                path={createUrl}\n                                render={({ match }) => <CreateBlock isListOpened={isListOpened} toggleListBlock={this.toggleListBlock} id={match.params.id} {...this.props} />}\n                            />\n                    }\n                </Grid>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps)  => {\n    return {\n        userSearch: get(state, 'custom.userSearch.data', null),\n        userSearchID: get(state, 'custom.userSearch.id', null),\n        userSearchType: get(state, 'custom.userSearch.type', null),\n        userSearchValue: get(state, 'custom.userSearch.value', null),\n        userClinicalQuery: get(state, 'custom.clinicalQuery.data', null),\n        currentList: get(state, 'admin.resources[' + ownProps.resource + '].list.ids', []),\n        currentData: get(state, 'admin.resources[' + ownProps.resource + '].data', []),\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleColumnStore(resource, columnName, value) {\n            dispatch(columnsTogglingAction.toggle(resource, columnName, value));\n        },\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(listStyles)(ListTemplate));\n","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport ArrowDownIcon from '@material-ui/icons/ArrowDropDown';\n\nimport { themeCommonElements } from \"../../../version/config/theme.config\";\nimport Popover from \"@material-ui/core/Popover\";\n\nconst styles = theme => ({\n    paper: {\n        display: \"block\",\n        width: 100,\n        height: 'auto',\n        margin: 0,\n        padding: 10,\n        borderRadius: 0,\n    },\n    buttomBlock: {\n        display: \"flex\",\n    },\n    viewButton: {\n        height: 40,\n        textTransform: 'capitalize',\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        backgroundColor: theme.isOldDesign ? theme.palette.paperColor : null,\n        color: theme.palette.secondaryMainColor + ' !important',\n        borderRadius: 0,\n        '& span p': {\n            fontSize: 16,\n            color: theme.isOldDesign ? theme.palette.secondaryMainColor : theme.palette.viewButton,\n        },\n    },\n    arrowButton: {\n        height: 40,\n        paddingLeft: 0,\n        paddingRight: 0,\n        borderTop: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        borderRight: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        borderBottom: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        borderRadius: 0,\n        color: theme.palette.secondaryMainColor,\n    },\n    link: {\n        height: 25,\n        cursor: \"pointer\",\n        paddingTop: 5,\n    }\n});\n\n/**\n * This component returns Show button with custom styles\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {func}  viewAction\n * @param {shape} record\n */\nclass ViewButton extends Component {\n\n    state = {\n        anchorEl: null,\n    };\n\n    popoverOpen = e => {\n        e.stopPropagation();\n        this.setState({\n            anchorEl: e.currentTarget,\n        });\n    };\n\n    popoverClose = () => {\n        this.setState({\n            anchorEl: false,\n        });\n    };\n\n    render() {\n        const { classes, viewAction, checkRedirectUrl  } = this.props;\n        const { anchorEl } = this.state;\n\n        const open = Boolean(anchorEl);\n        return (\n            <div className={classes.buttomBlock}>\n                <Button aria-label=\"View\" onClick={e => viewAction(e)} className={classes.viewButton}>\n                    <Typography>View</Typography>\n                </Button>\n                {\n                    get(themeCommonElements, 'redirectToPlugin', false) &&\n                        <React.Fragment>\n                            <ArrowDownIcon className={classes.arrowButton}  onClick={e => this.popoverOpen(e)} />\n                            <Popover\n                                open={open}\n                                classes={{ paper: classes.paper }}\n                                anchorEl={anchorEl}\n                                onClose={() => this.popoverClose()}\n                                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n                                transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n                            >\n                                <Typography className={classes.link} >Orders</Typography>\n                                <Divider />\n                                <Typography className={classes.link} >Results</Typography>\n                                <Divider />\n                                <Typography className={classes.link} onClick={e => checkRedirectUrl(e, '/vitalsigns')}>Vitals</Typography>\n                                <Divider />\n                                <Typography className={classes.link} onClick={e => checkRedirectUrl(e, '/problems')}>Problems</Typography>\n                            </Popover>\n                        </React.Fragment>\n\n                }\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(ViewButton);","import React from \"react\";\nimport { TextInput, DateInput, RadioButtonGroupInput } from \"react-admin\";\n\nimport { withStyles } from '@material-ui/core/styles';\n\nconst genderChoices = [\n    { id: 'male', name: 'Male' },\n    { id: 'female', name: 'Female' },\n];\n\nconst styles = {\n    halfWidthBlock: {\n        width: \"auto !important\",\n    },\n    halfWidth: {\n        display: \"inline-block\",\n        width: \"50% !important\",\n    },\n    labelBlock: {\n        '& > div': {\n            marginBottom: \"0px !important\",\n        },\n    },\n};\n\nconst FormInputs = ({ classes, ...rest }) => {\n    return (\n        <React.Fragment>\n            <TextInput {...rest} source=\"prefix\" label=\"Preferred Name\" fullWidth />\n            <div className={classes.halfWidthBlock}>\n                <TextInput className={classes.halfWidth} source=\"firstName\" label=\"Name\" />\n                <TextInput className={classes.halfWidth} source=\"lastName\" label=\"Surname\" />\n            </div>\n            <DateInput source=\"birthDate\" label=\"Born\" fullWidth />\n            <RadioButtonGroupInput source=\"gender\" label=\"Gender\" choices={genderChoices} />\n            <TextInput source=\"address\" label=\"Address\" fullWidth />\n            <div className={classes.halfWidthBlock}>\n                <TextInput className={classes.halfWidth} source=\"city\" label=\"City\" />\n                <TextInput className={classes.halfWidth} source=\"district\" label=\"District\" />\n            </div>\n            <div className={classes.halfWidthBlock}>\n                <TextInput className={classes.halfWidth} source=\"postCode\" label=\"Post Code\" />\n                <TextInput className={classes.halfWidth} source=\"country\" label=\"Country\" />\n            </div>\n            <TextInput source=\"phone\" label=\"Telephone Number\" fullWidth />\n            <TextInput source=\"nhsNumber\" label=\"NHS Number\" fullWidth />\n        </React.Fragment>\n    );\n};\n\nexport default withStyles(styles)(FormInputs);","import React from \"react\";\n\nimport CreateTemplate from \"../../common/ResourseTemplates/CreateTemplate\";\nimport FormInputs from \"./fragments/FormInputs\";\n\n/**\n * This component returns Patient creation form\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} props\n */\nconst PatientCreate = props => (\n    <CreateTemplate blockTitle=\"Patient\" {...props}>\n        <FormInputs />\n    </CreateTemplate>\n);\n\nexport default PatientCreate;\n\n","import React from \"react\";\n\nimport EditTemplate from \"../../common/ResourseTemplates/EditTemplate\";\nimport FormInputs from \"./fragments/FormInputs\";\n\n/**\n * This component returns block with edit form for Patient\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {shape} rest\n * @constructor\n */\nconst PatientEdit = ({ classes, ...rest }) => (\n    <EditTemplate blockTitle=\"Patient\"  {...rest}>\n        <FormInputs />\n    </EditTemplate>\n);\n\nexport default PatientEdit;","import React, { Component } from \"react\";\n\nimport { withStyles } from '@material-ui/core/styles/index';\nimport Typography from \"@material-ui/core/Typography/index\";\n\nconst styles = theme => ({\n    expansionPanel: {\n        height: \"49px !important\",\n        border: `1px solid ${theme.palette.borderColor}`,\n        '& > div': {\n            minHeight: \"49px !important\",\n        }\n    },\n    currentExpansionPanel: {\n        margin: \"0px !important\",\n        border: `1px solid ${theme.palette.borderColor}`,\n        '& > div': {\n            minHeight: \"49px !important\",\n        }\n    },\n    expansionPanelSummary: {\n        backgroundColor: theme.palette.mainColor,\n        paddingLeft: 16,\n        '& > div': {\n            margin: \"0px !important\",\n            marginTop: \"0px\",\n            marginBottom: \"0px\",\n        }\n    },\n    emptyBlock: {\n        flexGrow: 1,\n    },\n    expandIcon: {\n        height: 35,\n        paddingLeft: 10,\n        paddingRight: 10,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        color: theme.isOldDesign ? theme.palette.secondaryMainColor : theme.palette.paperColor,\n    },\n    expandBlockIcon: {\n        height: 35,\n        paddingLeft: 10,\n        paddingRight: 10,\n        marginRight: 35,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        color: theme.isOldDesign ? theme.palette.secondaryMainColor : theme.palette.paperColor,\n    },\n    expansionTypography: {\n        paddingTop: 10,\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        fontSize: 18,\n        fontWeight: 700,\n    },\n    expansionPanelDetails: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: 0,\n    },\n    itemBlock: {\n        margin: 10,\n    },\n    blockContent: {\n        marginTop: 5,\n    },\n    showAll: {\n        color: theme.palette.secondaryMainColor,\n        fontWeight: 800,\n        cursor: 'pointer',\n    }\n});\n\nclass ItemBlock extends Component {\n\n    state = {\n        isShowAll: false,\n    };\n\n    toggleShowAll = () => {\n        this.setState({\n            isShowAll: !this.state.isShowAll,\n        })\n    };\n\n    componentDidMount() {\n        const { list } = this.props;\n        if (list.length > 4) {\n            this.setState({\n                isShowAll: true,\n            })\n        }\n    }\n\n    getShortRow = list => {\n        let result = [];\n        for (let i = 0; i < 4; i++) {\n            let item = list[i];\n            result.push(item);\n        }\n\n        return result;\n    };\n\n    render() {\n        const { classes, list, title, isLoading } = this.props;\n        const { isShowAll } = this.state;\n        const shortRow = (list.length > 4) ? this.getShortRow(list) : list;\n        return (\n            <div className={classes.itemBlock}>\n                <Typography variant=\"h3\">{title}</Typography>\n                {\n                    isLoading && <Typography className={classes.blockContent}>Loading...</Typography>\n                }\n                {\n                    isShowAll\n                        ?\n                            <React.Fragment>\n                                <Typography className={classes.blockContent}>{list.join(', ')}</Typography>\n                                { (list.length > 4) && <Typography className={classes.showAll} onClick={() => this.toggleShowAll()}>Hide</Typography> }\n                            </React.Fragment>\n                        :\n                            <React.Fragment>\n                                <Typography className={classes.blockContent}>{shortRow.join(', ')}</Typography>\n                                { (list.length > 4) && <Typography className={classes.showAll} onClick={() => this.toggleShowAll()}>ShowAll</Typography> }\n                            </React.Fragment>\n                }\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(ItemBlock);\n","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport { connect } from 'react-redux';\n\nimport { withStyles } from '@material-ui/core/styles/index';\nimport Typography from '@material-ui/core/Typography/index';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel/index';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails/index';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary/index';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport { emergencySummaryAction } from \"../../../../actions/emergencySummaryAction\";\n// import VitalsChart from \"../../../../../version/plugins/Vitals/VitalsChart\";\nimport ItemBlock from \"./ItemBlock\";\n\nconst styles = theme => ({\n    expansionPanel: {\n        height: \"49px !important\",\n        border: `1px solid ${theme.palette.borderColor}`,\n        '& > div': {\n            minHeight: \"49px !important\",\n        }\n    },\n    currentExpansionPanel: {\n        margin: \"0px !important\",\n        border: `1px solid ${theme.palette.borderColor}`,\n        '& > div': {\n            minHeight: \"49px !important\",\n        }\n    },\n    expansionPanelSummary: {\n        backgroundColor: theme.palette.mainColor,\n        paddingLeft: 16,\n        '& > div': {\n            margin: \"0px !important\",\n            marginTop: \"0px\",\n            marginBottom: \"0px\",\n        }\n    },\n    emptyBlock: {\n        flexGrow: 1,\n    },\n    expandIcon: {\n        height: 35,\n        paddingLeft: 10,\n        paddingRight: 10,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        color: theme.isOldDesign ? theme.palette.secondaryMainColor : theme.palette.paperColor,\n    },\n    expandBlockIcon: {\n        height: 35,\n        paddingLeft: 10,\n        paddingRight: 10,\n        marginRight: 35,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        color: theme.isOldDesign ? theme.palette.secondaryMainColor : theme.palette.paperColor,\n    },\n    expansionTypography: {\n        paddingTop: 10,\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        fontSize: 18,\n        fontWeight: 700,\n    },\n    expansionPanelDetails: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: 0,\n    },\n    itemBlock: {\n        margin: 10,\n    },\n    blockContent: {\n        marginTop: 5,\n    },\n    showAll: {\n        color: theme.palette.secondaryMainColor,\n        fontWeight: 800,\n        cursor: 'pointer',\n    }\n});\n\nclass EmergencySummaryPanel extends Component {\n\n    state = {\n        isPanelOpen: true,\n    };\n\n    togglePanel = () => {\n        this.setState({\n            isPanelOpen: !this.state.isPanelOpen,\n        });\n    };\n\n    componentDidMount() {\n        const { id } = this.props;\n        if (id) {\n            this.props.getEmergencySummary(id);\n        }\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        const { id } = this.props;\n        if (nextProps.id !== id) {\n            this.props.getEmergencySummary(id);\n        }\n    }\n\n    getResourceList = (resourse, name) => {\n        const { emergencySummary } = this.props;\n        const listArray = get(emergencySummary, resourse, []);\n        let result = [];\n        listArray.map(item => {\n            result.push(item[name]);\n        });\n        return result;\n    };\n\n    render() {\n        const { classes, currentData, id, emergencySummary, history, isLoading } = this.props;\n        const { isPanelOpen } = this.state;\n\n        const currentPatient = get(currentData, id, null);\n\n        const allergiesList = this.getResourceList('allergies', 'cause');\n        const medicationsList = this.getResourceList('medications', 'name');\n        const problemsList = this.getResourceList('problems', 'problem');\n\n\n        return (\n            <ExpansionPanel className={isPanelOpen ? classes.currentExpansionPanel : classes.expansionPanel} expanded={isPanelOpen} onChange={() => this.togglePanel()}>\n                <ExpansionPanelSummary className={classes.expansionPanelSummary} expandIcon={<ExpandMoreIcon className={classes.expandIcon} />}>\n                    <Typography className={classes.expansionTypography}>Emergency Summary</Typography>\n                </ExpansionPanelSummary>\n                {\n                    isPanelOpen &&\n                        <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n                            <div className={classes.itemBlock}>\n                                <Typography variant=\"h3\">Name</Typography>\n                                <Typography className={classes.blockContent}>{get(currentPatient, 'firstName', null)} {get(currentPatient, 'lastName', null)}</Typography>\n                            </div>\n                            <ItemBlock isLoading={isLoading} list={problemsList} title=\"Diagnosis\" />\n                            <ItemBlock isLoading={isLoading} list={medicationsList} title=\"Medications\" />\n                            <ItemBlock isLoading={isLoading} list={allergiesList} title=\"Allergies\" />\n                            <div className={classes.itemBlock}>\n                                <Typography variant=\"h3\">Vitals</Typography>\n                                {/*<VitalsChart vitalsEmergencySummary={get(emergencySummary, 'vitalsigns', [])} history={history} />*/}\n                            </div>\n                        </ExpansionPanelDetails>\n                }\n            </ExpansionPanel>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        emergencySummary: get(state, 'custom.emergencySummary.data', null),\n        isLoading: get(state, 'custom.emergencySummary.loading', null),\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        getEmergencySummary(patientId) {\n            dispatch(emergencySummaryAction.request('allergies', patientId));\n            dispatch(emergencySummaryAction.request('medications', patientId));\n            dispatch(emergencySummaryAction.request('problems', patientId));\n            dispatch(emergencySummaryAction.request('vitalsigns', patientId));\n        },\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(EmergencySummaryPanel));\n","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport { Show, SimpleShowLayout, TextField } from \"react-admin\";\n\nimport { withStyles } from '@material-ui/core/styles/index';\nimport Grid from '@material-ui/core/Grid/index';\nimport Typography from '@material-ui/core/Typography/index';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel/index';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails/index';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary/index';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport IconButton from '@material-ui/core/IconButton/index';\n\nimport EditButton from \"../../../common/Buttons/EditButton\";\nimport CustomIcon from \"../../../common/CustomIcon\";\nimport EmergencySummaryPanel from \"../fragments/EmergencySummaryPanel\";\nimport { themeCommonElements } from \"../../../../version/config/theme.config\";\n\nconst styles = theme => ({\n    expansionPanel: {\n        height: \"49px !important\",\n        border: `1px solid ${theme.palette.borderColor}`,\n        '& > div': {\n            minHeight: \"49px !important\",\n        }\n    },\n    currentExpansionPanel: {\n        margin: \"0px !important\",\n        border: `1px solid ${theme.palette.borderColor}`,\n        '& > div': {\n            minHeight: \"49px !important\",\n        }\n    },\n    expansionPanelSummary: {\n        backgroundColor: theme.palette.mainColor,\n        paddingLeft: 16,\n        '& > div': {\n            margin: \"0px !important\",\n            marginTop: \"0px\",\n            marginBottom: \"0px\",\n        }\n    },\n    emptyBlock: {\n        flexGrow: 1,\n    },\n    expandIcon: {\n        height: 35,\n        paddingLeft: 10,\n        paddingRight: 10,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        color: theme.isOldDesign ? theme.palette.secondaryMainColor : theme.palette.paperColor,\n    },\n    expandBlockIcon: {\n        height: 35,\n        paddingLeft: 10,\n        paddingRight: 10,\n        marginRight: 35,\n        border: theme.isOldDesign ? `1px solid ${theme.palette.secondaryMainColor}` : null,\n        color: theme.isOldDesign ? theme.palette.secondaryMainColor : theme.palette.paperColor,\n    },\n    expansionTypography: {\n        paddingTop: 10,\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        fontSize: 18,\n        fontWeight: 700,\n    },\n    expansionPanelDetails: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: 0,\n    },\n    showDetails: {\n        padding: '10px 0',\n        '& > div': {\n            boxShadow: \"none\",\n        }\n    },\n    showLayoutDetails: {\n        paddingTop: '0px !important',\n        paddingLeft: 10,\n    },\n    labelBlock: {\n        '& > div': {\n            marginTop: 0,\n            marginBottom: 0,\n        },\n    },\n});\n\n/**\n * This component returns template for details block\n * (it used in Show details blocks for the plugins Allergies, Contacts, Medications, Problems etc.)\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nclass ShowTemplate extends Component {\n\n    state = {\n        isMainPanelOpen: true,\n        isSystemInfoPanelOpen: true,\n    };\n\n    toggleMainPanel = () => {\n        this.setState({\n            isMainPanelOpen: !this.state.isMainPanelOpen,\n        });\n    };\n\n    toggleSystemInfoPanel = () => {\n        this.setState({\n            isSystemInfoPanelOpen: !this.state.isSystemInfoPanelOpen,\n        });\n    };\n\n    render() {\n        const { classes, children, isListOpened, pageTitle, toggleListBlock, changeViewType, isDateCreatedAbsent, isSystemInfoAbsent, ...rest } = this.props;\n        const { isMainPanelOpen, isSystemInfoPanelOpen } = this.state;\n        const hasEmergencySummaryPanel = get(themeCommonElements, 'emergencySummaryPanel', false);\n        return (\n            <Grid item xs={12} sm={isListOpened ? 6 : 12}>\n                <ExpansionPanel className={isMainPanelOpen ? classes.currentExpansionPanel : classes.expansionPanel} expanded={isMainPanelOpen} onChange={() => this.toggleMainPanel()}>\n                    <ExpansionPanelSummary className={classes.expansionPanelSummary} expandIcon={<ExpandMoreIcon className={classes.expandIcon} />}>\n                        <Typography className={classes.expansionTypography} >{pageTitle}</Typography>\n                        <div className={classes.emptyBlock}></div>\n                        <div title={isListOpened ? \"Expand\" : \"Compress\"}>\n                            <IconButton onClick={e => toggleListBlock(e)}>\n                                <CustomIcon iconClassName={isListOpened ? 'fa fa-expand' : 'fa fa-compress'} />\n                            </IconButton>\n                        </div>\n                    </ExpansionPanelSummary>\n                    {\n                        isMainPanelOpen &&\n                        <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n                            <Show className={classes.showDetails} title={pageTitle} {...rest}>\n                                <SimpleShowLayout className={classes.showLayoutDetails}>\n                                    {children}\n                                </SimpleShowLayout>\n                            </Show>\n                            <EditButton redirectTo={changeViewType} />\n                        </ExpansionPanelDetails>\n                    }\n                </ExpansionPanel>\n                <ExpansionPanel className={isSystemInfoPanelOpen ? classes.currentExpansionPanel : classes.expansionPanel} expanded={isSystemInfoPanelOpen} onChange={() => this.toggleSystemInfoPanel()}>\n                    <ExpansionPanelSummary className={classes.expansionPanelSummary} expandIcon={<ExpandMoreIcon className={classes.expandIcon} />}>\n                        <Typography className={classes.expansionTypography} >System Information</Typography>\n                    </ExpansionPanelSummary>\n                    {\n                        isSystemInfoPanelOpen &&\n                            <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n                                <Show className={classes.showDetails} title={pageTitle} {...rest}>\n                                    <SimpleShowLayout className={classes.showLayoutDetails}>\n                                        <TextField className={classes.labelBlock} label=\"Source\" source=\"source\" />\n                                    </SimpleShowLayout>\n                                </Show>\n                            </ExpansionPanelDetails>\n                    }\n                </ExpansionPanel>\n                {\n                    hasEmergencySummaryPanel && <EmergencySummaryPanel {...this.props} />\n                }\n            </Grid>\n        );\n    }\n}\n\nexport default withStyles(styles)(ShowTemplate);","import React from \"react\";\nimport { TextField, DateField } from \"react-admin\";\nimport { withStyles } from '@material-ui/core/styles';\n\nimport PatientShowTemplate from \"./templates/PatientShowTemplate\";\n\nconst styles = {\n    labelBlock: {\n        '& > div': {\n            marginTop: \"0px !important\",\n            marginBottom: \"0px !important\",\n        },\n    },\n};\n\n/**\n * This component returns block with Patient details component\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nconst PatientShow = ({ classes, ...rest }) => (\n    <PatientShowTemplate pageTitle=\"Patient\" {...rest}>\n        <TextField className={classes.labelBlock} label=\"Name\" source=\"firstName\" />\n        <TextField className={classes.labelBlock} label=\"Surname\" source=\"lastName\" />\n        <DateField className={classes.labelBlock} label=\"Date of Birth\" source=\"birthDate\" />\n        <TextField className={classes.labelBlock} label=\"Gender\" source=\"gender\" />\n        <TextField className={classes.labelBlock} label=\"Address\" source=\"address\" />\n        <TextField className={classes.labelBlock} label=\"District\" source=\"district\" />\n        <TextField className={classes.labelBlock} label=\"City\" source=\"city\" />\n        <TextField className={classes.labelBlock} label=\"Country\" source=\"country\" />\n        <TextField className={classes.labelBlock} label=\"Telephone Number\" source=\"phone\" />\n        <TextField className={classes.labelBlock} label=\"NHS number\" source=\"nhsNumber\" />\n    </PatientShowTemplate>\n);\n\nexport default withStyles(styles)(PatientShow);","import React, { Component } from \"react\"\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Dialog from '@material-ui/core/Dialog';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\n\nconst styles = theme => ({\n    dialogBlock: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\",\n        [theme.breakpoints.only('xs')]: {\n            padding: 0,\n        },\n        [theme.breakpoints.up('sm')]: {\n            minHeight: 300,\n            minWidth: 500,\n            marginBottom: 10,\n        },\n    },\n    titleBlock: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        height: 48,\n        paddingLeft: 20,\n        backgroundColor: theme.palette.secondaryMainColor,\n        color: theme.palette.paperColor,\n        fontSize: 18,\n        fontWeight: 800,\n    },\n    description: {\n        padding: 20,\n        fontSize: 15,\n        textAlign: \"justify\",\n    },\n    toolbar: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-end\",\n        marginRight: 15,\n    },\n    agreeButton: {\n        display: \"block\",\n        width: 140,\n        height: 40,\n        margin: \"8px !important\",\n        color: theme.palette.paperColor,\n        backgroundColor: theme.palette.secondaryMainColor,\n        borderRadius: theme.isRectangleButtons ? 0 : 25,\n        textTransform: 'capitalize',\n        fontSize: 16,\n        fontWeight: 800,\n        \"&:hover\": {\n            color: theme.palette.secondaryMainColor,\n            backgroundColor: theme.palette.paperColor,\n            border: `1px solid ${theme.palette.secondaryMainColor}`\n        },\n    },\n    declineButton: {\n        display: \"block\",\n        width: 140,\n        height: 40,\n        margin: \"8px !important\",\n        color: theme.palette.paperColor,\n        backgroundColor: theme.palette.dangerColor,\n        borderRadius: theme.isRectangleButtons ? 0 : 25,\n        textTransform: 'capitalize',\n        fontSize: 16,\n        fontWeight: 800,\n        \"&:hover\": {\n            color: theme.palette.dangerColor,\n            backgroundColor: theme.palette.paperColor,\n            border: `1px solid ${theme.palette.dangerColor}`\n        },\n    }\n});\n\nclass HandleErrorModal extends Component {\n\n    render() {\n        const { classes, open, handleClose, agreeAction, ...rest } = this.props;\n        return (\n            <React.Fragment>\n                <Dialog open={open} {...rest}>\n                    <div className={classes.dialogBlock} >\n                        <Typography className={classes.titleBlock}>\n                            Patient Access Disclaimer\n                        </Typography>\n                        <Typography className={classes.description}>\n                            Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                            Sed nec lobortis elit.\n                            Aenean mi nunc, feugiat ut aliquet non, iaculis vel tellus.\n                            Donec semper felis placerat, posuere nisi a, suscipit turpis.\n                            Integer sit amet lacus pellentesque, vestibulum libero id, sagittis nisi.\n                            Phasellus eleifend, neque eget vulputate semper, enim dui dictum neque, non iaculis felis augue at nunc.\n                        </Typography>\n                        <div className={classes.toolbar}>\n                            <Button aria-label=\"Close\" className={classes.declineButton} onClick={() => handleClose()}>Decline</Button>\n                            <Button aria-label=\"Agree\" className={classes.agreeButton} onClick={() => agreeAction()}>Agree</Button>\n                        </div>\n                    </div>\n                </Dialog>\n            </React.Fragment>\n        );\n    }\n\n};\n\nexport default withStyles(styles)(withMobileDialog({breakpoint: 'xs'})(HandleErrorModal));\n","import get from \"lodash/get\";\nimport { domainName } from \"../../token\";\n\nconst url = domainName + `/api/initialise/`;\nlet options = {};\nif (!options.headers) {\n    options.headers = new Headers({ Accept: 'application/json' });\n}\noptions.headers = {\n    'X-Requested-With': \"XMLHttpRequest\",\n};\n\nconst OLD_PATIENT_DELAY = 1000;\nconst NEW_PATIENT_DELAY = 5000;\n\nconst fetchInitialize = (resolve, reject) => {\n    const patientId = localStorage.getItem('patientId');\n    const urlInitialize = url + patientId;\n    fetch(urlInitialize, options)\n        .then(res => res.json())\n        .then(response => {\n            if (get(response, 'status', null) !== 'loading_data') {\n                return resolve(true);\n            }\n            const isNewPatient = get(response, 'new_patient', false);\n            const delay = isNewPatient ? NEW_PATIENT_DELAY : OLD_PATIENT_DELAY;\n            setTimeout(() => fetchInitialize(resolve, reject), delay);\n        });\n};\n\nexport default fetchInitialize;","import React from \"react\";\nimport { token } from \"../token\";\n\nimport { withStyles } from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst styles = {\n    mainSpinner: {\n        display: \"block\",\n        position: \"fixed\",\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        paddingTop: 150,\n        zIndex: 9999,\n        backgroundColor: \"#fff\",\n        transition: \"opacity 1s ease, visibility 1s ease, background 1s ease\",\n    },\n    slidesAndRings: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        left: \"50%\",\n        position: \"absolute\",\n        transform: \"translate(-50%, -50%)\",\n        marginLeft: \"-100px\",\n    },\n    tips: {\n        overflow: \"hidden\",\n        width: 280,\n        margin: \"0 auto\",\n        position: \"absolute\",\n        textAlign: \"center\",\n        top: 180,\n        left: -40,\n        fontFamily: \"HK_Grotesk_Regular\",\n        \"& > p\": {\n            marginTop: 10,\n            marginBottom: 10,\n            fontSize: 24,\n        },\n    },\n    '@keyframes slide': {\n        \"0%\": { marginLeft: 0 },\n        \"9.91%\": { marginLeft: 0 },\n        \"10.01%\": { marginLeft: -280 },\n        \"19.92%\": { marginLeft: -280 },\n        \"20.02%\": { marginLeft: -560 },\n        \"29.93%\": { marginLeft: -560 },\n        \"30.03%\": { marginLeft: -840 },\n        \"39.94%\": { marginLeft: -840 },\n        \"40.04%\": { marginLeft: -1120 },\n        \"49.95%\": { marginLeft: -1120 },\n        \"50.05%\": { marginLeft: -1400 },\n        \"59.96%\": { marginLeft: -1400 },\n        \"60.06%\": { marginLeft: -1680 },\n        \"69.97%\": { marginLeft: -1680 },\n        \"70.07%\": { marginLeft: -1960 },\n        \"79.98%\": { marginLeft: -1960 },\n        \"80.08%\": { marginLeft: -2240 },\n        \"89.99%\": { marginLeft: -2240 },\n        \"90.09%\": { marginLeft: -2520 },\n        \"100%\": { marginLeft: -2520 },\n    },\n    slideWrapper: {\n        width: 2800,\n        WebkitAnimation: \"slide 100.9s ease-out infinite\",\n        animation: \"slide 100.9s ease-out infinite\",\n    },\n    slide: {\n        float: \"left\",\n        width: 280,\n    },\n    slideNumber: {\n        color: \"#000\",\n        textAlign: \"center\",\n        fontSize: 14,\n        \"& h3\": {\n            fontFamily: '\"HK Grotesk SemiBold\", Arial, sans-serif',\n            marginTop: 10,\n            marginBottom: 10,\n            fontSize: 18,\n        },\n    },\n    '@keyframes rings': {\n        \"0%\": {\n            WebkitTransform: \"rotate(0)\",\n            transform: \"rotate(0)\",\n        },\n        \"100%\": {\n            WebkitTransform: \"rotate(360deg)\",\n            transform: \"rotate(360deg)\",\n        }\n    },\n    '@keyframes rings_reverse': {\n        \"0%\": {\n            WebkitTransform: \"rotate(0)\",\n            transform: \"rotate(0)\",\n        },\n        \"100%\": {\n            WebkitTransform: \"rotate(-360deg)\",\n            transform: \"rotate(-360deg)\",\n        }\n    },\n    rings: {\n        position: \"relative\",\n        \"& div\": {\n            position: \"absolute\",\n            width: 120,\n            height: 120,\n            top: 40,\n            left: 40,\n            borderRadius: \"50%\",\n            border: \"10px solid #000\",\n            borderColor: \"#3596f4 transparent #3596f4 transparent\",\n            WebkitAnimation: \"rings 1s linear infinite\",\n            animation: `rings 1s linear infinite`,\n        },\n        \"& div:nth-child(2)\": {\n            width: 96,\n            height: 96,\n            top: 52,\n            left: 52,\n            borderColor: \"transparent #cacaca transparent #cacaca\",\n            WebkitAnimation: \"rings_reverse 1s linear infinite\",\n            animation: \"rings_reverse 1s linear infinite\",\n        }\n    },\n};\n\nconst LoadingSlider = ({ classes }) => {\n    return (\n        <div className={classes.mainSpinner}>\n            <div className={classes.slidesAndRings}>\n                {token &&\n                    <div className={classes.tips}>\n                        <Typography>Top Tips to a Healthy Life</Typography>\n                        <div className={classes.slideWrapper}>\n                            <div className={classes.slide}>\n                                <div className={classes.slideNumber}>\n                                    <h3>Give up smoking</h3>\n                                    <Typography>If you're a smoker, quit. It's the single best thing you can do for your heart health.</Typography>\n                                    <Typography>Smoking is one of the main causes of coronary heart disease. A year after giving up, your risk of a heart attack falls to about half that of a smoker.</Typography>\n                                    <Typography>You're more likely to stop smoking for good if you use NHS stop smoking services. Visit the Smokefree website or ask your GP for help with quitting.</Typography>\n                                </div>\n                            </div>\n                            <div className={classes.slide}>\n                                <div className={classes.slideNumber}>\n                                    <h3>Get active</h3>\n                                    <Typography>Getting  and staying  active can reduce your risk of developing heart disease. It can also be a great mood booster and stress buster.</Typography>\n                                    <Typography>Do 150 minutes of moderate-intensity aerobic activity every week. One way to achieve this target is by doing 30 minutes of activity on 5 days a week. Fit it in where you can, such as by cycling to work.</Typography>\n                                </div>\n                            </div>\n                            <div className={classes.slide}>\n                                <div className={classes.slideNumber}>\n                                    <h3>Manage your weight</h3>\n                                    <Typography>Being overweight can increase your risk of heart disease. Stick to a healthy, balanced diet low in fat and sugar, with plenty of fruit and vegetables, combined with regular physical activity.</Typography>\n                                    <Typography>Find out if you're a healthy weight with the BMI calculator. If you're overweight, try our 12-week NHS weight loss plan.</Typography>\n                                </div>\n                            </div>\n                            <div className={classes.slide}>\n                                <div className={classes.slideNumber}>\n                                    <h3>Eat more fibre</h3>\n                                    <Typography>Eat plenty of fibre to help lower your risk of heart disease  aim for at least 30g a day.</Typography>\n                                    <Typography>Eat fibre from a variety of sources, such as wholemeal bread, bran, oats and wholegrain cereals, potatoes with their skins on, and plenty of fruit and veg.</Typography>\n                                </div>\n                            </div>\n                            <div className={classes.slide}>\n                                <div className={classes.slideNumber}>\n                                    <h3>Cut down on saturated fat</h3>\n                                    <Typography>Eating too many foods that are high in saturated fat can raise the level of cholesterol in your blood. This increases your risk of heart disease.</Typography>\n                                    <Typography>Choose leaner cuts of meat and lower fat dairy products like 1% fat milk over full-fat (or whole) milk.</Typography>\n                                </div>\n                            </div>\n                            <div className={classes.slide}>\n                                <div className={classes.slideNumber}>\n                                    <h3>Get your 5 A Day</h3>\n                                    <Typography>Eat at least 5 portions of a variety of fruit and vegetables a day. They're a good source of fibre, vitamins and minerals.</Typography>\n                                    <Typography>There are lots of tasty ways to get your 5 A Day, like adding chopped fruit to cereal or including vegetables in your pasta sauces and curries.</Typography>\n                                </div>\n                            </div>\n\n                            <div className={classes.slide}>\n                                <div className={classes.slideNumber}>\n                                    <h3>Cut down on salt</h3>\n                                    <Typography>To maintain healthy blood pressure, avoid using salt at the table and try adding less to your cooking. Once you get used to the taste of food without added salt, you can cut it out completely.</Typography>\n                                    <Typography>Watch out for high salt levels in ready-made foods. Most of the salt we eat is already in the foods we buy. Check the food labels  a food is high in salt if it has more than 1.5g salt (or 0.6g sodium) per 100g.</Typography>\n                                    <Typography>Adults should eat less than 6g of salt a day in total  that's about 1 teaspoon.</Typography>\n                                </div>\n                            </div>\n                            <div className={classes.slide}>\n                                <div className={classes.slideNumber}>\n                                    <h3>Eat Fish</h3>\n                                    <Typography>Eat fish at least twice a week, including a portion of oily fish. Fish such as pilchards, sardines and salmon are a source of omega-3 fats, which may help protect against heart disease.</Typography>\n                                    <Typography>Pregnant or breastfeeding women should not have more than 2 portions of oily fish a week.</Typography>\n                                </div>\n                            </div>\n                            <div className={classes.slide}>\n                                <div className={classes.slideNumber}>\n                                    <h3>Drink less alcohol</h3>\n                                    <Typography>Do not forget that alcohol contains calories. Regularly drinking more than the NHS recommends can have a noticeable impact on your waistline.</Typography>\n                                    <Typography>Try to keep to the recommended daily alcohol limits to reduce the risk of serious problems with your health, including risks to your heart health.</Typography>\n                                </div>\n                            </div>\n                            <div className={classes.slide}>\n                                <div className={classes.slideNumber}>\n                                    <h3>Read the food label</h3>\n                                    <Typography>When shopping, it's a good idea to look at the label on food and drink packaging to see how many calories and how much fat, salt and sugar the product contains.</Typography>\n                                    <Typography>Understanding what's in food and how it fits in with the rest of your diet will help you make healthier choices.</Typography>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                }\n                <div className={classes.rings}>\n                    <div></div>\n                    <div></div>\n                </div>\n            </div>\n        </div>\n    )\n};\n\nexport default (withStyles(styles)(LoadingSlider));\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport { connect } from 'react-redux';\nimport { setSidebarVisibility } from \"react-admin\";\n\nimport TableCell from '@material-ui/core/TableCell';\n\nimport { columnsTogglingAction } from \"../../../actions/columnsTogglingAction\";\nimport CustomDatagridRow from \"../../../common/ResourseTemplates/fragments/CustomDatagridRow\";\nimport { DATE_FORMAT } from \"../../../common/ResourseTemplates/fragments/constants\";\nimport ViewButton from \"../../../common/Buttons/ViewButton\";\nimport ConfirmationModal from \"./ConfirmationModal\";\nimport get from \"lodash/get\";\nimport { themeCommonElements } from \"../../../../version/config/theme.config\";\nimport fetchInitialize from \"../fetchInitialize\";\nimport { currentPatientAction } from \"../../../actions/currentPatientAction\";\nimport LoadingSlider from \"../../../common/LoadingSlider\";\n\n// TEMPORARY\nfunction randomDate(start, end) {\n    return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));\n}\n\nclass PatientDatagridRow extends Component {\n\n    state = {\n        anchorEl: null,\n        loading: false,\n        redirectUrl: '/summary',\n    };\n\n    redirectWithoutPermission = (e, url = null) => {\n        e.stopPropagation();\n        this.redirectToSummary(url);\n    };\n\n    /**\n     * This function redirects to Patient Summary page\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n\n     */\n    redirectToSummary = () => {\n        const { record } = this.props;\n        const { redirectUrl } = this.state;\n        localStorage.setItem('patientId', record.nhsNumber);\n        this.setState({\n            loading: true\n        });\n        new Promise(fetchInitialize).then(() => {\n            this.props.updateCurrentPatient(record.nhsNumber);\n            this.props.history.push(redirectUrl);\n            this.props.setSidebarVisibility(true);\n            this.setState({\n                loading: false\n            })\n        });\n    };\n\n    handleClick = e => {\n        e.stopPropagation();\n        this.setState({\n            anchorEl: e.currentTarget,\n        });\n    };\n\n    handleClose = () => {\n        this.setState({\n            anchorEl: false,\n        });\n    };\n\n    checkRedirectUrl = (e, value) => {\n        e.stopPropagation();\n        this.setState({\n            redirectUrl: value,\n            anchorEl: e.currentTarget,\n         });\n    };\n\n    isColumnHidden = columnName => {\n        const { hiddenColumns } = this.props;\n        return hiddenColumns.indexOf(columnName) === -1;\n    };\n\n    render() {\n        const { classes, record, hiddenColumns } = this.props;\n        const { loading, anchorEl } = this.state;\n\n        if (!record) {\n            return null;\n        }\n\n        if (loading) {\n            return (\n                <LoadingSlider />\n            )\n        }\n\n        const isPermissionRequired = get(themeCommonElements, 'patientSummaryPermission', false);\n        const open = Boolean(anchorEl);\n\n        return (\n            <CustomDatagridRow {...this.props} >\n                <TableCell key={`${record.id}-name`}>\n                    {record.name}\n                </TableCell>\n                {\n                    this.isColumnHidden('address') &&\n                        <TableCell key={`${record.id}-address`}>\n                            {record.totalAddress}\n                        </TableCell>\n                }\n                <TableCell key={`${record.id}-gender`}>\n                    {record.gender}\n                </TableCell>\n                <TableCell key={`${record.id}-birthDate`}>\n                    {moment(record.birthDate).format(DATE_FORMAT)}\n                </TableCell>\n                {\n                    this.isColumnHidden('nhsNumber') &&\n                        <TableCell key={`${record.id}-nhsNumber`}>\n                            {record.nhsNumber}\n                        </TableCell>\n                }\n\n                {/*{*/}\n                {/*    this.isColumnHidden('ordersDate') &&*/}\n                {/*        <TableCell key={`${record.id}-ordersDate`}>*/}\n                {/*            {moment(randomDate(new Date(2015, 4, 20), new Date())).format(DATE_FORMAT)}*/}\n                {/*        </TableCell>*/}\n                {/*}*/}\n                {/*{*/}\n                {/*    this.isColumnHidden('ordersCount') &&*/}\n                {/*        <TableCell key={`${record.id}-ordersCount`}>*/}\n                {/*            {Math.floor(Math.random() * Math.floor(8))}*/}\n                {/*        </TableCell>*/}\n                {/*}*/}\n\n                {/*{*/}\n                {/*    this.isColumnHidden('resultsDate') &&*/}\n                {/*        <TableCell key={`${record.id}-resultsDate`}>*/}\n                {/*            {moment(randomDate(new Date(2015, 4, 20), new Date())).format(DATE_FORMAT)}*/}\n                {/*        </TableCell>*/}\n                {/*}*/}\n                {/*{*/}\n                {/*    this.isColumnHidden('resultsCount') &&*/}\n                {/*        <TableCell key={`${record.id}-resultsCount`}>*/}\n                {/*            {Math.floor(Math.random() * Math.floor(12))}*/}\n                {/*        </TableCell>*/}\n                {/*}*/}\n\n                {\n                    this.isColumnHidden('vitalsDate') &&\n                        <TableCell key={`${record.id}-vitalsDate`} onClick={e => this.checkRedirectUrl(e, '/vitalsigns')}>\n                            {moment(randomDate(new Date(2015, 4, 20), new Date())).format(DATE_FORMAT)}\n                        </TableCell>\n                }\n                {\n                    this.isColumnHidden('vitalsCount') &&\n                        <TableCell key={`${record.id}-vitalsCount`} onClick={e => this.checkRedirectUrl(e, '/vitalsigns')}>\n                            {Math.floor(Math.random() * Math.floor(12))}\n                        </TableCell>\n                }\n\n                {\n                    this.isColumnHidden('problemsDate') &&\n                        <TableCell key={`${record.id}-problemsDate`} onClick={e => this.checkRedirectUrl(e, '/problems')}>\n                            {moment(randomDate(new Date(2015, 4, 20), new Date())).format(DATE_FORMAT)}\n                        </TableCell>\n                }\n                {\n                    this.isColumnHidden('problemsCount') &&\n                        <TableCell key={`${record.id}-problemsCount`} onClick={e => this.checkRedirectUrl(e, '/problems')}>\n                            {Math.floor(Math.random() * Math.floor(12))}\n                        </TableCell>\n                }\n\n                <TableCell className={classes.viewButtonCell}>\n                    <ViewButton viewAction={isPermissionRequired ? this.handleClick : this.redirectWithoutPermission} checkRedirectUrl={this.checkRedirectUrl} />\n                </TableCell>\n                <ConfirmationModal anchorEl={anchorEl} open={open} handleClose={this.handleClose} agreeAction={this.redirectToSummary} />\n            </CustomDatagridRow>\n        );\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        updateCurrentPatient(data) {\n            dispatch(currentPatientAction.request(data));\n        },\n        setSidebarVisibility(params) {\n            dispatch(setSidebarVisibility(params));\n        },\n        removeHiddenColumns() {\n            dispatch(columnsTogglingAction.remove());\n        }\n    }\n};\n\nexport default connect(null, mapDispatchToProps)(PatientDatagridRow);\n","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport { connect } from 'react-redux';\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from \"@material-ui/core/Button\";\n\nconst styles = theme => ({\n    checkboxItem: {\n        width: 120,\n    },\n    selectAll: {\n        display: \"block\",\n        border: `1px solid ${theme.palette.secondaryMainColor}`,\n        height: 'auto',\n        width: 120,\n        boxSizing: \"border-box\",\n        borderRadius: theme.isRectangleButtons ? 0 : 25,\n        color: theme.palette.secondaryMainColor,\n        '&:hover': {\n            color: theme.palette.paperColor,\n            backgroundColor: theme.palette.secondaryMainColor\n        }\n    },\n    formGroup: {\n        paddingTop: 10,\n        paddingBottom: 10,\n    }\n});\n\nconst CustomDisabledCheckbox = withStyles(theme => ({\n    root: {\n        color: theme.palette.disabledColor,\n        '&$checked': {\n            color: theme.palette.disabledColor,\n        },\n    },\n    checked: {},\n}))(props => <Checkbox color=\"default\" {...props} />);\n\nconst CustomCheckbox = withStyles(theme => ({\n    root: {\n        color: theme.palette.secondaryMainColor,\n        '&$checked': {\n            color: theme.palette.secondaryMainColor,\n        },\n    },\n    checked: {},\n}))(props => <Checkbox color=\"default\" {...props} />);\n\nconst columnsArray = [\n    'name', 'address', 'born', 'gender', 'nhsNumber',\n    'ordersDate', 'resultsDate', 'vitalsDate', 'problemsDate',\n    'ordersCount', 'resultsCount', 'vitalsCount', 'problemsCount'\n];\n\nconst defaultHiddenColumns = [\n    'ordersDate', 'resultsDate', 'vitalsDate', 'problemsDate',\n    'ordersCount', 'resultsCount', 'vitalsCount', 'problemsCount'\n];\n\nconst PATIENT_INFO = 'patientInfo';\nconst DATE_TIME = 'dateTime';\nconst COUNT = 'count';\n\nclass ColumnsTogglingPopover extends Component {\n\n    state = {\n        patientInfo: true,\n        name: true,\n        gender: true,\n        born: true,\n        address: true,\n        nhsNumber: true,\n        dateTime: false,\n        // ordersDate: false,\n        // resultsDate: false,\n        vitalsDate: false,\n        problemsDate: false,\n        count: false,\n        // ordersCount: false,\n        // resultsCount: false,\n        vitalsCount: false,\n        problemsCount: false,\n    };\n\n    componentDidMount() {\n        const { hiddenColumns } = this.props;\n        columnsArray.map(item => {\n            if (hiddenColumns.length > 0) {\n                this.setState({\n                    [item]: (hiddenColumns.indexOf(item) === -1)\n                });\n            } else {\n                this.setState({\n                    dateTime: true,\n                    ordersDate: true,\n                    resultsDate: true,\n                    vitalsDate: true,\n                    problemsDate: true,\n                    count: true,\n                    ordersCount: true,\n                    resultsCount: true,\n                    vitalsCount: true,\n                    problemsCount: true,\n                });\n            }\n        });\n    }\n\n    handleChange = columnName => {\n        const value = !this.state[columnName];\n        this.setState(\n            {[columnName]: value},\n            () => this.props.toggleColumn(columnName, value)\n        );\n    };\n\n    toggleColumnIfHidden = (columnName, value) => {\n        const { hiddenColumns } = this.props;\n        if (value && hiddenColumns.indexOf(columnName) !== -1) {\n            this.props.toggleColumn(columnName, value);\n        } else if (!value) {\n            this.props.toggleColumn(columnName, value);\n        }\n    };\n\n    selectAll = value => {\n        const { patientInfo, dateTime, count } = this.state;\n        if (value === PATIENT_INFO) {\n            const patientInfoValue = !patientInfo;\n            this.setState({\n                patientInfo: patientInfoValue,\n                address: patientInfoValue,\n                nhsNumber: patientInfoValue,\n            });\n            this.toggleColumnIfHidden('address', patientInfoValue);\n            this.toggleColumnIfHidden('nhsNumber', patientInfoValue);\n        }\n\n        if (value === DATE_TIME) {\n            const dateTimeValue = !dateTime;\n            this.setState({\n                dateTime: dateTimeValue,\n                // ordersDate: dateTimeValue,\n                // resultsDate: dateTimeValue,\n                vitalsDate: dateTimeValue,\n                problemsDate: dateTimeValue,\n            });\n            // this.toggleColumnIfHidden('ordersDate', dateTimeValue);\n            // this.toggleColumnIfHidden('resultsDate', dateTimeValue);\n            this.toggleColumnIfHidden('vitalsDate', dateTimeValue);\n            this.toggleColumnIfHidden('problemsDate', dateTimeValue);\n        }\n\n        if (value === COUNT) {\n            const countValue = !count;\n            this.setState({\n                count: countValue,\n                // ordersCount: countValue,\n                // resultsCount: countValue,\n                vitalsCount: countValue,\n                problemsCount: countValue,\n            });\n            // this.toggleColumnIfHidden('ordersCount', countValue);\n            // this.toggleColumnIfHidden('resultsCount', countValue);\n            this.toggleColumnIfHidden('vitalsCount', countValue);\n            this.toggleColumnIfHidden('problemsCount', countValue);\n        }\n\n    };\n\n    render() {\n        const { classes } = this.props;\n        const {\n            name, gender, born, address, nhsNumber,\n            ordersDate, resultsDate, vitalsDate, problemsDate,\n            ordersCount, resultsCount, vitalsCount, problemsCount,\n        } = this.state;\n\n        return (\n            <React.Fragment>\n\n                <div>\n                    <Typography>PATIENT INFO</Typography>\n                    <Divider />\n                    <FormGroup row>\n                        <FormControlLabel\n                            className={classes.checkboxItem}\n                            control={<CustomDisabledCheckbox checked={name} onChange={() => this.handleChange(\"name\")} value=\"name\" disabled={true} />}\n                            label=\"Name\"\n                        />\n                        <FormControlLabel\n                            className={classes.checkboxItem}\n                            control={<CustomDisabledCheckbox checked={gender} onChange={() => this.handleChange(\"gender\")} value=\"gender\" disabled={true} />}\n                            label=\"Gender\"\n                        />\n                        <FormControlLabel\n                            className={classes.checkboxItem}\n                            control={<CustomDisabledCheckbox checked={born} onChange={() => this.handleChange(\"born\")} value=\"born\" disabled={true} />}\n                            label=\"Born\"\n                        />\n                    </FormGroup>\n                    <FormGroup row>\n                        <FormControlLabel\n                            className={classes.checkboxItem}\n                            control={<CustomCheckbox checked={address} onChange={() => this.handleChange(\"address\")} value=\"address\" />}\n                            label=\"Address\"\n                        />\n                        <FormControlLabel\n                            className={classes.checkboxItem}\n                            control={<CustomCheckbox checked={nhsNumber} onChange={() => this.handleChange(\"nhsNumber\")} value=\"nhsNumber\" />}\n                            label=\"NHS No.\"\n                        />\n                        <Button onClick={() => this.selectAll(PATIENT_INFO)} aria-label=\"Select All\" className={classes.selectAll}>\n                            Select all\n                        </Button>\n                    </FormGroup>\n                </div>\n\n                <div>\n                    <Typography>DATE / TIME</Typography>\n                    <Divider />\n                    <FormGroup row>\n                        {/*<FormControlLabel*/}\n                        {/*    className={classes.checkboxItem}*/}\n                        {/*    control={<CustomCheckbox checked={ordersDate} onChange={() => this.handleChange(\"ordersDate\")} value=\"ordersDate\" />}*/}\n                        {/*    label=\"Orders\"*/}\n                        {/*/>*/}\n                        {/*<FormControlLabel*/}\n                        {/*    className={classes.checkboxItem}*/}\n                        {/*    control={<CustomCheckbox checked={resultsDate} onChange={() => this.handleChange(\"resultsDate\")} value=\"resultsDate\" />}*/}\n                        {/*    label=\"Results\"*/}\n                        {/*/>*/}\n\n                    </FormGroup>\n                    <FormGroup className={classes.formGroup} row>\n                        <FormControlLabel\n                            className={classes.checkboxItem}\n                            control={<CustomCheckbox checked={vitalsDate} onChange={() => this.handleChange(\"vitalsDate\")} value=\"vitalsDate\" />}\n                            label=\"Vitals\"\n                        />\n                        <FormControlLabel\n                            className={classes.checkboxItem}\n                            control={<CustomCheckbox checked={problemsDate} onChange={() => this.handleChange(\"problemsDate\")} value=\"problemsDate\" />}\n                            label=\"Problems\"\n                        />\n                        <Button onClick={() => this.selectAll(DATE_TIME)} aria-label=\"Select All\" className={classes.selectAll}>\n                            Select all\n                        </Button>\n                    </FormGroup>\n                </div>\n\n                <div>\n                    <Typography>COUNT</Typography>\n                    <Divider />\n                    <FormGroup row>\n                        {/*<FormControlLabel*/}\n                        {/*    className={classes.checkboxItem}*/}\n                        {/*    control={<CustomCheckbox checked={ordersCount} onChange={() => this.handleChange(\"ordersCount\")} value=\"ordersCount\" />}*/}\n                        {/*    label=\"Orders\"*/}\n                        {/*/>*/}\n                        {/*<FormControlLabel*/}\n                        {/*    className={classes.checkboxItem}*/}\n                        {/*    control={<CustomCheckbox checked={resultsCount} onChange={() => this.handleChange(\"resultsCount\")} value=\"resultsCount\" />}*/}\n                        {/*    label=\"Results\"*/}\n                        {/*/>*/}\n\n                    </FormGroup>\n                    <FormGroup className={classes.formGroup} row>\n                        <FormControlLabel\n                            className={classes.checkboxItem}\n                            control={<CustomCheckbox checked={vitalsCount} onChange={() => this.handleChange(\"vitalsCount\")} value=\"vitalsCount\" />}\n                            label=\"Vitals\"\n                        />\n                        <FormControlLabel\n                            className={classes.checkboxItem}\n                            control={<CustomCheckbox checked={problemsCount} onChange={() => this.handleChange(\"problemsCount\")} value=\"problemsCount\" />}\n                            label=\"Problems\"\n                        />\n                        <Button onClick={() => this.selectAll(COUNT)} aria-label=\"Select All\" className={classes.selectAll}>\n                            Select all\n                        </Button>\n                    </FormGroup>\n                </div>\n\n            </React.Fragment>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        hiddenColumns:  get(state, 'custom.toggleColumns.data.patients', []),\n    }\n};\n\nexport default connect(mapStateToProps, null)(withStyles(styles)(ColumnsTogglingPopover));\n","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport { connect } from 'react-redux';\nimport { TextField, DateField, setSidebarVisibility } from \"react-admin\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TodayIcon from \"@material-ui/icons/Today\";\nimport CheckIcon from \"@material-ui/icons/Check\";\n\nimport { patientsCountAction } from \"../../actions/patientsCountAction\";\nimport image from \"../../../version/images/helm-logo.png\";\nimport PatientListTemplate from \"./templates/PatientListTemplate\";\nimport ViewButton from \"../../common/Buttons/ViewButton\";\nimport PatientCreate from \"./PatientCreate\";\nimport PatientEdit from \"./PatientEdit\";\nimport PatientShow from \"./PatientShow\";\nimport DatagridRow from \"./fragments/DatagridRow\";\nimport ColumnsTogglingPopover from \"./fragments/ColumnsTogglingPopover\";\nimport { themeCommonElements } from \"../../../version/config/theme.config\";\n\nconst styles = theme => ({\n    content: {\n        width: \"100%\",\n        height: \"100%\",\n        backgroundImage: theme.patientSummaryPanel.container.background,\n        backgroundSize: \"cover\",\n        backgroundPosition: \"center\",\n    },\n    imageBlock: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"center\",\n        marginTop: \"10%\",\n    },\n    image: {\n        width: \"30%\",\n        height: \"30%\",\n    },\n    labelWithIcon: {\n        marginBottom: 10,\n    },\n    icon: {\n        marginTop: 5,\n        marginLeft: 5,\n    },\n});\n\nconst LabelWithIcon = ({ classes, title, icon }) => {\n    return (\n        <Typography className={classes.labelWithIcon}  variant=\"h1\">{ title }{ icon }</Typography>\n    )\n};\n\nconst defaultHiddenColumns = [\n    'ordersDate', 'resultsDate', 'vitalsDate', 'problemsDate',\n    'ordersCount', 'resultsCount', 'vitalsCount', 'problemsCount'\n];\n\n/**\n * This component returns block with Patients list\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @constructor\n */\nclass PatientsList extends Component {\n\n    state = {\n        key: 0,\n    };\n\n    componentDidMount() {\n        this.props.setSidebarVisibility(false);\n    }\n\n    componentWillReceiveProps(newProps, prevList) {\n        const { getPatientsCounts } = this.props;\n\n        const prevPatientsIds = get(prevList, 'patientsIds', []);\n        const newPatientsIds = get(newProps, 'patientsIds', []);\n        const isPatientListCount = get(themeCommonElements, 'isPatientListCount', false);\n\n        // if (isPatientListCount && (prevPatientsIds !== newPatientsIds) && newPatientsIds.length > 0) {\n        //     newPatientsIds.map(item => {\n        //         getPatientsCounts(item);\n        //     });\n        // }\n    }\n\n    updateTableHead = () => {\n        this.setState({\n            key: this.state.key + 1,\n        })\n    };\n\n    isColumnHidden = columnName => {\n        const { hiddenColumns } = this.props;\n        return hiddenColumns.indexOf(columnName) === -1;\n    };\n\n    render() {\n        const { userSearch, userSearchID, userSearchType, userClinicalQuery, userSearchValue, classes } = this.props;\n\n        if (!userSearch && !userSearchID && !userSearchType && !userSearchValue && !userClinicalQuery) {\n            return (\n                <div className={classes.content}>\n                    <div className={classes.imageBlock} >\n                        <CardMedia\n                            className={classes.image}\n                            component=\"img\"\n                            alt=\"NHS Scotland\"\n                            image={image}\n                        />\n                    </div>\n                </div>\n            )\n        }\n\n\n        return (\n            <React.Fragment>\n                <PatientListTemplate\n                    basePath=\"/patients\"\n                    create={PatientCreate}\n                    edit={PatientEdit}\n                    show={PatientShow}\n                    resourceUrl=\"patients\"\n                    title=\"Patients List\"\n                    headerFilterAbsent={true}\n                    CustomRow={DatagridRow}\n                    isCustomDatagrid={true}\n                    ColumnsTogglingPopover={ColumnsTogglingPopover}\n                    hasColumnsToggling={get(themeCommonElements, 'patientListColumnToggling', false)}\n                    updateTableHead={this.updateTableHead}\n                    defaultHiddenColumns={defaultHiddenColumns}\n                    {...this.props}\n                >\n                    <TextField source=\"name\" label=\"Name\"/>\n                    { this.isColumnHidden('address') && <TextField source=\"totalAddress\" label=\"Address\" /> }\n                    <TextField source=\"gender\" label=\"Gender\"/>\n                    <DateField source=\"birthDate\" label=\"Born\"/>\n                    { this.isColumnHidden('nhsNumber') && <TextField source=\"nhsNumber\" label=\"NHS No.\" /> }\n\n                    {/*{ this.isColumnHidden('ordersDate') &&*/}\n                    {/*    <DateField source=\"ordersDate\" label={<LabelWithIcon classes={classes} title=\"Orders\" icon={<TodayIcon className={classes.icon}/>}/>} />*/}\n                    {/*}*/}\n                    {/*{ this.isColumnHidden('ordersCount') &&*/}\n                    {/*    <DateField source=\"ordersCount\" label={<LabelWithIcon classes={classes} title=\"Orders\" icon={<CheckIcon className={classes.icon}/>}/>} />*/}\n                    {/*}*/}\n                    {/*{ this.isColumnHidden('resultsDate') &&*/}\n                    {/*    <DateField source=\"resultsDate\" label={<LabelWithIcon classes={classes} title=\"Results\" icon={<TodayIcon className={classes.icon} />} />} />*/}\n                    {/*}*/}\n                    {/*{ this.isColumnHidden('resultsCount') &&*/}\n                    {/*    <DateField source=\"resultsCount\" label={<LabelWithIcon classes={classes} title=\"Results\" icon={<CheckIcon className={classes.icon} />} />} />*/}\n                    {/*}*/}\n\n                    { this.isColumnHidden('vitalsDate')  &&\n                        <DateField source=\"vitalsDate\" label={<LabelWithIcon classes={classes} title=\"Vitals\" icon={<TodayIcon className={classes.icon} />} />} />\n                    }\n\n                    { this.isColumnHidden('vitalsCount') &&\n                        <DateField source=\"vitalsCount\" label={<LabelWithIcon classes={classes} title=\"Vitals\" icon={<CheckIcon className={classes.icon}/>}/>} />\n                    }\n\n                    { this.isColumnHidden('problemsDate') &&\n                        <DateField source=\"problemsDate\" label={<LabelWithIcon classes={classes} title=\"Problems\" icon={<TodayIcon className={classes.icon} />} />}/>\n                    }\n\n                    { this.isColumnHidden('problemsCount') &&\n                        <DateField source=\"problemsCount\" label={<LabelWithIcon classes={classes} title=\"Problems\" icon={<CheckIcon className={classes.icon} />} />} />\n                    }\n\n                    <ViewButton />\n\n                </PatientListTemplate>\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        userSearch: get(state, 'custom.userSearch.data', null),\n        userSearchID: get(state, 'custom.userSearch.id', null),\n        userSearchType: get(state, 'custom.userSearch.type', null),\n        userSearchValue: get(state, 'custom.userSearch.value', null),\n        userClinicalQuery: get(state, 'custom.clinicalQuery.data', null),\n        hiddenColumns:  get(state, 'custom.toggleColumns.data.patients', []),\n        patientsIds: get(state, 'admin.resources.patients.list.ids', []),\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setSidebarVisibility(params) {\n            dispatch(setSidebarVisibility(params));\n        },\n        getPatientsCounts(patientId) {\n            dispatch(patientsCountAction.request(patientId));\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(PatientsList));","// CORE PLUGINS CONFIGURATION LIST\n\n// LISTS PAGES\nimport AllergiesList from \"../plugins/Allergies/AllergiesList\";\nimport ContactsList from \"../plugins/Contacts/ContactsList\";\nimport MedicationsList from \"../plugins/Medications/MedicationsList\";\nimport ProblemsList from \"../plugins/Problems/ProblemsList\";\nimport PatientsList from \"../pages/PatientsList\";\n\nexport default [\n    // {\n    //     name: \"allergies\",\n    //     label: \"Allergies\",\n    //     list: AllergiesList,\n    // },\n    // {\n    //     name: \"contacts\",\n    //     label: \"Contacts\",\n    //     list: ContactsList,\n    // },\n    // {\n    //     name: \"medications\",\n    //     label: \"Medications\",\n    //     list: MedicationsList,\n    // },\n    // {\n    //     name: \"problems\",\n    //     label: \"Problems / Issues\",\n    //     list: ProblemsList,\n    // },\n    {\n        name: \"patients\",\n        label: \"Patients\",\n        list: PatientsList,\n    },\n];\n","import React from \"react\";\nimport { DisabledInput, TextInput, DateInput, LongTextInput } from \"react-admin\";\nimport moment from \"moment\";\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport formStyles from \"../../../../core/config/formStyles\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\n\n\n/**\n * This component returns Vaccinations creation/editing form\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {shape} rest\n */\nconst VaccinationsCreate = ({ classes, ...rest }) => (\n    <React.Fragment>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"vaccinationName\"\n                label=\"Name\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <DateInput\n                source=\"vaccinationDateTime\"\n                label=\"Vaccination date\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"series\"\n                label=\"Series\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <LongTextInput\n                source=\"comment\"\n                label=\"Comment\"\n                rows={20}\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customTextarea } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"author\"\n                label=\"Author\"\n                fullWidth\n                defaultValue={localStorage.getItem('username')}\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n                disabled={true}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <DateInput\n                source=\"dateSubmitted\"\n                label=\"Date\"\n                fullWidth\n                defaultValue={moment().format('MM/DD/YYYY')}\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n                disabled={true}\n            />\n        </FormGroup>\n\n    </React.Fragment>\n);\n\nexport default withStyles(formStyles)(VaccinationsCreate);\n","import React from \"react\";\n\nimport CreateTemplate from \"../../../core/common/ResourseTemplates/CreateTemplate\";\nimport Inputs from \"./fragments/Inputs\";\n\n/**\n * This component returns Vaccinations creation form\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {shape} rest\n */\nconst VaccinationsCreate = ({ classes, ...rest }) => (\n    <CreateTemplate blockTitle=\"Vaccination\" {...rest}>\n        <Inputs />\n    </CreateTemplate>\n);\n\nexport default VaccinationsCreate;\n","import React from \"react\";\n\nimport EditTemplate from \"../../../core/common/ResourseTemplates/EditTemplate\";\nimport Inputs from \"./fragments/Inputs\";\n\n/**\n * This component returns block with edit form for Vaccinations\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {shape} rest\n * @constructor\n */\nconst VaccinationsEdit = ({ classes, ...rest }) => (\n    <EditTemplate blockTitle=\"Vaccination\"  {...rest}>\n        <Inputs />\n    </EditTemplate>\n);\n\nexport default VaccinationsEdit;","import React from \"react\";\nimport { TextField, DateField } from \"react-admin\";\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ShowTemplate from \"../../../core/common/ResourseTemplates/ShowTemplate\";\n\nconst styles = {\n    labelBlock: {\n        '& > div': {\n            marginTop: \"0px !important\",\n            marginBottom: \"0px !important\",\n        },\n    },\n};\n\n/**\n * This component returns block with Allergies details component\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nconst VaccinationsShow = ({ classes, ...rest }) => (\n    <ShowTemplate pageTitle=\"Vaccination\" {...rest}>\n        <TextField className={classes.labelBlock} source=\"vaccinationName\" label=\"Vaccination name\" />\n        <TextField className={classes.labelBlock} source=\"comment\" label=\"Comment\" />\n        <TextField className={classes.labelBlock} source=\"author\" label=\"Author\" />\n        <DateField className={classes.labelBlock} source=\"vaccinationDateTime\" label=\"Date\" />\n    </ShowTemplate>\n);\n\nexport default VaccinationsShow;","import React from \"react\";\nimport moment from \"moment\";\n\nimport TableCell from '@material-ui/core/TableCell';\n\nimport CustomDatagridRow from \"../../../../core/common/ResourseTemplates/fragments/CustomDatagridRow\";\nimport { DATE_FORMAT } from \"../../../../core/common/ResourseTemplates/fragments/constants\";\n\nconst VaccinationsDatagridRow = props => {\n    const { record } = props;\n    if (!record) {\n        return null;\n    }\n    return (\n        <CustomDatagridRow {...props} >\n            <TableCell key={`${record.id}-vaccinationName`}>\n                {record.vaccinationName}\n            </TableCell>\n            <TableCell key={`${record.id}-dateCreated`}>\n                {moment(record.dateCreated).format(DATE_FORMAT)}\n            </TableCell>\n            <TableCell key={`${record.id}-source`}>\n                {record.source}\n            </TableCell>\n        </CustomDatagridRow>\n    );\n};\n\nexport default VaccinationsDatagridRow;\n","import React from \"react\";\nimport { DateField, TextField } from \"react-admin\";\n\nimport ListTemplate from \"../../../core/common/ResourseTemplates/ListTemplate\";\nimport VaccinationsCreate from \"./VaccinationsCreate\";\nimport VaccinationsEdit from \"./VaccinationsEdit\";\nimport VaccinationsShow from \"./VaccinationsShow\";\nimport DatagridRow from \"./fragments/DatagridRow\";\n\n/**\n * This component returns block with Vaccinations list\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {shape} rest\n * @constructor\n */\nconst VaccinationsList = ({ classes, ...rest }) => (\n    <ListTemplate\n      create={VaccinationsCreate}\n      edit={VaccinationsEdit}\n      show={VaccinationsShow}\n      resourceUrl=\"vaccinations\"\n      title=\"Vaccinations\"\n      CustomRow={DatagridRow}\n      isCustomDatagrid={true}\n      {...rest}\n    >\n        <TextField label=\"Vaccination Name\" source=\"vaccinationName\" />\n        <DateField label=\"Date and Time\" source=\"dateCreated\" />\n        <TextField label=\"Source\" source=\"source\" />\n    </ListTemplate>\n);\n\nexport default VaccinationsList;\n","import React from \"react\";\nimport { TextInput, DateInput, LongTextInput } from \"react-admin\";\nimport moment from \"moment\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport FormGroup from \"@material-ui/core/FormGroup\";\n\nimport formStyles from \"../../../../core/config/formStyles\";\n\n/**\n * This component returns TopThreeThingsInputs creation/editing form\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {shape} rest\n */\nconst TopThreeThingsInputs = ({ classes, ...rest }) => (\n    <React.Fragment>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                id=\"name1\"\n                source=\"name1\"\n                label=\"Issue #1\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <LongTextInput\n                id=\"description1\"\n                source=\"description1\"\n                label=\"Description #1\"\n                rows={20}\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customTextarea } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                id=\"name2\"\n                source=\"name2\"\n                label=\"Issue #2\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <LongTextInput\n                id=\"description2\"\n                source=\"description2\"\n                label=\"Description #2\"\n                rows={20}\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customTextarea } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                id=\"name3\"\n                source=\"name3\"\n                label=\"Issue #3\"\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <LongTextInput\n                id=\"description3\"\n                source=\"description3\"\n                label=\"Description #3\"\n                rows={20}\n                fullWidth\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customTextarea } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <TextInput\n                source=\"author\"\n                label=\"Author\"\n                fullWidth\n                defaultValue={localStorage.getItem('username')}\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n                disabled={true}\n            />\n        </FormGroup>\n\n        <FormGroup className={classes.formGroup}>\n            <DateInput\n                source=\"dateSubmitted\"\n                label=\"Date\"\n                fullWidth\n                defaultValue={moment().format('MM/DD/YYYY')}\n                InputProps={{ disableUnderline: true, classes: { root: classes.customRoot, input: classes.customInput } }}\n                InputLabelProps={{ shrink: true, className: classes.customFormLabel }}\n                disabled={true}\n            />\n        </FormGroup>\n\n    </React.Fragment>\n);\n\nexport default withStyles(formStyles)(TopThreeThingsInputs);\n","import React from \"react\";\n\nimport CreateTemplate from \"../../../core/common/ResourseTemplates/CreateTemplate\";\nimport Inputs from \"./fragments/Inputs\";\n\n/**\n * This component returns TopThreeThings creation form\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {shape} rest\n */\nconst TopThreeThingsCreate = ({ classes, ...rest }) => (\n    <CreateTemplate blockTitle=\"Top Three Things\" {...rest}>\n        <Inputs />\n    </CreateTemplate>\n);\n\nexport default TopThreeThingsCreate;\n","import React from \"react\";\n\nimport EditTemplate from \"../../../core/common/ResourseTemplates/EditTemplate\";\nimport Inputs from \"./fragments/Inputs\";\n\n/**\n * This component returns TopThreeThings editing form\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {shape} rest\n */\nconst TopThreeThingsEdit = ({ classes, ...rest }) => (\n    <EditTemplate blockTitle=\"Top Three Things\" {...rest}>\n        <Inputs />\n    </EditTemplate>\n);\n\nexport default TopThreeThingsEdit;\n","import React from \"react\";\nimport { TextField, DateField } from \"react-admin\";\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ShowTemplate from \"../../../core/common/ResourseTemplates/ShowTemplate\";\n\nconst styles = {\n    labelBlock: {\n        '& > div': {\n            marginTop: \"0px !important\",\n            marginBottom: \"0px !important\",\n        },\n    },\n};\n\n/**\n * This component returns block with Allergies details component\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nconst TopThreeThingsShow = ({ classes, ...rest }) => (\n    <ShowTemplate pageTitle=\"Top Three Things\" {...rest}>\n        <TextField className={classes.labelBlock}  source=\"name1\" label=\"Issue #1\" />\n        <TextField className={classes.labelBlock}  source=\"description1\" label=\"Description #1\" />\n        <TextField className={classes.labelBlock}  source=\"name2\" label=\"Issue #2\" />\n        <TextField className={classes.labelBlock}  source=\"description2\" label=\"Description #2\" />\n        <TextField className={classes.labelBlock}  source=\"name3\" label=\"Issue #3\" />\n        <TextField className={classes.labelBlock}  source=\"description3\" label=\"Description #3\" />\n    </ShowTemplate>\n);\n\nexport default withStyles(styles)(TopThreeThingsShow);\n","import React from \"react\";\nimport moment from \"moment\";\n\nimport TableCell from '@material-ui/core/TableCell';\n\nimport CustomDatagridRow from \"../../../../core/common/ResourseTemplates/fragments/CustomDatagridRow\";\nimport { DATE_FORMAT } from \"../../../../core/common/ResourseTemplates/fragments/constants\";\n\nconst TopThreeThingsDatagridRow = props => {\n    const { record } = props;\n    if (!record) {\n        return null;\n    }\n    return (\n        <CustomDatagridRow {...props} >\n            <TableCell key={`${record.id}-dateCreated`}>\n                {moment(record.dateCreated).format(DATE_FORMAT)}\n            </TableCell>\n            <TableCell key={`${record.id}-name1`}>\n                {record.name1}\n            </TableCell>\n            <TableCell key={`${record.id}-name2`}>\n                {record.name2}\n            </TableCell>\n            <TableCell key={`${record.id}-name3`}>\n                {record.name3}\n            </TableCell>\n            <TableCell key={`${record.id}-source`}>\n                {record.source}\n            </TableCell>\n        </CustomDatagridRow>\n    );\n};\n\nexport default TopThreeThingsDatagridRow;\n","// NON-CORE PLUGINS CONFIGURATION LIST\n\n// VACCINATIONS\nimport VaccinationsList from \"../plugins/Vaccinations/VaccinationsList\";\n\n// TOP THREE THINGS\nimport TopThreeThingsList from \"../plugins/TopThreeThings/TopThreeThingsList\";\n\nexport default [\n    {\n        name: \"vaccinations\",\n        label: \"Vaccinations\",\n        list: VaccinationsList,\n    },\n    {\n        name: \"top3Things\",\n        label: \"Top Three Things\",\n        list: TopThreeThingsList,\n    },\n];\n","import React from \"react\";\nimport { DateField, TextField } from \"react-admin\";\n\nimport ListTemplate from \"../../../core/common/ResourseTemplates/ListTemplate\";\nimport TopThreeThingsCreate from \"./TopThreeThingsCreate\";\nimport TopThreeThingsEdit from \"./TopThreeThingsEdit\";\nimport TopThreeThingsShow from \"./TopThreeThingsShow\";\nimport DatagridRow from \"./fragments/DatagridRow\";\n\n/**\n * This component returns block with Top Three Things list\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {shape} rest\n * @constructor\n */\nconst TopThreeThingsList = ({ classes, ...rest }) => (\n    <ListTemplate\n      id=\"list-top3Things\"\n      create={TopThreeThingsCreate}\n      edit={TopThreeThingsEdit}\n      show={TopThreeThingsShow}\n      resourceUrl=\"top3Things\"\n      title=\"Top Three Things\"\n      CustomRow={DatagridRow}\n      isCustomDatagrid={true}\n      {...rest}\n    >\n        <DateField source=\"dateCreated\" label=\"Date created\"  />\n        <TextField source=\"name1\" label=\"Issue #1\" />\n        <TextField source=\"name2\" label=\"Issue #2\" />\n        <TextField source=\"name3\" label=\"Issue #3\" />\n        <TextField source=\"source\" label=\"Source\" />\n    </ListTemplate>\n);\n\nexport default TopThreeThingsList;\n","import { takeEvery, put } from 'redux-saga/effects';\nimport get from \"lodash/get\";\n\nimport {domainName, token} from \"../token\";\nimport { CURRENT_PATIENT_ACTION, currentPatientAction } from \"../actions/currentPatientAction\";\n\nconst currentPatientRequest = takeEvery(CURRENT_PATIENT_ACTION.REQUEST, function*(action) {\n    const search = get(action, 'data', null);\n    let url = `${domainName}/mpi/Patient/${localStorage.getItem('patientId')}`;\n    if (search) {\n        url = `${domainName}/mpi/Patient/${search}`;\n    }\n    let options = {};\n    if (!options.headers) {\n        options.headers = new Headers({ Accept: 'application/json' });\n    }\n    options.headers = {\n        Authorization: \"Bearer \" + token,\n        'X-Requested-With': \"XMLHttpRequest\",\n    };\n    try {\n        const result = yield fetch(url, options).then(res => res.json());\n        yield put(currentPatientAction.success(result));\n    } catch(e) {\n        yield put(currentPatientAction.error(e));\n    }\n});\n\nconst currentPatientPhoto = takeEvery(CURRENT_PATIENT_ACTION.REQUEST_PHOTO, function*(action) {\n    const gender = get(action, 'data', null);\n    const url = `https://randomuser.me/api/?gender=${gender}`;\n    try {\n        const result = yield fetch(url).then(res => res.json());\n        yield put(currentPatientAction.successPhoto(result));\n    } catch(e) {\n        yield put(currentPatientAction.errorPhoto(e));\n    }\n});\n\nexport default [\n    currentPatientRequest,\n    currentPatientPhoto,\n]","import { createRequestTypes } from \"./functions\";\n\nexport const INITIALIZE_ACTION = createRequestTypes('INITIALIZE_ACTION');\n\nexport const initializeAction = {\n    request: data => ({ type: INITIALIZE_ACTION.REQUEST, data }),\n    success: data => ({ type: INITIALIZE_ACTION.SUCCESS, data }),\n    error:   error => ({ type: INITIALIZE_ACTION.FAILURE, error }),\n};\n","import { takeEvery, put } from 'redux-saga/effects';\nimport get from \"lodash/get\";\n\nimport { domainName } from \"../token\";\nimport { INITIALIZE_ACTION, initializeAction } from \"../actions/initializeAction\";\n\nexport default takeEvery(INITIALIZE_ACTION.REQUEST, function*(action) {\n    const url = domainName + '/api/initialise';\n    let options = {};\n    if (!options.headers) {\n        options.headers = new Headers({ Accept: 'application/json' });\n    }\n    options.headers = {\n        'X-Requested-With': \"XMLHttpRequest\",\n    };\n    try {\n        const result = yield fetch(url, options).then(res => res.json())\n            .then(response => {\n                const redirectUrl = get(response, 'redirectURL', null);\n                if (redirectUrl) {\n                    window.location.href = redirectUrl;\n                }\n                return response;\n            });\n        yield put(initializeAction.success(result))\n    } catch(e) {\n        yield put(initializeAction.error(e))\n    }\n});","import get from \"lodash/get\";\nimport { takeEvery, put } from 'redux-saga/effects';\n\nimport { domainName, token } from \"../token\";\nimport { DEMOGRAPHICS_ACTION, demographicsAction } from \"../actions/demographicsAction\";\nimport { httpErrorAction } from '../actions/httpErrorAction';\n\nlet responseInfo = {};\n\nexport default takeEvery(DEMOGRAPHICS_ACTION.REQUEST, function*(action) {\n    const url = domainName + '/api/demographics/' + localStorage.getItem('patientId');\n    let options = {};\n    options.method = \"GET\";\n    if (!options.headers) {\n        options.headers = new Headers({ Accept: 'application/json' });\n    }\n    options.headers = {\n        Authorization: \"Bearer \" + token,\n        'X-Requested-With': \"XMLHttpRequest\",\n        Authorization: \"Bearer \" + token,\n    };\n    try {\n        const result = yield fetch(url, options)\n            .then(res => {\n                responseInfo.status = get(res, 'status', null);\n                return res.json()\n            })\n            .then(res => {\n                if (responseInfo.status !== 200) {\n                    responseInfo.errorMessage = get(res, 'error', null);\n                    return false;\n                }\n                return res;\n            });\n\n        if (responseInfo.status === 200) {\n            yield put(demographicsAction.success(result))\n        } else {\n            yield put(httpErrorAction.save({\n                status: responseInfo.status,\n                message: responseInfo.errorMessage\n            }));\n        }\n\n    } catch(e) {\n        yield put(demographicsAction.error(e))\n    }\n});","import get from \"lodash/get\";\nimport {\n    CRUD_GET_LIST_FAILURE,\n    CRUD_GET_ONE_FAILURE,\n    CRUD_CREATE_FAILURE,\n    CRUD_UPDATE_FAILURE,\n} from \"react-admin\";\nimport { put, takeEvery } from \"redux-saga/effects\";\n\nimport { httpErrorAction } from '../actions/httpErrorAction';\n\nconst actions = [\n    CRUD_GET_LIST_FAILURE,\n    CRUD_GET_ONE_FAILURE,\n    CRUD_CREATE_FAILURE,\n    CRUD_UPDATE_FAILURE,\n];\n\nexport default takeEvery(actions, function* (action) {\n    const error = get(action, 'error', null);\n    const errorTrim = error.replace('Error:', '').trim();\n    const errorArray = errorTrim.split('|');\n    const data = {\n        status: get(errorArray, [0], null),\n        message: get(errorArray, [1], null)\n    };\n    yield put(httpErrorAction.save(data));\n});","import { takeEvery, put } from 'redux-saga/effects';\nimport get from \"lodash/get\";\n\nimport { SHOW_MODE_ACTION, showModeAction } from \"../actions/showModeAction\";\n\nexport default takeEvery(SHOW_MODE_ACTION.REQUEST, function*(action) {\n    const mode = get(action, 'data', null);\n    try {\n        yield put(showModeAction.success(mode))\n    } catch(e) {\n        yield put(showModeAction.error(e))\n    }\n});\n","import { takeEvery, put } from 'redux-saga/effects';\nimport get from \"lodash/get\";\n\nimport { SHOW_HEADINGS_ACTION, showHeadingsAction } from \"../actions/showHeadingsAction\";\n\nexport default takeEvery(SHOW_HEADINGS_ACTION.REQUEST, function*(action) {\n    const headingsArray = get(action, 'data', null);\n    try {\n        yield put(showHeadingsAction.success(headingsArray))\n    } catch(e) {\n        yield put(showHeadingsAction.error(e))\n    }\n});\n","import { takeEvery, put } from 'redux-saga/effects';\nimport get from \"lodash/get\";\n\nimport { PATIENTS_COUNT_ACTION, patientsCountAction } from \"../actions/patientsCountAction\";\nimport { domainName, token } from \"../token\";\nimport { httpErrorAction } from '../actions/httpErrorAction';\n\nlet responseInfo = {};\n\nexport default takeEvery(PATIENTS_COUNT_ACTION.REQUEST, function*(action) {\n\n    const patientId = get(action, 'data', null);\n    const url = domainName + '/api/patients/' + patientId + '/counts';\n    let options = {};\n    options.method = \"GET\";\n    if (!options.headers) {\n        options.headers = new Headers({ Accept: 'application/json' });\n    }\n    options.headers = {\n        Authorization: \"Bearer \" + token,\n        'X-Requested-With': \"XMLHttpRequest\",\n    };\n\n    try {\n        const result = yield fetch(url, options)\n            .then(res => {\n                responseInfo.status = get(res, 'status', null);\n                return res.json()\n            })\n            .then(res => {\n                if (responseInfo.status !== 200) {\n                    responseInfo.errorMessage = get(res, 'error', null);\n                    return false;\n                }\n                return res;\n            });\n\n        if (responseInfo.status === 200) {\n            yield put(patientsCountAction.success(result))\n        } else {\n            yield put(httpErrorAction.save({\n                status: responseInfo.status,\n                message: responseInfo.errorMessage\n            }));\n        }\n\n    } catch(e) {\n        yield put(patientsCountAction.error(e))\n    }\n});\n","import get from \"lodash/get\";\nimport { takeEvery, put } from 'redux-saga/es/effects';\n\nimport { token, domainName } from \"../token\";\nimport { EMERGENCY_SUMMARY_ACTION, emergencySummaryAction } from \"../actions/emergencySummaryAction\";\n\nexport default takeEvery(EMERGENCY_SUMMARY_ACTION.REQUEST, function*(action) {\n    const resource = get(action, 'resource', null);\n    const patientId = get(action, 'patientId', null);\n    const url = domainName + '/api/patients/' + patientId + '/' + resource;\n    let options = {};\n    options.method = 'GET';\n    if (!options.headers) {\n        options.headers = new Headers({ Accept: 'application/json' });\n    }\n    options.headers = {\n        Authorization: \"Bearer \" + token,\n        'X-Requested-With': \"XMLHttpRequest\",\n    };\n    try {\n        const result = yield fetch(url, options).then(res => res.json());\n\n        yield put(emergencySummaryAction.success({\n            data: result,\n            resource: resource,\n        }));\n    } catch(e) {\n        yield put(emergencySummaryAction.error(e));\n    }\n});","import get from \"lodash/get\";\nimport { takeEvery, put } from 'redux-saga/effects';\n\nimport { token, domainName } from \"../token\";\nimport { httpErrorAction } from '../actions/httpErrorAction';\n\nlet responseInfo = {};\n\nexport default function createCustomSagas(actionName, actionType, pluginName) {\n    return takeEvery(actionName.REQUEST, function*(action) {\n        let url = domainName + '/api/patients/' + localStorage.getItem('patientId') + '/synopsis/' + pluginName;\n        // if (pluginName === 'top3Things') {\n        //     url = domainName + '/api/patients/' + localStorage.getItem('patientId') + '/synopsis/' + pluginName + '/latest';\n        // }\n        let options = {};\n        options.method = \"GET\";\n        if (!options.headers) {\n            options.headers = new Headers({Accept: 'application/json'});\n        }\n        options.headers = {\n            Authorization: \"Bearer \" + token,\n            'X-Requested-With': \"XMLHttpRequest\",\n        };\n\n        try {\n            const result = yield fetch(url, options)\n                .then(res => {\n                    responseInfo.status = get(res, 'status', null);\n                    return res.json()\n                })\n                .then(res => {\n                    if (responseInfo.status !== 200) {\n                        responseInfo.errorMessage = get(res, 'error', null);\n                        return false;\n                    }\n                    return res;\n                });\n\n            if (responseInfo.status === 200) {\n                yield put(actionType.success(result))\n            } else {\n                yield put(httpErrorAction.save({\n                    status: responseInfo.status,\n                    message: responseInfo.errorMessage\n                }));\n            }\n\n        } catch(e) {\n            yield put(actionType.error(e))\n        }\n    });\n}","import createSynopsisSagas from \"../../core/sagas/createSynopsisSagas\";\nimport {\n    SYNOPSIS_VACCINATIONS_ACTION, synopsisVaccinationsAction,\n    SYNOPSIS_TOP_THREE_THINGS_ACTION, synopsisTopThreeThingsAction,\n} from \"../actions/synopsisActions\";\n\n/**\n * This componenr returns array of version sagas\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @return {array}\n */\nexport default [\n    createSynopsisSagas(SYNOPSIS_VACCINATIONS_ACTION, synopsisVaccinationsAction, 'vaccinations'),\n    createSynopsisSagas(SYNOPSIS_TOP_THREE_THINGS_ACTION, synopsisTopThreeThingsAction, 'top3Things'),\n];\n","import { all } from 'redux-saga/effects';\n\n// CORE SAGAS\nimport currentPatientSagas from \"./currentPatientSagas\";\nimport initializeSagas from \"./initializeSagas\";\nimport demographicsSagas from \"./demographicsSagas\";\nimport httpErrorSagas from \"./httpErrorSagas\";\nimport showModeSagas from \"./showModeSagas\";\nimport showHeadingsSagas from \"./showHeadingsSagas\";\nimport patientsCountSagas from \"./patientsCountSagas\";\nimport emergencySummarySagas from \"../../core/sagas/emergencySummarySagas\";\n\nimport createSynopsisSagas from \"./createSynopsisSagas\";\nimport {\n    SYNOPSIS_ALLERGIES_ACTION, synopsisAllergiesAction,\n    SYNOPSIS_CONTACTS_ACTION, synopsisContactsAction,\n    SYNOPSIS_MEDICATIONS_ACTION, synopsisMedicationsAction,\n    SYNOPSIS_PROBLEMS_ACTION, synopsisProblemsAction\n} from \"../actions/synopsisActions\";\n\n// LINK TO NON-CORE SAGAS\nimport nonCoreSagas from \"../../version/sagas\";\n\nconst coreSagas = [\n    currentPatientSagas,\n    createSynopsisSagas(SYNOPSIS_ALLERGIES_ACTION, synopsisAllergiesAction, 'allergies'),\n    createSynopsisSagas(SYNOPSIS_CONTACTS_ACTION, synopsisContactsAction, 'contacts'),\n    createSynopsisSagas(SYNOPSIS_MEDICATIONS_ACTION, synopsisMedicationsAction, 'medications'),\n    createSynopsisSagas(SYNOPSIS_PROBLEMS_ACTION, synopsisProblemsAction, 'problems'),\n    initializeSagas,\n    demographicsSagas,\n    httpErrorSagas,\n    showModeSagas,\n    showHeadingsSagas,\n    patientsCountSagas,\n    emergencySummarySagas,\n];\n\nconst mergeSagas = coreSagas.concat(nonCoreSagas);\n\nexport default function* rootSaga() {\n    yield all(mergeSagas);\n}","import get from \"lodash/get\";\nimport { CURRENT_PATIENT_ACTION } from \"../actions/currentPatientAction\";\n\nconst initialState = {\n    data: false,\n    loading: false,\n    error: null,\n};\n\nfunction getPatientInfo(response) {\n    const patientFromResponse = get(response, 'patient', null);\n    const id = get(patientFromResponse, ['identifier', [0], 'value'], null);\n    const name = get(patientFromResponse, ['name', [0]], null);\n    const prefix = get(name, ['prefix'], null);\n    const namesArray = get(name, 'given', null);\n    const firstName = namesArray.join(' ');\n    const lastName = get(name, ['family'], null);\n    const addressArray = get(patientFromResponse, 'address', null);\n    const city = get(addressArray, [[0], 'city'], null);\n    const country = get(addressArray, [[0], 'country'], null);\n    const postCode = get(addressArray, [[0], 'postalCode'], null);\n    const line = get(addressArray, [[0], 'line', [0]], null);\n    const addressSecondLine = get(addressArray, [[0], 'line', [1]], null);\n    const district = get(addressArray, [[0], 'district'], null);\n    return {\n        data: {\n            id: id,\n            prefix: prefix,\n            firstName: firstName,\n            lastName: lastName,\n            name: [prefix, firstName, lastName].join(' '),\n            address: line,\n            addressSecondLine: addressSecondLine,\n            city: city,\n            country: country,\n            district: district,\n            postCode: postCode,\n            birthDate: get(patientFromResponse, 'birthDate', null),\n            department: get(patientFromResponse, 'department', null),\n            gender: get(patientFromResponse, 'gender', null),\n            nhsNumber: id,\n            phone: get(patientFromResponse, 'telecom', null),\n        }\n    };\n}\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case CURRENT_PATIENT_ACTION.REQUEST:\n            return {\n                ...state,\n                loading: true,\n            };\n        case CURRENT_PATIENT_ACTION.REQUEST_PHOTO:\n            return {\n                ...state,\n                loadingPhoto: true,\n            };\n        case CURRENT_PATIENT_ACTION.SUCCESS:\n            return {\n                ...state,\n                loading: false,\n                patientInfo: getPatientInfo(get(action, \"data\", null)),\n            };\n        case CURRENT_PATIENT_ACTION.SUCCESS_PHOTO:\n            return {\n                ...state,\n                loadingPhoto: false,\n                patientPhoto: get(action, 'data.results[0].picture.large', null),\n            };\n        case CURRENT_PATIENT_ACTION.FAILURE:\n            return {\n                ...state,\n                loading: false,\n                error: get(action, \"error\", null),\n            };\n        case CURRENT_PATIENT_ACTION.FAILURE_PHOTO:\n            return {\n                ...state,\n                loadingPhoto: false,\n                error: get(action, \"error\", null),\n            };\n        default:\n            return state;\n    }\n}","import get from \"lodash/get\";\n\nimport { SHOW_HEADINGS_ACTION } from \"../actions/showHeadingsAction\";\nimport { getHeadingsLists } from \"../pages/PatientSummary/config\";\n\nconst initialState = {\n    data: getHeadingsLists(),\n    loading: false,\n    error: null,\n};\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case SHOW_HEADINGS_ACTION.REQUEST:\n            return {\n                ...state,\n                loading: true,\n            };\n        case SHOW_HEADINGS_ACTION.SUCCESS:\n            return {\n                ...state,\n                loading: false,\n                data: {...action.data}\n            };\n        case SHOW_HEADINGS_ACTION.FAILURE:\n            return {\n                ...state,\n                loading: false,\n                error: get(action, \"error\", null),\n            };\n        default:\n            return state;\n    }\n}","import get from \"lodash/get\";\n\nconst initialState = {\n    data: null,\n    loading: false,\n    error: null,\n};\n\n/**\n * This function creates custom reducer by action name\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape}  actionName\n * @param {string} data\n */\nexport default function createCustomReducer(actionName, data) {\n    return (state = initialState, action) => {\n        switch (action.type) {\n            case actionName.REQUEST:\n                return {\n                    ...state,\n                    loading: true,\n                };\n            case actionName.SUCCESS:\n                return {\n                    ...state,\n                    loading: false,\n                    data: get(action, data, []),\n                };\n            case actionName.FAILURE:\n                return {\n                    ...state,\n                    loading: false,\n                    error: get(action, \"error\", null),\n                };\n            default:\n                return state;\n        }\n    }\n}","import { HTTP_ERROR_ACTION } from \"../actions/httpErrorAction\";\n\nconst initialState = {\n    data: null,\n    loading: false,\n    error: null,\n};\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case HTTP_ERROR_ACTION.SAVE:\n            return {\n                ...state,\n                loading: false,\n                data: {...action.data}\n            };\n        case HTTP_ERROR_ACTION.REMOVE:\n            return {\n                ...state,\n                loading: false,\n                data: null,\n            };\n        default:\n            return state;\n    }\n}","import get from \"lodash/get\";\nimport { USER_SEARCH_ACTION } from \"../actions/userSearchAction\";\n\nconst initialState = {\n    data: false,\n    loading: false,\n    error: null,\n};\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case USER_SEARCH_ACTION.REQUEST:\n            return {\n                ...state,\n                loading: false,\n                data: action.data,\n            };\n        case USER_SEARCH_ACTION.REQUEST_ID:\n            return {\n                ...state,\n                loading: false,\n                id: action.data,\n            };\n        case USER_SEARCH_ACTION.SEARCH_BY:\n            return  {\n                ...state,\n                loading: false,\n                type: get(action, 'searchType', null),\n                value: get(action, 'value', null),\n            };\n        case USER_SEARCH_ACTION.REMOVE:\n            return {\n                ...state,\n                loading: false,\n                data: null,\n                id: null,\n                type: null,\n                value: null,\n            };\n        default:\n            return state;\n    }\n}","import get from \"lodash/get\";\n\nimport { COLUMNS_TOGGLING_ACTION } from \"../../core/actions/columnsTogglingAction\";\n\nconst initialState = {\n    data: false,\n};\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case COLUMNS_TOGGLING_ACTION.TOGGLE:\n            const resource = action.resource;\n            const columnName = action.columnName;\n            const value = action.value;\n            const currentList = get(state.data, resource, []);\n            if (value) {\n                let index = currentList.indexOf(columnName);\n                currentList.splice(index, 1);\n            } else if (currentList.indexOf(columnName) === -1) {\n                currentList.push(columnName);\n            }\n            return {\n                ...state,\n                data: Object.assign({}, state.data, {\n                    [resource]: currentList,\n                }),\n            };\n\n        case COLUMNS_TOGGLING_ACTION.REMOVE:\n            return {\n                ...state,\n                data: null,\n            };\n\n        default:\n            return state;\n    }\n}","import { createRequestTypes } from \"./functions\";\n\nexport const ADVANCED_SEARCH_ACTION = createRequestTypes('ADVANCED_SEARCH_ACTION', { CREATE: 'CREATE', REMOVE: 'REMOVE' });\n\nexport const advancedSearchAction = {\n    create: data => ({ type: ADVANCED_SEARCH_ACTION.CREATE, data }),\n    remove: data => ({ type: ADVANCED_SEARCH_ACTION.REMOVE, data }),\n};","import { ADVANCED_SEARCH_ACTION } from \"../actions/advancedSearchAction\";\n\nconst initialState = {\n    data: false,\n};\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case ADVANCED_SEARCH_ACTION.CREATE:\n            return {\n                ...state,\n                data: action.data,\n            };\n        case ADVANCED_SEARCH_ACTION.REMOVE:\n            return {\n                ...state,\n                data: null,\n            };\n        default:\n            return state;\n    }\n}","import { createRequestTypes } from \"./functions\";\n\nexport const CLINICAL_QUERY_ACTION = createRequestTypes('CLINICAL_QUERY_ACTION', { CREATE: 'CREATE', REMOVE: 'REMOVE' });\n\nexport const clinicalQueryAction = {\n    create: data => ({ type: CLINICAL_QUERY_ACTION.CREATE, data }),\n    remove: data => ({ type: CLINICAL_QUERY_ACTION.REMOVE, data }),\n};","import { CLINICAL_QUERY_ACTION } from \"../actions/clinicalQueryAction\";\n\nconst initialState = {\n    data: false,\n};\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case CLINICAL_QUERY_ACTION.CREATE:\n            return {\n                ...state,\n                data: action.data,\n            };\n        case CLINICAL_QUERY_ACTION.REMOVE:\n            return {\n                ...state,\n                data: null,\n            };\n        default:\n            return state;\n    }\n}","import get from \"lodash/get\";\n\nimport { PATIENTS_COUNT_ACTION } from \"../actions/patientsCountAction\";\n\nconst initialState = {\n    data: null,\n    loading: false,\n    error: null,\n};\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case PATIENTS_COUNT_ACTION.REQUEST:\n            return {\n                ...state,\n                loading: true,\n            };\n        case PATIENTS_COUNT_ACTION.SUCCESS:\n            return {\n                ...state,\n                loading: false,\n                data: {...action.data}\n            };\n        case PATIENTS_COUNT_ACTION.FAILURE:\n            return {\n                ...state,\n                loading: false,\n                error: get(action, \"error\", null),\n            };\n        default:\n            return state;\n    }\n}","import get from \"lodash/get\";\n\nimport { EMERGENCY_SUMMARY_ACTION } from \"../actions/emergencySummaryAction\";\n\nconst initialState = {\n    data: null,\n    loading: false,\n    error: null,\n};\n\n/**\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} state\n * @param {shape} action\n * @return {shape}\n */\nexport default (state = initialState, action) => {\n    const currentData = get(state, 'data', {});\n    switch (action.type) {\n        case EMERGENCY_SUMMARY_ACTION.REQUEST:\n            return {\n                ...state,\n                loading: true,\n            };\n        case EMERGENCY_SUMMARY_ACTION.SUCCESS:\n            const resource = get(action, 'data.resource', null);\n            const data = get(action, 'data.data', [])\n            return {\n                ...state,\n                loading: false,\n                data: Object.assign({}, currentData, {\n                    [resource]: data\n                }),\n            };\n        case EMERGENCY_SUMMARY_ACTION.FAILURE:\n            return {\n                ...state,\n                loading: false,\n                error: get(action, \"error\", null),\n            };\n        default:\n            return state;\n    }\n}","import { CONTRAST_MODE_ACTION } from \"../actions/contrastModeAction\";\n\nconst initialState = {\n    data: false,\n    loading: false,\n    error: null,\n};\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case CONTRAST_MODE_ACTION.REQUEST:\n            return {\n                ...state,\n                loading: false,\n                data: !state.data,\n            };\n        default:\n            return state;\n    }\n}","import get from \"lodash/get\";\n\nimport { SET_SELECTED_FEEDS_ACTION } from \"../actions/setSelectedFeedsAction\";\n\nconst initialState = {\n    data: [],\n    loading: false,\n    error: null,\n};\n\n/**\n * This component returns reducer for Feeds list action\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} state\n * @param {shape} action\n * @return {shape}\n */\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case SET_SELECTED_FEEDS_ACTION:\n            return {\n                ...state,\n                loading: false,\n                data: get(action, \"data\", []),\n            };\n        default:\n            return state;\n    }\n}","import contrastMode from \"./contrastModeReducer\";\nimport selectedFeedsList from \"./selectedFeedsReducer\";\n\nimport {\n    SYNOPSIS_TOP_THREE_THINGS_ACTION,\n    SYNOPSIS_VACCINATIONS_ACTION\n} from \"../actions/synopsisActions\";\n\nimport createCustomReducer from \"../../core/reducers/createCustomReducer\";\n\n/**\n * This component returns version reducers\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @return {shape}\n */\nexport default {\n    vaccinationsSynopsis: createCustomReducer(SYNOPSIS_VACCINATIONS_ACTION, \"data.synopsis\"),\n    top3ThingsSynopsis: createCustomReducer(SYNOPSIS_TOP_THREE_THINGS_ACTION, \"data.synopsis\"),\n    contrastMode,\n    selectedFeedsList,\n};\n","export const SET_SELECTED_FEEDS_ACTION = 'SET_SELECTED_FEEDS_ACTION';\n\nexport const setSelectedFeedsAction = data => ({ type: SET_SELECTED_FEEDS_ACTION, data });\n","import { combineReducers } from 'redux';\n\nimport currentPatientReducer from \"./currentPatientReducer\";\nimport showHeadings from \"./showHeadingsReducer\";\nimport createCustomReducer from \"./createCustomReducer\";\nimport httpErrorReducer from \"./httpErrorReducer\";\nimport userSearchReducer from \"./userSearchReducer\";\nimport toggleColumnsReducer from \"./toggleColumnsReducer\";\nimport advancedSearchReducer from \"./advancedSearchReducer\";\nimport clinicalQueryReducer from \"./clinicalQueryReducer\";\nimport patientsCountReducer from \"./patientsCountReducer\";\nimport emergencySummaryReducer from \"./emergencySummaryReducer\";\n\nimport {\n    SYNOPSIS_ALLERGIES_ACTION,\n    SYNOPSIS_CONTACTS_ACTION,\n    SYNOPSIS_MEDICATIONS_ACTION,\n    SYNOPSIS_PROBLEMS_ACTION\n} from \"../actions/synopsisActions\";\nimport { INITIALIZE_ACTION } from \"../actions/initializeAction\";\nimport { DEMOGRAPHICS_ACTION } from \"../actions/demographicsAction\";\nimport { SHOW_MODE_ACTION } from \"../actions/showModeAction\";\n\n// LINK TO NON-CORE CUSTOM REDUCERS\nimport nonCoreReducers from \"../../version/reducers\";\n\nconst coreReducers = {\n    allergiesSynopsis: createCustomReducer(SYNOPSIS_ALLERGIES_ACTION, \"data.synopsis\"),\n    contactsSynopsis: createCustomReducer(SYNOPSIS_CONTACTS_ACTION, \"data.synopsis\"),\n    medicationsSynopsis: createCustomReducer(SYNOPSIS_MEDICATIONS_ACTION, \"data.synopsis\"),\n    problemsSynopsis: createCustomReducer(SYNOPSIS_PROBLEMS_ACTION, \"data.synopsis\"),\n    initialize: createCustomReducer(INITIALIZE_ACTION, \"data\"),\n    demographics: createCustomReducer(DEMOGRAPHICS_ACTION, \"data.demographics\"),\n    httpErrors: httpErrorReducer,\n    showMode: createCustomReducer(SHOW_MODE_ACTION, \"data\"),\n    showHeadings,\n    userSearch: userSearchReducer,\n    currentPatient: currentPatientReducer,\n    toggleColumns: toggleColumnsReducer,\n    advancedSearch: advancedSearchReducer,\n    clinicalQuery: clinicalQueryReducer,\n    patientsCount: patientsCountReducer,\n    emergencySummary: emergencySummaryReducer,\n};\n\nconst reducers = Object.assign({}, coreReducers, nonCoreReducers);\n\nexport default combineReducers(reducers);","import React from \"react\";\n\nimport { withStyles } from '@material-ui/core/styles/index';\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faChartBar} from \"@fortawesome/free-solid-svg-icons\";\n\nconst styles = theme => ({\n    titleBlock: {\n        display: \"flex\",\n        alignItems: \"center\",\n        height: 49,\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        backgroundColor: theme.palette.mainColor,\n        paddingLeft: 15,\n    },\n    title: {\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        fontSize: 18,\n        fontWeight: 700,\n    },\n    secondTitle: {\n        paddingTop: 10,\n        paddingLeft: 10,\n        fontSize: 24,\n        fontWeight: 700,\n    },\n    chartIcon: {\n        paddingRight: 5,\n    },\n    description: {\n        padding: 10,\n        fontSize: 16,\n    }\n});\n\nconst BarChartTitle = ({ classes, mainTitle, secondTitle, description, }) => {\n    return (\n        <div className={classes.chartContainer}>\n            <div className={classes.titleBlock}>\n                <Tooltip title=\"Chart\">\n                    <FontAwesomeIcon className={classes.chartIcon} icon={faChartBar} size=\"1.5x\" />\n                </Tooltip>\n                <Typography className={classes.title}>{mainTitle}</Typography>\n            </div>\n            <Typography variant=\"h1\" className={classes.secondTitle}>{secondTitle}</Typography>\n            <Typography className={classes.description}>{description}</Typography>\n        </div>\n    )\n};\n\nexport default withStyles(styles)(BarChartTitle);","import React from \"react\";\nimport { Bar, BarChart, CartesianGrid, Cell, Tooltip, ResponsiveContainer, XAxis, YAxis } from \"recharts\";\n\nimport { withStyles } from '@material-ui/core/styles/index';\nimport Typography from \"@material-ui/core/Typography\";\n\nconst DEFAULT_STEP = 5;\n\nconst styles = theme => ({\n    chartBlock: {\n        width: '95%',\n        height: 350,\n    },\n    bar: {\n        cursor: \"pointer\",\n    },\n    titleBlock: {\n        display: \"flex\",\n        alignItems: \"center\",\n        height: 49,\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        backgroundColor: theme.palette.mainColor,\n        paddingLeft: 15,\n    },\n    title: {\n        color: theme.isOldDesign ? theme.palette.fontColor : theme.palette.paperColor,\n        fontSize: 18,\n        fontWeight: 700,\n    },\n    secondTitle: {\n        fontSize: 16,\n        paddingTop: 10,\n        paddingLeft: 10,\n    },\n    chartIcon: {\n        paddingRight: 5,\n    },\n    description: {\n        padding: 10,\n    },\n    tooltip: {\n        backgroundColor: theme.palette.fontColor,\n        padding: 10,\n        borderRadius: 5,\n        '& p': {\n            color: theme.palette.paperColor,\n        },\n        '& span': {\n            color: theme.palette.paperColor,\n            marginBottom: 10,\n        }\n    },\n    patientsNumber: {\n        display: \"flex\",\n        flexDirection: \"row\",\n    },\n    square: {\n        width: 15,\n        height: 15,\n        marginRight: 5,\n    }\n});\n\nconst CustomTooltip = ({ classes, active, payload, label, barColor, borderColor }) => {\n    if (active) {\n        return (\n            <div className={classes.tooltip}>\n                <Typography variant=\"h3\">{label}</Typography>\n                <div className={classes.patientsNumber}>\n                    <div className={classes.square} style={{ backgroundColor: barColor, border: `1px solid ${borderColor}` }} ></div>\n                    <Typography>Patients: {payload[0].value}</Typography>\n                </div>\n            </div>\n        );\n    }\n    return null;\n};\n\nfunction getTicksArray(data) {\n    let result = [];\n    let maximal = 0;\n    data.map(item => {\n        if (item.RespondentPercentage > maximal) {\n            maximal = item.RespondentPercentage;\n        }\n    });\n    const ticksNumber = Math.ceil(maximal / DEFAULT_STEP) + 1;\n    for (let i = 0; i < ticksNumber; i++) {\n        result.push(i * DEFAULT_STEP);\n    }\n    return result;\n}\n\nconst BarChartTemplate = ({ classes, data, history, onClickAction, searchType, barColor, borderColor }) => {\n    const ticksArray = getTicksArray(data);\n    return (\n        <div className={classes.chartBlock}>\n            <ResponsiveContainer width={'100%'}>\n                <BarChart\n                    data={data}\n                    margin={{ top: 5, right: 0, left: 0, bottom: 25 }} >\n                    <XAxis dataKey=\"Text\" fontFamily=\"sans-serif\" tick={{ dy: 10 }} />\n                    <YAxis tick={{ dx: -10 }} ticks={ticksArray} domain={[0, 'dataMax']} />\n                    <CartesianGrid stroke=\"#ebebeb\" />\n                    <Tooltip\n                        content={<CustomTooltip classes={classes} barColor={barColor} borderColor={borderColor} />}\n                        cursor={false}\n                    />\n                    <Bar\n                        dataKey=\"RespondentPercentage\"\n                        stroke={borderColor}\n                        fillOpacity=\"0.7\"\n                        onClick={(item) => onClickAction(history, searchType, item)}\n                        className={classes.bar}\n                    >\n                        {data.map((entry, index) => (\n                            <Cell fill={barColor} />))\n                        }\n                    </Bar>\n                </BarChart>\n            </ResponsiveContainer>\n        </div>\n    );\n};\n\nexport default withStyles(styles)(BarChartTemplate);\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport { connect } from 'react-redux';\nimport get from \"lodash/get\";\nimport { setSidebarVisibility } from \"react-admin\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nimport dummyPatients from \"../PatientsList/dummyPatients\";\n\nimport BarChartTitle from \"./fragments/BarChartTitle\";\nimport BarChartTemplate from \"./fragments/BarChartTemplate\";\nimport { userSearchAction } from \"../../actions/userSearchAction\";\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        width: '100%',\n        height: '100%',\n        background: theme.patientSummaryPanel.container.background,\n        backgroundSize: \"cover\",\n    },\n    chartsContainer: {\n        width: \"100%\",\n        backgroundColor: theme.palette.paperColor,\n        padding: 5,\n        margin: 0,\n    },\n    chart: {\n        '& .recharts-text.recharts-cartesian-axis-tick-value': {\n            fontFamily: '\"HK Grotesk SemiBold\", Arial, sans-serif',\n            fontSize: 14,\n        },\n    },\n    chartBlock: {\n        border: `1px solid ${theme.palette.borderColor}`,\n    }\n});\n\nclass Charts extends Component {\n\n    componentDidMount() {\n        this.props.setSidebarVisibility(false);\n    }\n\n    /**\n     * This function calculates percentage of patients by department\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @param {array} patients\n     * @return {array}\n     */\n    getDepartmentPercentage(patients) {\n        let EdinburghCount = 0;\n        let SomersetCount = 0;\n        let GlasgowCount = 0;\n        let HamiltonCount = 0;\n        let NorthamptonCount = 0;\n        let totalNumber = 0;\n        for (let item in patients) {\n            totalNumber++;\n            switch(get(patients, '[' + item + '].city', null)) {\n                case \"Edinburgh\":\n                    EdinburghCount++;\n                    break;\n                case \"Somerset\":\n                    SomersetCount++;\n                    break;\n                case \"Glasgow\":\n                    GlasgowCount++;\n                    break;\n                case \"Hamilton\":\n                    HamiltonCount++;\n                    break;\n                case \"Northampton\":\n                    NorthamptonCount++;\n                    break;\n            }\n        }\n        const EdinburghCarePercentage = (totalNumber > 0) ? Math.round(((100 * EdinburghCount) / totalNumber)) : 0;\n        const SomersetPercentage = (totalNumber > 0) ? Math.round(((100 * SomersetCount) / totalNumber)) : 0;\n        const GlasgowPercentage = (totalNumber > 0) ? Math.round(((100 * GlasgowCount) / totalNumber)) : 0;\n        const HamiltonPercentage = (totalNumber > 0) ? Math.round(((100 * HamiltonCount) / totalNumber)) : 0;\n        const NorthamptonPercentage = (totalNumber > 0) ? Math.round(((100 * NorthamptonCount) / totalNumber)) : 0;\n        return {\n            Edinburgh: EdinburghCarePercentage,\n            Somerset: SomersetPercentage,\n            Glasgow: GlasgowPercentage,\n            Hamilton: HamiltonPercentage,\n            Northampton: NorthamptonPercentage\n        };\n    }\n\n    /**\n     * This function calculates percentage of patients by age\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @param {array} patients\n     * @return {array}\n     */\n    getAgePercentage(patients) {\n        let firstCount = 0;\n        let secondCount = 0;\n        let thirdCount = 0;\n        let fourthCount = 0;\n        let totalNumber = 0;\n        const currentDate = new Date().getTime();\n        const endDate = new moment(currentDate);\n        for (let item in patients) {\n            totalNumber++;\n            let birthDate = get(patients, '[' + item + '].dateOfBirth', null);\n            let startDate = new moment(birthDate);\n            let duration = moment.duration(endDate.diff(startDate)).get('year');\n            if (duration >= 19 && duration <= 30) {\n                firstCount++;\n            } else if (duration >= 31 && duration <= 60) {\n                secondCount++;\n            } else if (duration >= 61 && duration <= 80) {\n                thirdCount++;\n            } else if (duration > 80) {\n                fourthCount++;\n            }\n        }\n        const firstPercentage = (totalNumber > 0) ? Math.round(((100 * firstCount) / totalNumber)) : 0;\n        const secondPercentage = (totalNumber > 0) ? Math.round(((100 * secondCount) / totalNumber)) : 0;\n        const thirdPercentage = (totalNumber > 0) ? Math.round(((100 * thirdCount) / totalNumber)) : 0;\n        const fourthPercentage = (totalNumber > 0) ? Math.round(((100 * fourthCount) / totalNumber)) : 0;\n        return {\n            first: firstPercentage,\n            second: secondPercentage,\n            third: thirdPercentage,\n            fourth: fourthPercentage,\n        };\n    }\n\n    /**\n     * This function redirects to patients list when user clicks on Bar\n     *\n     * @author Bogdan Shcherban <bsc@piogroup.net>\n     * @param {shape}  history\n     * @param {string} searchType\n     * @param {shape}  item\n     */\n    redirectTo = (history, searchType, item) => {\n        const valueForSearch = get(item, 'payload.valueForSearch', null);\n        if (valueForSearch) {\n            this.props.setSearchType(searchType, valueForSearch)\n        }\n        let url = \"/patients\";\n        history.push(url);\n    };\n\n    render() {\n        const { classes, userSearch, history } = this.props;\n\n        // const patientsInfo = customDataProvider(GET_LIST, 'patients', {});\n        // const patientsInfo = [];\n        // const patientsData = get(patientsInfo, 'data', []);\n\n        const patientsData = dummyPatients;\n\n        const DepartmentPercentage = this.getDepartmentPercentage(patientsData);\n        const dataGreen = [\n            { Text: \"Edinburgh\", sort: \"Edinburgh\", RespondentPercentage: get(DepartmentPercentage, 'Edinburgh', 0), valueForSearch: \"Edinburgh\" },\n            { Text: \"Somerset\", sort: \"Somerset\", RespondentPercentage: get(DepartmentPercentage, 'Somerset', 0), valueForSearch: \"Somerset\" },\n            { Text: \"Glasgow\", sort: \"Glasgow\", RespondentPercentage: get(DepartmentPercentage, 'Glasgow', 0), valueForSearch: \"Glasgow\" },\n            { Text: \"Hamilton\", sort: \"Hamilton\", RespondentPercentage: get(DepartmentPercentage, 'Hamilton', 0), valueForSearch: \"Hamilton\" },\n            { Text: \"Northampton\", sort: \"Northampton\", RespondentPercentage: get(DepartmentPercentage, 'Northampton', 0), valueForSearch: \"Northampton\" }\n        ];\n\n        const AgePercentage = this.getAgePercentage(patientsData);\n        const dataViolet = [\n            { Text: \"<30\", sort: \"first\", RespondentPercentage: get(AgePercentage, 'first', 0), valueForSearch: [0, 30] },\n            { Text: \"31-60\", sort: \"second\", RespondentPercentage: get(AgePercentage, 'second', 0), valueForSearch: [31, 60] },\n            { Text: \"61-80\", sort: \"third\", RespondentPercentage: get(AgePercentage, 'third', 0), valueForSearch: [61, 80] },\n            { Text: \">80\", sort: \"fourth\", RespondentPercentage: get(AgePercentage, 'fourth', 0), valueForSearch: [81, 100] }\n        ];\n\n        return (\n            <div className={classes.root}>\n                <Grid className={classes.chartsContainer} container spacing={16} >\n                    <Grid className={classes.chart} item xs={12} sm={12} md={6}>\n                        <div className={classes.chartBlock}>\n                            <BarChartTitle\n                                mainTitle=\"Patients By Cities\"\n                                secondTitle=\"Patients By Cities\"\n                                description=\"This is a brief description of patients by cities.\"\n                            />\n                            <BarChartTemplate\n                                data={dataGreen}\n                                onClickAction={this.redirectTo}\n                                history={history}\n                                searchType=\"by_city\"\n                                barColor=\"#c4e4d6\"\n                                borderColor=\"#78cea7\"\n                            />\n                        </div>\n                    </Grid>\n                    <Grid className={classes.chart} item xs={12} sm={12} md={6}>\n                        <div className={classes.chartBlock}>\n                            <BarChartTitle\n                                mainTitle=\"Patients By Age\"\n                                secondTitle=\"Patients By Age\"\n                                description=\"This is a brief description of patients by age.\"\n                            />\n                            <BarChartTemplate\n                                data={dataViolet}\n                                onClickAction={this.redirectTo}\n                                history={history}\n                                searchType=\"by_age\"\n                                barColor=\"#d3b2f4\"\n                                borderColor=\"#832edf\"\n                            />\n                        </div>\n                    </Grid>\n                </Grid>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        userSearch: state.custom.userSearch.data,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setSidebarVisibility(params) {\n            dispatch(setSidebarVisibility(params));\n        },\n        setSearchType(type, value) {\n            dispatch(userSearchAction.searchBy(type, value));\n        },\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Charts));\n","import React from 'react';\nimport { Route } from 'react-router-dom';\n\nimport Charts from './pages/Charts';\nimport PatientSummary from './pages/PatientSummary';\nimport nonCoreRoutes from \"../version/routes\";\n\nconst coreRoutes = [\n    <Route exact path=\"/charts\" component={Charts} />,\n    <Route exact path=\"/summary\" component={PatientSummary} />,\n];\n\nexport default coreRoutes.concat(nonCoreRoutes);","export default [];","import React from \"react\";\nimport get from \"lodash/get\";\nimport { MenuItemLink } from 'react-admin';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircle } from '@fortawesome/free-solid-svg-icons';\nimport Typography from \"@material-ui/core/Typography\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\n\nimport { themeCommonElements } from \"../../../version/config/theme.config\";\n\nconst styles = theme => ({\n    menuBlock: {\n        border: `1px solid ${theme.palette.borderColor}`,\n    },\n    labelWithChevron: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        textAlign: \"justify\",\n        width: \"100%\",\n        '&:hover p': {\n            color: `${theme.palette.paperColor} !important`,\n        },\n        '&:hover svg': {\n            color: `${theme.palette.paperColor} !important`,\n        },\n    },\n    item: {\n        color: `${theme.palette.menuItemsColor} !important`,\n        fontSize: 14,\n        fontWeight: 600,\n    },\n    itemSelected: {\n        color: `${theme.palette.paperColor} !important`,\n        fontSize: 14,\n        fontWeight: 600,\n    }\n});\n\nconst LabelWithChevron = ({ classes, isSelected, label }) => {\n    return (\n        <div className={classes.labelWithChevron}>\n            <Typography className={isSelected ? classes.itemSelected : classes.item}>{label}</Typography>\n            <ChevronRight />\n        </div>\n    );\n};\n\nconst MenuItems = ({ classes, menuItems, currentList, onMenuClick }) => {\n    const menuHasChevrons = get(themeCommonElements, 'menuHasChevrons', false);\n    return (\n        <div className={classes.menuBlock} role=\"menubar\">\n            {menuItems.map((item, key) => {\n                const isSelected = (currentList === item.url);\n                return (\n                    <MenuItemLink\n                        id={item.id}\n                        key={key}\n                        className={isSelected ? classes.menuItemSelected : classes.menuItem}\n                        to={item.url}\n                        primaryText={menuHasChevrons ? <LabelWithChevron isSelected={isSelected} classes={classes} label={item.label} /> : item.label}\n                        leftIcon={(currentList === item.url) ? <FontAwesomeIcon icon={faCircle} size=\"xs\" />  : null}\n                        onClick={onMenuClick}\n                        selected={currentList === item.url}\n                        aria-label={item.label}\n                        role=\"menuitem\"\n                    />\n                )}\n            )}\n        </div>\n    )\n};\n\nexport default withStyles(styles)(MenuItems);\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport { setSidebarVisibility } from 'react-admin';\n\nimport MenuItems from \"./MenuItems\";\n\nclass MobileMenu extends Component {\n\n    onMobileMenuClick = () => {\n        this.props.setSidebarVisibility(true);\n    };\n\n    render() {\n        const { classes, menuItems, currentList } = this.props;\n        return (\n            <div className={classes.mobileSidebar}>\n                <MenuItems classes={classes} menuItems={menuItems} currentList={currentList} onMenuClick={() => this.onMobileMenuClick()} />\n            </div>\n        );\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setSidebarVisibility(params) {\n            dispatch(setSidebarVisibility(params));\n        },\n    }\n};\n\nexport default connect(null, mapDispatchToProps)(MobileMenu);","import get from \"lodash/get\";\n\nimport { themeShortMenu, themeFullMenu } from \"../../../version/config/theme.config\";\n\nconst defaultShortMenu = [\n    { id: 'menu-home', url: '/', label: 'Charts' },\n    { id: 'menu-patients', url: '/patients', label: 'Patients' }\n];\n\nconst defaultFullMenu = [\n    { id: 'menu-summary', url: '/summary', label: 'Patient Summary' },\n    { id: 'menu-problems', url: '/problems', label: 'Problems / Issues' },\n    { id: 'menu-medications', url: '/medications', label: 'Medications' },\n    { id: 'menu-vaccinations', url: '/vaccinations', label: 'Vaccinations' },\n    { id: 'menu-allergies', url: '/allergies', label: 'Allergies' },\n    { id: 'menu-contacts', url: '/contacts', label: 'Contacts' },\n    { id: 'menu-top3Things', url: '/top3Things', label: 'TopThreeThings' },\n];\n\nfunction isResourcePresentedInMenu(currentResource, menuItemsArray) {\n    const filterArray = menuItemsArray.filter(item => item.url === ('/' + currentResource));\n    return filterArray.length > 0;\n}\n\nexport function getMenuItems(currentPathname) {\n    const pathArray = currentPathname.split('/');\n    const currentResource = get(pathArray, [1], null);\n    if (localStorage.getItem('role') === 'PHR') {\n        return themeFullMenu;\n    }\n    if (isResourcePresentedInMenu(currentResource, themeShortMenu) || currentPathname === \"/\") {\n        return themeShortMenu;\n    }\n    if (isResourcePresentedInMenu(currentResource, themeFullMenu)) {\n        return themeFullMenu;\n    }\n    if (isResourcePresentedInMenu(currentResource, defaultFullMenu)) {\n        return defaultFullMenu;\n    }\n    return defaultShortMenu;\n}\n\nexport function isSinglePatientView(currentPathname) {\n    const pathArray = currentPathname.split('/');\n    const currentResource = get(pathArray, [1], null);\n    return isResourcePresentedInMenu(currentResource, themeFullMenu) || isResourcePresentedInMenu(currentResource, defaultFullMenu);\n}\n","import React from 'react';\nimport get from \"lodash/get\";\n\nimport { withRouter } from 'react-router-dom';\nimport { Sidebar, getResources, Responsive } from 'react-admin';\nimport { connect } from 'react-redux';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport MobileMenu from \"./MobileMenu\";\nimport MenuItems from \"./MenuItems\";\nimport { getMenuItems, isSinglePatientView } from \"./getMenuType\";\n\nconst styles = theme => ({\n    sidebarBlock: {\n        maxWidth: 240,\n        backgroundColor: \"#fff\",\n        '& div': {\n            marginTop: 0,\n        },\n    },\n    mobileSidebar: {\n        width: \"100%\",\n        height: \"100%\",\n        position: \"absolute\",\n        background: 'rgba(0, 0, 0, 0.5)',\n        zIndex: 999999999999,\n    },\n    menuBlock: {\n        border: `1px solid ${theme.palette.borderColor}`,\n        maxWidth: 240,\n        height: '100%',\n        backgroundColor: theme.palette.paperColor,\n    },\n    menuItem: {\n        color: `${theme.palette.menuItemsColor} !important`,\n        borderBottom: `1px solid ${theme.palette.borderColor}`,\n        '&:hover': {\n            backgroundColor: theme.palette.secondaryMainColor,\n            color: \"#fff !important\",\n        },\n        '&:hover div p': {\n            backgroundColor: theme.palette.secondaryMainColor,\n            color: \"#fff !important\",\n        },\n    },\n    menuItemSelected: {\n        backgroundColor: theme.palette.secondaryMainColor + '! important',\n        color: \"#fff !important\",\n        borderBottom: `1px solid ${theme.palette.borderColor}`,\n    },\n});\n\n/**\n * This component returns custom menu\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nconst CustomSidebar = ({ classes, isSidebarOpen, onMenuClick, location }) => {\n    const currentPathname = get(location, 'pathname', null);\n    const pathNameArray = currentPathname.split('/');\n    const currentList = '/' + pathNameArray[1];\n    const menuItems = getMenuItems(currentPathname);\n    const isSPV = isSinglePatientView(currentPathname);\n    if (isSPV) {\n        return (\n            <Responsive\n                small={\n                    isSidebarOpen ? null : <MobileMenu\n                        classes={classes}\n                        menuItems={menuItems}\n                        currentList={currentList}\n                        onMenuClick={onMenuClick}\n                    />\n                }\n                medium={\n                    isSidebarOpen ?\n                        <Sidebar className={classes.sidebarBlock}>\n                            <MenuItems classes={classes} menuItems={menuItems} currentList={currentList} onMenuClick={onMenuClick} />\n                        </Sidebar>\n                        : null\n                }\n            >\n            </Responsive>\n        );\n    }\n\n    return (\n        <Responsive\n            small={\n                isSidebarOpen ? <MobileMenu\n                    classes={classes}\n                    menuItems={menuItems}\n                    currentList={currentList}\n                    onMenuClick={onMenuClick}\n                />\n                : null\n            }\n            medium={\n                isSidebarOpen ?\n                    <Sidebar id=\"sidebarMenu\" className={classes.sidebarBlock}>\n                        <MenuItems classes={classes} menuItems={menuItems} currentList={currentList} onMenuClick={onMenuClick} />\n                    </Sidebar>\n                    : null\n            }\n        >\n        </Responsive>\n    );\n};\n\nconst mapStateToProps = state => ({\n    resources: getResources(state),\n    isSidebarOpen: state.admin.ui.sidebarOpen,\n});\n\nexport default withRouter(connect(mapStateToProps, null)(withStyles(styles)(CustomSidebar)));","import React, { Component } from \"react\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport BackIcon from \"@material-ui/icons/KeyboardBackspace\";\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport logo from \"../../../images/pulsetile-core-logo.png\";\n\nconst styles = {\n    whitePart: {\n        backgroundColor: \"white\",\n    },\n    backButton: {\n        color: \"#0D672F\",\n    },\n    userMenuButton: {\n        color: \"#0D672F\",\n    },\n};\n\n/**\n * This component returns top part of Showcase TopBar\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @constructor\n */\nclass TopPart extends Component {\n\n    state = {\n        anchorEl: null,\n    };\n\n    handleMenu = event => {\n        this.setState({ anchorEl: event.currentTarget });\n    };\n\n    handleClose = () => {\n        this.setState({ anchorEl: null });\n    };\n\n    render() {\n        const { classes, history, logout } = this.props;\n        const { anchorEl } = this.state;\n        const isTopbarMenuOpen = Boolean(anchorEl);\n        return (\n            <Toolbar className={classes.whitePart}>\n                <Tooltip title=\"Back\">\n                    <IconButton\n                        className={classes.backButton}\n                        onClick={() => history.goBack()}\n                        color=\"inherit\" >\n                        <BackIcon />\n                    </IconButton>\n                </Tooltip>\n                <CardMedia\n                    component=\"img\"\n                    alt=\"Pulse Tile\"\n                    className={classes.logo}\n                    height=\"38px\"\n                    image={logo}\n                    title=\"Pulse Tile\"\n                />\n                <React.Fragment>\n                    <Tooltip title=\"User panel\">\n                        <IconButton\n                            className={classes.userNemuButton}\n                            aria-owns={isTopbarMenuOpen ? 'menu-appbar' : undefined}\n                            aria-haspopup=\"true\"\n                            onClick={this.handleMenu}\n                            color=\"inherit\" >\n                            <AccountCircle />\n                        </IconButton>\n                    </Tooltip>\n                    <Menu\n                        id=\"menu-appbar\"\n                        anchorEl={anchorEl}\n                        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n                        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n                        open={isTopbarMenuOpen}\n                        onClose={this.handleClose} >\n                        {logout}\n                    </Menu>\n                </React.Fragment>\n            </Toolbar>\n        );\n    }\n}\n\nexport default withStyles(styles)(TopPart);\n","import React from \"react\";\n\nimport Typography from '@material-ui/core/Typography';\n\nconst titlesArray = {\n    charts: \"System Dashboard\",\n    patients: \"Patients Lists\",\n};\n\n/**\n * This component returns page title (for Charts and Patients pages)\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @param {shape} classes\n * @param {shape} location\n */\nconst PageTitle = ({ classes, location }) => {\n    const pathName = location.pathname;\n    const title = titlesArray[pathName.replace('/', '')];\n    return (\n        <Typography className={classes.title}>\n            {title ? title : \"System Dashboard\"}\n        </Typography>\n    );\n};\n\nexport default PageTitle;","import React from \"react\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Menu from '@material-ui/core/Menu';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport PageTitle from \"./PageTitle\";\n\nconst styles = {\n    greenPart: {\n        backgroundColor: \"#0D672F\",\n    },\n    logo: {\n        width: \"auto\",\n    },\n    menuButton: {\n        marginRight: 20,\n    },\n    title: {\n        flexGrow: 1,\n        color: \"white\"\n    },\n};\n\n\n/**\n * This component returns low part of Showcase TopBar\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @constructor\n */\nconst LowPart = ({ classes, setSidebarVisibility, isSidebarOpen, isMenuVisible, location, patientInfo }) => {\n    return (\n        <Toolbar className={classes.greenPart}>\n            { isMenuVisible &&\n            <Tooltip title=\"Menu\">\n                <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\">\n                    <MenuIcon onClick={() => setSidebarVisibility(!isSidebarOpen)} />\n                </IconButton>\n            </Tooltip> }\n            <PageTitle location={location} classes={classes} patientInfo={patientInfo} />\n        </Toolbar>\n    );\n}\n\nexport default withStyles(styles)(LowPart);\n","import React, { Component } from 'react';\nimport get from \"lodash/get\";\nimport { setSidebarVisibility } from 'react-admin';\nimport { connect } from 'react-redux';\n\nimport AppBar from '@material-ui/core/AppBar';\n\nimport TopPart from \"./fragments/TopPart\";\nimport LowPart from \"./fragments/LowPart\";\n\nimport { themeCommonElements } from \"../../../version/config/theme.config\";\n\n/**\n * This is common component for custom core TopBar\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nclass CustomTopbar extends Component {\n\n    render() {\n        const ThemeTopBar = get(themeCommonElements, 'topbar', false);\n        if (ThemeTopBar) {\n            return (\n                <ThemeTopBar {...this.props} />\n            );\n        }\n        return (\n            <AppBar position=\"static\">\n                <TopPart {...this.props} />\n                <LowPart {...this.props} />\n            </AppBar>\n        );\n    }\n};\n\nconst mapStateToProps = state => {\n    return {\n        isLoading: get(state, 'admin.loading', false),\n        location: get(state, 'router.location', null),\n        isSidebarOpen: get(state, 'admin.ui.sidebarOpen', true),\n        patientInfo: get(state, 'custom.currentPatient.data', null),\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setSidebarVisibility(params) {\n            dispatch(setSidebarVisibility(params));\n        },\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CustomTopbar);","import React from \"react\";\nimport { Link } from 'react-router-dom';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport CardMedia from \"@material-ui/core/CardMedia\";\n\nimport footerLogo from \"../../images/ripple-foundation-logo-footer.png\";\n\nconst styles = theme => ({\n    footerBlock: {\n        [theme.breakpoints.only('xs')]: {\n            display: 'none',\n        },\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        flex: \"0 0 auto\",\n        borderTop: `1px solid ${theme.palette.borderColor}`,\n        height: 54,\n        boxSizing: \"border-box\",\n        color: \"#5c5c5c\",\n        backgroundColor: \"#fff\",\n        paddingTop: 12,\n        paddingBottom: 13,\n        paddingLeft: 14,\n        paddingRight: 14,\n    },\n    copyright: {\n        fontSize: 12,\n    },\n    supportedBy: {\n        marginRight: 10,\n        fontSize: 12,\n    },\n    footerLogo: {\n        width: \"auto\",\n        maxWidth: \"100%\",\n    },\n    emptyBlock: {\n        flexGrow: 1,\n    },\n});\n\n/**\n * This component returns custom default footer\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n */\nconst DefaultFooter = ({ classes }) => {\n    return (\n        <footer className={classes.footerBlock}>\n            <Typography className={classes.copyright}>Transforming Usability</Typography>\n            <div className={classes.emptyBlock}></div>\n            <React.Fragment>\n                <Typography className={classes.supportedBy}>Supported by</Typography>\n                <Link to=\"/\">\n                    <CardMedia\n                        className={classes.footerLogo}\n                        component=\"img\"\n                        alt=\"Pulse Tile\"\n                        height=\"29px\"\n                        image={footerLogo}\n                        title=\"Pulse Tile\"\n                    />\n                </Link>\n            </React.Fragment>\n        </footer>\n    );\n};\n\nexport default withStyles(styles)(DefaultFooter);\n","import React, { Component } from \"react\"\nimport get from \"lodash/get\";\nimport { connect } from 'react-redux';\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Dialog from '@material-ui/core/Dialog';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\n\nimport { httpErrorAction } from '../../actions/httpErrorAction';\nimport CustomLogoutButton from \"../Buttons/CustomLogoutButton\";\n\nconst styles = theme => ({\n    dialogBlock: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\",\n        [theme.breakpoints.only('xs')]: {\n            paddingTop: 0,\n            paddingLeft: 20,\n            paddingRight: 20,\n        },\n        [theme.breakpoints.up('sm')]: {\n            minHeight: 300,\n            minWidth: 500,\n            marginBottom: 10,\n        },\n    },\n    titleBlock: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        height: 48,\n        paddingLeft: 20,\n        backgroundColor: theme.palette.secondaryMainColor,\n        color: theme.palette.paperColor,\n        fontSize: 18,\n        fontWeight: 800,\n    },\n    description: {\n        padding: 20,\n        fontSize: 15,\n        textAlign: \"center\",\n    },\n    toolbar: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-end\",\n        marginRight: 15,\n    },\n    reloadButton: {\n        display: \"block\",\n        width: 140,\n        height: 40,\n        margin: \"8px !important\",\n        color: \"white\",\n        backgroundColor: theme.palette.dangerColor,\n        borderRadius: theme.isRectangleButtons ? 0 : 25,\n        fontSize: 16,\n        fontWeight: 800,\n        \"&:hover\": {\n            color: theme.palette.dangerColor,\n            backgroundColor: \"white\",\n        },\n    }\n});\n\nclass HandleErrorModal extends Component {\n\n    state = {\n        isErrorModalOpen: false,\n    };\n\n    isSessionExpired = (status, message) => {\n        return (Number(status) === 400 && message.includes('JWT')) || Number(status) === 403;\n    };\n\n    getErrorDescription = (status, errorMessage, isJwtOld) => {\n        let result = 'Something is wrong';\n        if (Number(status) === 777) {\n            result = errorMessage;\n        } else if (Number(status) === 404) {\n            result = 'API is currently unavailable';\n        } else if (Number(status) > 499) {\n            result = 'Something is wrong with the server. Please try again later.';\n        } else if (isJwtOld) {\n            result = 'Your session has expired. Click the button to log in again.';\n        }\n        return result;\n    };\n\n    closeModal = () => {\n        this.setState(\n            { isErrorModalOpen: false },\n            () => this.props.removeErrorNotification()\n        );\n    };\n\n    render() {\n        const { classes, status, message, httpErrors, ...rest } = this.props;\n        const { isErrorModalOpen } = this.state;\n\n        const errorStatus = get(httpErrors, 'status', null);\n        const errorMessage = get(httpErrors, 'message', null);\n\n        const isOpen = isErrorModalOpen || (errorStatus && errorMessage);\n\n        const isJwtOld = this.isSessionExpired(errorStatus, errorMessage);\n        const errorDescription = this.getErrorDescription(errorStatus, errorMessage, isJwtOld);\n        return (\n            <React.Fragment>\n                <Dialog open={isOpen} {...rest}>\n                    <div className={classes.dialogBlock} >\n                        <Typography className={classes.titleBlock}>\n                            Connection Error\n                        </Typography>\n                        <Typography className={classes.description}>{errorDescription}</Typography>\n                        <div className={classes.toolbar}>\n                            <Button aria-label=\"Close\" onClick={() => this.closeModal()}>Close</Button>\n                            { isJwtOld\n                                ? <CustomLogoutButton title=\"Login again\" hideIcon={true} />\n                                : <Button aria-label=\"Reload page\" className={classes.reloadButton} onClick={() => window.location.reload()}>Reload page</Button>\n                            }\n                        </div>\n                    </div>\n                </Dialog>\n            </React.Fragment>\n        );\n    }\n\n};\n\nconst mapStateToProps = state => {\n    return {\n        httpErrors: state.custom.httpErrors.data\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    removeErrorNotification() {\n        dispatch(httpErrorAction.remove());\n    }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(withMobileDialog({breakpoint: 'xs'})(HandleErrorModal)));\n","import React from \"react\";\nimport get from \"lodash/get\";\n\nimport DefaultFooter from \"./DefaultFooter\";\nimport HandleErrorModal from \"../HandleErrorModal\";\nimport { themeCommonElements } from \"../../../version/config/theme.config\";\n\nconst Footer = () => {\n    const ThemeFooter = get(themeCommonElements, 'footer', false);\n    const isFooterAbsent = get(themeCommonElements, 'isFooterAbsent', false);\n    return (\n        <React.Fragment>\n            <HandleErrorModal />\n            {\n                isFooterAbsent ? null :\n                    (ThemeFooter ? <ThemeFooter /> : <DefaultFooter />)\n            }\n        </React.Fragment>\n    );\n};\n\nexport default Footer;\n","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport { connect } from 'react-redux';\nimport { Layout } from 'react-admin';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport CustomSidebar from \"./Sidebar\";\nimport CustomTopBar from \"./Topbar\";\nimport CustomFooter from \"./Footer\";\n\nimport getCurrentTheme from \"../config/styles\";\n\nconst styles = {\n    root: {\n        flexDirection: 'column',\n        zIndex: 1,\n        minHeight: '101vh',\n        position: 'relative',\n        '& > div': {\n            minHeight: '101vh',\n        },\n        '& main > div': {\n            padding: 0,\n        },\n\n    },\n};\n\n/**\n * This component returns custom layout\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @constructor\n */\nconst CustomLayout = ({ classes, ...rest }) => {\n    return (\n        <Layout\n            {...rest}\n            className={classes.root}\n            appBar={CustomTopBar}\n            sidebar={CustomSidebar}\n            notification={CustomFooter}\n        />\n    );\n};\n\nconst mapStateToProps = state => {\n    const isContrastMode = get(state, 'custom.contrastMode.data', false);\n    return {\n        theme: getCurrentTheme(isContrastMode),\n    }\n};\n\nexport default connect(mapStateToProps, null)(withStyles(styles)(CustomLayout));","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport { initializeAction } from \"../actions/initializeAction\";\nimport LoadingSlider from \"../common/LoadingSlider\";\nimport { token } from \"../token\";\n\nclass InitializePage extends Component {\n\n    componentDidMount() {\n        if (!token) {\n            this.props.initializeAction();\n        }\n    }\n\n    render() {\n        return (\n            <LoadingSlider />\n        );\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        initializeAction() {\n            dispatch(initializeAction.request());\n        }\n    }\n};\n\nexport default connect(null, mapDispatchToProps)(InitializePage);\n","import tableHeaders from \"./tableHeaders\";\n\nexport default {\n    en: {\n        tableHeaders: tableHeaders,\n    }\n}\n","import nonCoreTableHeaders from \"../../version/config/tableHeaders\";\n\n/**\n * This component returns titles and descriptions for table headers\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @return {shape}\n */\nconst coreTableHeaders = {\n    allergies: {\n        title: \"Allergies\",\n        description: \"Those things that your body reacts against , that you have an allergy to\",\n    },\n    contacts: {\n        title: \"Contacts\",\n        description: \"\",\n    },\n    medications: {\n        title: \"Medications\",\n        description: \"The medical tablets and other medications that you take regularly for your health care\",\n    },\n    problems: {\n        title: \"Problems / Issues\",\n        description: \"The key problems that affect your health, some with clear diagnoses from your doctor\",\n    },\n};\n\nexport default Object.assign({}, coreTableHeaders, nonCoreTableHeaders);\n","/**\n * This component returns titles and descriptions for table headers\n * (for non-core plugins)\n *\n * @author Bogdan Shcherban <bsc@piogroup.net>\n * @return {shape}\n */\nexport default {\n    // vaccinations: {\n    //     title: \"Vaccinations\",\n    //     description: \"A record of the immunisations/vaccines you have had to help you avoid ill health\",\n    // },\n    top3Things: {\n        title: \"Top Three Things\",\n        description: \"A place to record the top 3 issues that concern you today\",\n    }\n};","import React, { Component } from \"react\";\nimport get from \"lodash/get\";\nimport { Admin, Resource } from \"react-admin\";\n\nimport customDataProvider from \"./dataProviders/dataProvider\";\nimport authProvider from \"./dataProviders/authProvider\";\n\nimport corePlugins from \"./config/corePlugins\";\nimport nonCorePlugins from \"../version/config/nonCorePlugins\";\n\nimport customSagas from \"./sagas\";\nimport customReducers from \"./reducers\";\nimport customRoutes from \"./routes\";\n\nimport Charts from \"./pages/Charts\";\nimport Layout from \"./common/CustomLayout\";\nimport InitializePage from \"./pages/InitializePage\";\nimport PatientSummaryPage from \"./pages/PatientSummary\";\nimport { themeCommonElements } from \"../version/config/theme.config\";\nimport translations from \"./translations\";\n\nconst plugins = corePlugins.concat(nonCorePlugins);\nconst Homepage = get(themeCommonElements, 'homePage', Charts);\nconst i18nProvider = locale => translations[locale];\n\nconst App = () => {\n    const isPhrUser = localStorage.getItem('role') === 'PHR';\n    return (\n        <Admin\n            authProvider={authProvider}\n            customSagas={[customSagas]}\n            customReducers={{custom: customReducers}}\n            customRoutes={customRoutes}\n            dataProvider={customDataProvider}\n            dashboard={isPhrUser ? PatientSummaryPage : Homepage}\n            appLayout={Layout}\n            loginPage={InitializePage}\n            locale=\"en\"\n            i18nProvider={i18nProvider}\n        >\n            {\n                plugins.map(item => {\n                    return (\n                        <Resource\n                            name={item.name}\n                            options={{ label: item.label }}\n                            list={item.list}\n                        />\n                    );\n                })\n            }\n        </Admin>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./core/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAmCAYAAAAmy2KXAAAAhnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjaVY7BCcVACETvVpESXHXHtZwQEkgHv/yvbMKSd9BhkId0/u6LtqKxkHUfCIATCwvZMwyeKHMTbrVzTp6tLZOsmlRmQAxnW4f29C9dMXC5uaPjwCFpl1NFJWeJysr1RixJ4P3o2wu+cvoDQaksIv19DOsAAAoEaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iMTUwIgogICBleGlmOlBpeGVsWURpbWVuc2lvbj0iMzgiCiAgIHRpZmY6SW1hZ2VXaWR0aD0iMTUwIgogICB0aWZmOkltYWdlSGVpZ2h0PSIzOCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIvPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg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\"","module.exports = __webpack_public_path__ + \"static/media/Artboard.13bf9be2.png\";","module.exports = __webpack_public_path__ + \"static/media/blue-ring-01.b48d2e98.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOIAAABhCAIAAABEVur2AAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAACxMAAAsTAQCanBgAAAapaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wOS0wNFQwNTo1NzowNy0wNzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDktMDRUMjM6NTU6MTMtMDc6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDktMDRUMjM6NTU6MTMtMDc6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmNmNzEzZGU4LTQ5NWUtNDk4Ni05ZmFiLTNhNmExNzkwNDg5ZSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjFmNzcxY2MzLWM3ZmMtNDE0Ny1hMTcwLWU2ZTBiYTliNGQ0MSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjA4MzI0ZWZhLWY5NjUtNDUzOC1iZWVmLWZjMmM2ZGNmMjI3OSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDgzMjRlZmEtZjk2NS00NTM4LWJlZWYtZmMyYzZkY2YyMjc5IiBzdEV2dDp3aGVuPSIyMDE4LTA5LTA0VDA1OjU3OjA3LTA3OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjIzZDk0NTktNDAzMi00MjZiLTliMjUtYmE3Y2ViNDgzNDVjIiBzdEV2dDp3aGVuPSIyMDE4LTA5LTA0VDIzOjU1OjEzLTA3OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAAAdCAYAAAD8UKGzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkZBOUMzMUE3RTI3ODExRTc5MTFCRTNCNEM3RERCQzk0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkZBOUMzMUE4RTI3ODExRTc5MTFCRTNCNEM3RERCQzk0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RkE5QzMxQTVFMjc4MTFFNzkxMUJFM0I0QzdEREJDOTQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RkE5QzMxQTZFMjc4MTFFNzkxMUJFM0I0QzdEREJDOTQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7z2jCFAAAEvElEQVR42uxZXWxURRS+5a9EixJbgyKNMfLTAClW6EI0IRBW/AtNhEfMak0ThBDhgZ8QEhIJgYTAA08QAzHuI75IgFJ01UR56N5Ftm0AIRVCA9WGn4IsBQpo+c7ec+Fyd87M3GV9ck/y3buduXNm5ptzzpyZVjiJ1GjHcV5yyuLLgxF4zAF+LnPxSHqGlTkolBGG+l+ArFA3BvhM0/YE8KuifDkwCmgFuhX1S4EaQecB4IKi/BNgbKjsBvA9kOZ++oEBgAzheeBF4BXgDeAd4GW/YQViyjyN+7zvJONtyppEqgLP3qCygskn43tCbcbh2cd/zUB9V6ieBvw3UCXonIQ2f4TaVOKZA0b65g9sAZL49p6VaXj9XgTG27iPK9Yk40N4Hta0/U1RFuP3beCUor5OQ8j1AkJ8ch8TchSox3d7rQnxpIEJyYuOlG4o7jcok0ihAXUoyufwOwvd/yjqZ2n6ygjljfwmkhdD780iwsgS25jiWij7ARgEKkPlXRjcfc0E0oK+2Zq+jgvlvvWtRZ+3Fa5B8SsOTOFYQnIVOAu0o00uT6YlKe1GSpLxAXRK8eg9o+t4MShmWPWZRSwS6bzCrhPus4rHMlloex/f/MSEOTbuk7Y0vUOWqxpcqYxiAiPZt+0tJZEaw3o7sED/Ktq8rSHE4Vj0brhQImVQGRMSqZglKa7GdfoxgXOK+nreqlXyJ9r0CjrJAm8J7bLsKpFkmKhMHRO2KlyItsCTgZK7wGlNkDUFzGKCbLXg3pfZ+r7icT1V8pZWWAmdjxbgXYfOziisZTr/7kT9A01AzAgToJxmT8RFnfUoQCdS1dBxTaH3Ep7LUL8B72ZgFVBbjKWkNUFwkcGFXAWhlZw5RolVNuLvVqR/p2FTILelbyYCq4E7UUlxNaQ0CTvVNU2QbQhY5fGS0OFZbu0TqX4i9TXwnIGce8Au/JrPab8VKVeFQOib6lvouCbUESViRzSZrL+iF/FtX4msRJXofQqcx/g2FoyxkByy2PW2McU15BBE5IfAN6H6g8BHwBkNKa6w6ivxXCP0ux8TWKeJUWGp5rPPJuj9Fu8daN8hfLsX2A48Y7KUdsFUxwdKVC7knUjV6XujwXXIlF8V0GPIZCUZxSfuLMa/XbCWwXz2beE+rsV2uZCDZ7CDG8pgR7uCF9xMWWmx27GNrMU4pgl1A6UipYpXN8x8q2bCQ0ImS1Y4QUzDaYsvbPM6ni9EjEFDGnfTknIWE7tueSZpshxMLKA7F3HFO9nEpTZ0Gt/HGbhOdkPPaeGYMNUUaNMRDmqUr6yIkEtk/gPX+RGTbcHkvsDvuXxUqOVbwRxfHB3FN52Cno9VRwszKYkUXdmNUyicgLoGdJi1tJR0CdN7X+d37LZ0ZdDGsM1zyGU32+QpbsTjfJOh44kBny0mYKqy4+F4vskx4mCRid9rfNVQY8pT7iqDmt68iZQvNfWNTxEwbwk5zzTOK34PZNG2ZNBl9ef53chzMaUEL67/4kQmLM3sq5Ks54Cnkg8c76acTqvbhAm2CG0vCecZOjIk+De5zTG2wq58NutdFdDlN6X7zwJEfF3+MOs48xS3hGHpMd3m/x+l/M8wKaac5DNLWdglHwowALoDUEji6APKAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/randomPatient.eef539fe.png\";","module.exports = __webpack_public_path__ + \"static/media/pulsetile-core-logo.93d3c4ce.png\";","module.exports = __webpack_public_path__ + \"static/media/ripple-foundation-logo-footer.f15dbaae.png\";"],"sourceRoot":""}