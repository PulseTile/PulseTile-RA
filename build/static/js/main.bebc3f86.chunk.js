(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1176:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(74),l=a.n(o),i=a(2),s=a.n(i),c=a(1205),u=a(1204),d=a(41),m=a(1183),p=a(44),h=a.n(p),g=a(106),b=a.n(g),f=Object.assign({},{allergies:["cause","reaction"],contacts:["name","relationship"],problems:["problem"],medications:["name"]},{vaccinations:["vaccinationName"],top3Things:[]});var E=function(){var e=null;return decodeURIComponent(document.cookie).split(";").forEach(function(t){var a=t.split("=");"JSESSIONID"===a[0].trim()&&(e=a[1])}),e}(),y=window&&window.config?window.config.domainName:null,C=[{address:"6948 Et St., Halesowen, Worcestershire, VX27 5DV",dateOfBirth:-806976e6,department:"Neighbourhood",city:"Hamilton",gender:"Male",gpAddress:"Hamilton Practice, 5544 Ante Street, Hamilton, Lanarkshire, N06 5LP",gpName:"Goff Carolyn D.",id:"9999999000",name:"Ivor Cox",nhsNumber:"9999999000",pasNo:"352541",phone:"(011981) 32362"},{address:"Ap #126-6226 Mi. St., Oakham, Rutland, XM9 4RF",dateOfBirth:-806976e6,department:"Neighbourhood",city:"Hamilton",gender:"Male",gpAddress:"Northmapton Practice, 616-9384 Mauris Rd., Northampton, Northamptonshire, ZY9 2KM",gpName:"Cash Claire F.",id:"9999999001",name:"Ivor Cox",nhsNumber:"9999999001",pasNo:"623454",phone:"(0112) 740 5408"},{address:"22, Douglas Road, Cork, CK",dateOfBirth:-10180512e5,department:"Community Care",city:"Edinburgh",gender:"Male",gpAddress:"Port Glasgow Practice, 4872 Cubilia St., Port Glasgow, Renfrewshire, TQ3J 4JG",gpName:"Spencer Hyacinth A.",id:"9999999002",name:"Aengus O'Sullivan",nhsNumber:"9999999002",pasNo:"346574",phone:"0800 1111"},{address:"40, High Street, Dublin, D8",dateOfBirth:318384e6,department:"Neighbourhood",city:"Hamilton",gender:"Female",gpAddress:"Newport Practice, Ap #491-7493 Donec Ave, Newport, Hampshire, JB48 4EL",gpName:"Bailey Demetrius B.",id:"9999999003",name:"Emma Gallagher",nhsNumber:"9999999003",pasNo:"332546",phone:"07624 647524"},{address:"60, SandyMill Road, Galway, GW",dateOfBirth:-3672e8,department:"Community Care",city:"Edinburgh",gender:"Male",gpAddress:"Edinburgh Practice, 7673 Luctus St., Edinburgh, Midlothian, OS65 6FU",gpName:"Guthrie Indigo D.",id:"9999999004",name:"Philip O'Connor",nhsNumber:"9999999004",pasNo:"345267",phone:"0964 934 2028"},{address:"288-6235 Odio. Street, Stockton-on-Tees, Durham, GF7 2OE",dateOfBirth:-5638464e5,department:"Community Care",city:"Edinburgh",gender:"Male",gpAddress:"Taunton Practice, 611-682 Sed Road, Taunton, Somerset, Y92 1WA",gpName:"Hudson Inez G.",id:"9999999005",name:"Rashad Hill",nhsNumber:"9999999005",pasNo:"798311",phone:"0909 764 2554"},{address:"P.O. Box 711, 8725 Purus Rd., Grangemouth, Stirlingshire, B4 8MW",dateOfBirth:-3636576e5,department:"Primary Care",city:"Northampton",gender:"Male",gpAddress:"Aulderan Practice, Ap #806-2884 Enim St., Auldearn, Nairnshire, V4F 9GJ",gpName:"Joseph May N.",id:"9999999006",name:"Ezra Gordon",nhsNumber:"9999999006",pasNo:"595941",phone:"070 6691 5178"},{address:"50, High Hill, Cork, CK",dateOfBirth:-9946368e5,department:"Primary Care",city:"Northampton",gender:"Male",gpAddress:"Hamilton Practice, 5544 Ante Street, Hamilton, Lanarkshire, N06 5LP",gpName:"Mcclain Ocean Q.",id:"9999999008",name:"Cian Magee",nhsNumber:"9999999008",pasNo:"685412",phone:"(026) 5155 5992"},{address:"80, Low Street, Dublin, D8",dateOfBirth:3605472e5,department:"Hospital",city:"Somerset",gender:"Female",gpAddress:"Northmapton Practice, 616-9384 Mauris Rd., Northampton, Northamptonshire, ZY9 2KM",gpName:"KEY Dawn A.",id:"9999999009",name:"Nora Kelly",nhsNumber:"9999999009",pasNo:"584849",phone:"(016977) 0472"},{address:"40, High Hill, Dublin, D8",dateOfBirth:46656e6,department:"Neighbourhood",city:"Hamilton",gender:"Female",gpAddress:"Port Glasgow Practice, 4872 Cubilia St., Port Glasgow, Renfrewshire, TQ3J 4JG",gpName:"Boyer Isaac Q.",id:"9999999010",name:"Briana Nolan",nhsNumber:"9999999010",pasNo:"556631",phone:"(01970) 784490"},{address:"9460 Sit Av., Marlborough, Wiltshire, V15 5FL",dateOfBirth:5345568e5,department:"Neighbourhood",city:"Hamilton",gender:"Female",gpAddress:"Newport Practice, Ap #491-7493 Donec Ave, Newport, Hampshire, JB48 4EL",gpName:"Hobbs Neil S.",id:"9999999011",name:"Hilda Aguirre",nhsNumber:"9999999011",pasNo:"645154",phone:"(0101) 279 8943"},{address:"P.O. Box 785, 1144 Erat. Rd., Ludlow, Shropshire, GI1 8ZR",dateOfBirth:-733536e6,department:"Hospital",city:"Somerset",gender:"Female",gpAddress:"Edinburgh Practice, 7673 Luctus St., Edinburgh, Midlothian, OS65 6FU",gpName:"Sullivan Bruno Z.",id:"9999999012",name:"Cameron Monroe",nhsNumber:"9999999012",pasNo:"984313",phone:"076 5024 5403"},{address:"P.O. Box 649, 8307 Sit Rd., Cawdor, Nairnshire, GL74 9RY",dateOfBirth:1009152e5,department:"Community Care",city:"Edinburgh",gender:"Female",gpAddress:"Taunton Practice, 611-682 Sed Road, Taunton, Somerset, Y92 1WA",gpName:"Roach Solomon H.",id:"9999999013",name:"Kuame Thompson",nhsNumber:"9999999013",pasNo:"416166",phone:"0800 252 0881"},{address:"Ap #540-9476 Nec Avenue, Alva, Stirlingshire, W9J 7NB",dateOfBirth:-6381504e5,department:"Community Care",city:"Edinburgh",gender:"Female",gpAddress:"Aulderan Practice, Ap #806-2884 Enim St., Auldearn, Nairnshire, V4F 9GJ",gpName:"Cooke Kelsey T.",id:"9999999014",name:"Stewart Lynch",nhsNumber:"9999999014",pasNo:"641515",phone:"056 5661 0225"},{address:"P.O. Box 301, 6944 Sapien, St., Bradford, Yorkshire, WZ8 4PM",dateOfBirth:7211808e5,department:"Community Care",city:"Edinburgh",gender:"Female",gpAddress:"Scalloway Practice, 549-6333 Magna Street, Scalloway, Shetland, KF3 8IO",gpName:"Howard Megan D.",id:"9999999015",name:"Hashim Booth",nhsNumber:"9999999015",pasNo:"949461",phone:"0353 893 7620"},{address:"Ap #728-3451 Dapibus St., Forfar, Angus, R12 7RK",dateOfBirth:1888704e5,department:"Primary Care",city:"Northampton",gender:"Female",gpAddress:"Hamilton Practice, 5544 Ante Street, Hamilton, Lanarkshire, N06 5LP",gpName:"Hampton Hamish H.",id:"9999999016",name:"Gregory Dillard",nhsNumber:"9999999016",pasNo:"994512",phone:"(025) 5608 1829"},{address:"91, Douglas Road, Dublin, D8",dateOfBirth:167616e5,department:"Neighbourhood",city:"Hamilton",gender:"Female",gpAddress:"Northmapton Practice, 616-9384 Mauris Rd., Northampton, Northamptonshire, ZY9 2KM",gpName:"Valenzuela Jesse M.",id:"9999999017",name:"Marian Kelly",nhsNumber:"9999999017",pasNo:"684135",phone:"(0113) 310 6232"},{address:"94, High Hill, Galway, GW",dateOfBirth:45792e7,department:"Mental Health",city:"Glasgow",gender:"Male",gpAddress:"Port Glasgow Practice, 4872 Cubilia St., Port Glasgow, Renfrewshire, TQ3J 4JG",gpName:"Joseph Cameron J.",id:"9999999018",name:"John Flanagan",nhsNumber:"9999999018",pasNo:"943513",phone:"0800 970 8555"},{address:"34, Summer Hill, Dublin, D8",dateOfBirth:-7900416e5,department:"Neighbourhood",city:"Hamilton",gender:"Female",gpAddress:"Newport Practice, Ap #491-7493 Donec Ave, Newport, Hampshire, JB48 4EL",gpName:"Garrett Illana I.",id:"9999999019",name:"Rachel Walsh",nhsNumber:"9999999019",pasNo:"684351",phone:"(01326) 24257"},{address:"P.O. Box 691, 4675 Dictum Rd., Stevenage, Hertfordshire, AI2 8YN",dateOfBirth:5232384e5,department:"Neighbourhood",city:"Hamilton",gender:"Male",gpAddress:"Edinburgh Practice, 7673 Luctus St., Edinburgh, Midlothian, OS65 6FU",gpName:"Morris Lucian X.",id:"9999999020",name:"Lysandra Nash",nhsNumber:"9999999020",pasNo:"913513",phone:"0800 1111"}];function v(e){for(var t=[{param:"data.prefix",label:"Preferred Name"},{param:"data.firstName",label:"Name"},{param:"data.lastName",label:"Surname"},{param:"data.birthDate",label:"Date of Birth"},{param:"data.address",label:"Address"},{param:"data.city",label:"City"},{param:"data.district",label:"District"},{param:"data.postCode",label:"Post Code"},{param:"data.country",label:"Country"},{param:"data.phone",label:"Telephone Number"},{param:"data.nhsNumber",label:"CHI Number"}],a=[],n=0,r=t.length;n<r;n++){var o=t[n];s()(e,o.param,null)||a.push(o.label)}if(a.length>0){var l=a.join(", ");throw new m.a("777|Please add "+l)}return!0}function O(e){var t=s()(e,"filter.clinicalQuery",null),a=s()(e,"filter.filterType",null),n="by_city"===a,r="by_age"===a,o="advanced"===a;if(!t&&!n&&!r&&!o)return null;var l={};if(t)l=function(e){var t={query:s()(e,"filter.clinicalQuery.searchValue",null),gender:s()(e,"filter.clinicalQuery.gender",null)},a=s()(e,"filter.clinicalQuery.dateOfBirth",null),n=s()(e,"filter.clinicalQuery.minAge",null),r=s()(e,"filter.clinicalQuery.maxAge",null);return a?t.dateOfBirth=a:n&&r&&(t.from=n,t.to=r),t}(e);else if(n)l={city:s()(e,"filter.filterText",null)};else if(o)l=function(e){var t=s()(e,"filter.filterText",null),a=s()(t,"nhsNumber",null),n=s()(t,"firstName",null),r=s()(t,"lastName",null),o=s()(t,"gender",null),l=s()(t,"dateOfBirth",null),i=s()(t,"minAge",0),c=s()(t,"maxAge",100);return l?{nhsNumber:a,firstName:n,lastName:r,gender:o,birthDate:l}:{from:i,to:c,nhsNumber:a,firstName:n,lastName:r,gender:o}}(e);else if(r){var i=s()(e,"filter.filterText",[0,100]);l={from:i[0],to:i[1]}}return JSON.stringify(l)}function k(e,t){var a=s()(t,"pagination.page",1),n=s()(t,"pagination.perPage",10),r=(a-1)*n,o=a*n;return function(e,t){var a=s()(t,"sort.field",null),n="DESC"===s()(t,"sort.order",null)?g.DESC:g.ASC;return b()(e,[a],n)}(function(e){var t=[];return e.forEach(function(e){var a=s()(e,"resource.address",null);t.push({id:s()(e,["resource","identifier",[0],"value"],null),name:x(e),address:w(e),totalAddress:w(e),city:s()(a,[[0],"city"],null),country:s()(a,[[0],"country"],null),district:s()(a,[[0],"district"],null),postCode:s()(a,[[0],"postalCode"],null),birthDate:s()(e,"resource.birthDate",null),department:s()(e,"resource.department",null),gender:s()(e,"resource.gender",null),nhsNumber:s()(e,["resource","identifier",[0],"value"],null),phone:s()(e,"resource.telecom",null)})}),t}(s()(e,"entry",[])),t).slice(r,o)}var N=function(e,t,a){var n="",r="",o={};switch(e){case d.d:n=function(e){var t=s()(e,"filter.filterText",null),a=s()(e,"filter.filterType",null),n=s()(e,"filter.clinicalQuery.searchType",null),r=null;return"id"===a?r="".concat(y,"/mpi/Patient/").concat(t):"by_city"===a&&t?r="".concat(y,"/mpi/Patient/search/searchByCity"):"clinicalQuery"===a&&n?r="".concat(y,"/api/patient/clinicalSearch/").concat(n):"by_age"!==a&&"name"===a||!t?t&&(r="".concat(y,"/mpi/Patient?name=").concat(t)):r="".concat(y,"/mpi/Patient/search/advanced"),r}(a),r=function(e){var t=s()(e,"filter.clinicalQuery",null),a=s()(e,"filter.filterType",null);return t||"by_city"===a||"by_age"===a||"advanced"===a?"POST":"GET"}(a),o.method=r,o.headers||(o.headers=new Headers({Accept:"application/json"})),o.headers={Authorization:"Bearer "+E,"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},"POST"===r&&(o.body=O(a));break;case d.g:n="".concat(y,"/mpi/Patient/").concat(a.id),o.headers||(o.headers=new Headers({Accept:"application/json"})),o.headers={Authorization:"Bearer "+E,"X-Requested-With":"XMLHttpRequest"};break;case d.h:v(a);var l=s()(a,"data.firstName",null),i=s()(a,"data.nhsNumber",null),c={name:{family:s()(a,"data.lastName",null),given:l.split(" "),prefix:s()(a,"data.prefix",null)},telecom:String(s()(a,"data.phone",null)),gender:s()(a,"data.gender",null),birthDate:s()(a,"data.birthDate",null),address:{line:s()(a,"data.address",null),city:s()(a,"data.city",null),district:s()(a,"data.district",null),postalCode:s()(a,"data.postCode",null),country:s()(a,"data.country",null)},id:i.toString()};n="".concat(y,"/mpi/Patient/").concat(a.id),o.method="PUT",o.headers||(o.headers=new Headers({Accept:"application/json"})),o.headers={Authorization:"Bearer "+E,"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},o.body=JSON.stringify(c);break;case d.a:v(a);var u=s()(a,"data.nhsNumber",null),m=s()(a,"data.firstName",null),p={name:{family:s()(a,"data.lastName",null),given:m.split(" "),prefix:s()(a,"data.prefix",null)},telecom:String(s()(a,"data.phone",null)),gender:s()(a,"data.gender",null),birthDate:s()(a,"data.birthDate",null),address:{line:s()(a,"data.address",null),city:s()(a,"data.city",null),district:s()(a,"data.district",null),postalCode:s()(a,"data.postCode",null),country:s()(a,"data.country",null)}};n="".concat(y,"/mpi/Patient/").concat(u),o.method="POST",o.headers||(o.headers=new Headers({Accept:"application/json"})),o.headers={Authorization:"Bearer "+E,"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},o.body=JSON.stringify(p);break;default:return{data:"No results"}}return{url:n,options:o}},S=function(e,t,a,n){switch(t){case d.d:var r="id"===s()(n,"filter.filterType",null)?function(e){var t=s()(e,"patient",null),a=s()(e,"address",null);return[{id:s()(t,["identifier",[0],"value"],null),name:x(t,!0),address:w(t,!0),totalAddress:w(t,!0),city:s()(a,[[0],"city"],null),country:s()(a,[[0],"country"],null),district:s()(a,[[0],"district"],null),postCode:s()(a,[[0],"postalCode"],null),birthDate:s()(t,"birthDate",null),department:s()(t,"department",null),gender:s()(t,"gender",null),nhsNumber:s()(t,["identifier",[0],"value"],null),phone:s()(t,"telecom",null)}]}(e):k(e,n);return{data:r,total:r.length};case d.g:var o=s()(e,"patient",null),l=s()(o,["identifier",[0],"value"],null),i=s()(o,["name",[0]],null),c=s()(i,["prefix"],null),u=s()(i,"given",null).join(" "),m=s()(i,["family"],null),p=s()(o,"address",null),h=s()(p,[[0],"city"],null),g=s()(p,[[0],"country"],null),b=s()(p,[[0],"postalCode"],null),f=s()(p,[[0],"line",[0]],null),E=s()(p,[[0],"district"],null);return{data:{id:l,prefix:c,firstName:u,lastName:m,name:[u,m].join(" "),totalAddress:[f,h,E,b].join(", "),address:f,city:h,country:g,district:E,postCode:b,birthDate:s()(o,"birthDate",null),department:s()(o,"department",null),gender:s()(o,"gender",null),source:s()(o,["identifier",[0],"system"],null),nhsNumber:l,phone:s()(o,"telecom",null)}};case d.h:var y=s()(n,"data.firstName",null),C=s()(n,"data.lastName",null),v=s()(n,"data.address",null),O=s()(n,"data.city",null),N=s()(n,"data.district",null),S=s()(n,"data.postCode",null),j=n.data;return j.name=[y,C].join(" "),j.address=[v,O,N,S].join(" "),j.totalAddress=[v,O,N,S].join(" "),{id:s()(n,"data.nhsNumber",null),data:j,previousData:s()(n,"previousData",{})};case d.a:var T=s()(n,"data",null),I=s()(e,"compositionUid",null);if(I)I.split("::")[0];T.id=Number(s()(n,"data.nhsNumber",null)),T.name=s()(n,"data.firstName",null)+" "+s()(n,"data.lastName",null);var R=s()(n,"data.address",null)+" "+s()(n,"data.city",null)+" "+s()(n,"data.district",null)+" "+s()(n,"data.postCode",null);return T.address=R,T.totalAddress=R,T.isNew=!0,s()(n,"source",null)||(T.source="ethercis"),{data:T};default:return{data:"No results"}}};function x(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)?s()(e,"name",null):s()(e,"resource.name",null);return[s()(t,[[0],"given"],null).join(" "),s()(t,[[0],"family"],null)].join(" ")}function w(e,t){var a=t?s()(e,"address",null):s()(e,"resource.address",null);return[s()(a,[[0],"line",[0]],null),s()(a,[[0],"city"],null),s()(a,[[0],"district"],null),s()(a,[[0],"postalCode"],null)].join(", ")}function j(e,t){var a=function(e){var t=[];return"allergies"===e?t=[{param:"data.cause",label:"Cause"},{param:"data.reaction",label:"Reaction / Description"},{param:"data.causeCode",label:"Terminology"},{param:"data.causeTerminology",label:"Terminology Code"}]:"contacts"===e?t=[{param:"data.name",label:"Name"},{param:"data.relationship",label:"Relationship"},{param:"data.relationshipCode",label:"Relationship Type"},{param:"data.relationshipTerminology",label:"Relationship Terminology"},{param:"data.contactInformation",label:"Contact Information"},{param:"data.notes",label:"Note"}]:"medications"===e?t=[{param:"data.name",label:"Name"},{param:"data.route",label:"Route"},{param:"data.doseAmount",label:"Dose Amount"},{param:"data.doseDirections",label:"Dose Description"},{param:"data.doseTiming",label:"Dose Timing"},{param:"data.medicationCode",label:"Medication Description"},{param:"data.startDate",label:"Start date"}]:"problems"===e?t=[{param:"data.problem",label:"Problem / Issue"},{param:"data.dateOfOnset",label:"Date of Onset"},{param:"data.description",label:"Description"},{param:"data.code",label:"Terminology Code"},{param:"data.terminology",label:"Terminology"}]:"clinicalnotes"===e?t=[{param:"data.clinicalNotesType",label:"Type"},{param:"data.note",label:"Note"}]:"events"===e?t=[{param:"data.name",label:"Name"},{param:"data.type",label:"Type"},{param:"data.description",label:"Notes"},{param:"data.dateTime",label:"Event date"}]:"mdtreports"===e?t=[{param:"data.serviceTeam",label:"Service / Team"},{param:"data.dateOfRequest",label:"Date of Request"},{param:"data.dateOfMeeting",label:"Date of Meeting"},{param:"data.question",label:"Question For MDT"},{param:"data.notes",label:"Meeting Discussion"}]:"personalnotes"===e?t=[{param:"data.noteType",label:"Type"},{param:"data.notes",label:"Note"}]:"procedures"===e?t=[{param:"data.procedureName",label:"Procedure Name"},{param:"data.date",label:"Date of Procedure"},{param:"data.notes",label:"Procedure Notes"},{param:"data.procedureTerminology",label:"Terminology"},{param:"data.procedureCode",label:"Code"}]:"referrals"===e?t=[{param:"data.referralFrom",label:"Referral From"},{param:"data.referralTo",label:"Referral To"},{param:"data.dateOfReferral",label:"Date of Referral"},{param:"data.referralReason",label:"Reason for Referral"},{param:"data.referralSummary",label:"Clinical Summary"}]:"top3Things"===e?t=[{param:"data.name1",label:"Issue #1"},{param:"data.name2",label:"Issue #2"},{param:"data.name3",label:"Issue #3"},{param:"data.description1",label:"Description #1"},{param:"data.description2",label:"Description #2"},{param:"data.description3",label:"Description #3"}]:"vaccinations"===e&&(t=[{param:"data.vaccinationName",label:"Name"},{param:"data.vaccinationDateTime",label:"Vaccination date"},{param:"data.series",label:"Series"},{param:"data.comment",label:"Comment"}]),t}(e);if("medications"===e){var n=new Date;if(new Date(s()(t,"data.startDate",null))>n)throw new m.a("777|Please enter the correct Start Date")}for(var r=[],o=0,l=a.length;o<l;o++){var i=a[o];s()(t,i.param,null)||r.push(i.label)}if(r.length>0){var c=r.join(", ");throw new m.a("777|Please add "+c)}return!0}var T=a(36);function I(e,t){for(var a in t)t[a]=e+"_"+a;return Object(T.a)({REQUEST:e+"_REQUEST",SUCCESS:e+"_SUCCESS",FAILURE:e+"_FAILURE"},t)}var R=I("HTTP_ERROR_ACTION",{SAVE:"SAVE",REMOVE:"REMOVE"}),B={save:function(e){return{type:R.SAVE,data:e}},remove:function(e){return{type:R.REMOVE,data:e}}};function P(e,t,a){var n=s()(a,"filter.filterText",null),r=f[e];return n?t.filter(function(e){return function(e,t,a){var n=!1;return t.forEach(function(t){var r=e[t];String(r).toLowerCase().search(a)>=0&&(n=!0)}),n}(e,r,n)}):t}var D=function(e,t,a,n){switch(t){case d.d:var r=s()(n,"pagination.page",1),o=s()(n,"pagination.perPage",10),l=function(e){return e.map(function(e,t){return Object.assign({number:t+1,id:e.sourceId},e)})}(e),i=(r-1)*o,c=r*o;return{data:function(e,t){var a=s()(t,"sort.field",null),n="DESC"===s()(t,"sort.order",null)?g.DESC:g.ASC;return b()(e,[a],n)}(P(a,l,n),n).slice(i,c),total:l.length};case d.g:return{data:Object.assign({id:e.sourceId},e)};case d.h:return n;case d.a:var u=s()(n,"data",null),m=s()(e,"compositionUid",null),p="";if(m)p=m.split("::")[0];return u.id=s()(e,"host",null)+"-"+p,u.isNew=!0,s()(n,"source",null)||(u.source="ethercis"),{data:u};default:return{data:"No results"}}},A=function(e,t,a){var n=function(e,t,a){var n="",r={};switch(e){case d.d:n="".concat(y,"/").concat("api/patients","/").concat(localStorage.getItem("patientId"),"/").concat(t),r.headers||(r.headers=new Headers({Accept:"application/json"})),r.headers={Authorization:"Bearer "+E,"X-Requested-With":"XMLHttpRequest"};break;case d.g:n="".concat(y,"/").concat("api/patients","/").concat(localStorage.getItem("patientId"),"/").concat(t,"/").concat(a.id),r.headers||(r.headers=new Headers({Accept:"application/json"})),r.headers={Authorization:"Bearer "+E,"X-Requested-With":"XMLHttpRequest"};break;case d.h:j(t,a);var o=Object.assign({userId:localStorage.getItem("patientId")},a.data);if("problems"===t){var l=s()(a,"data.dateCreated",null),i=s()(a,"data.dateOfOnset",null);o.dateCreated=h()(l).format("DD-MM-YYYY"),o.dateOfOnset=h()(i).format("YYYY-MM-DD")}if("medications"===t){var c=s()(a,"data.startDate",null);o.startDate=1e3*h()(c).unix()}n="".concat(y,"/").concat("api/patients","/").concat(localStorage.getItem("patientId"),"/").concat(t,"/").concat(a.id),r.method="PUT",r.headers||(r.headers=new Headers({Accept:"application/json"})),r.headers={Authorization:"Bearer "+E,"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},r.body=JSON.stringify(o);break;case d.a:j(t,a);var u=Object.assign({userId:localStorage.getItem("patientId")},a.data);n="".concat(y,"/").concat("api/patients","/").concat(localStorage.getItem("patientId"),"/").concat(t),r.method="POST",r.headers||(r.headers=new Headers({Accept:"application/json"})),r.headers={Authorization:"Bearer "+E,"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},r.body=JSON.stringify(u);break;default:throw new Error("Unsupported fetch action type ".concat(e))}return{url:n,options:r}}(e,t,a),r=n.url,o=n.options,l="";return fetch(r,o).then(function(e){return l=s()(e,"status",null),e.json()}).then(function(n){if(200!==l)throw l+="|"+s()(n,"error",null),new m.a(l);return D(n,e,t,a)}).catch(function(e){throw console.log("Error: ",e),new Error(e)})},L=function(e,t,a){return"patients"===t?function(e,t,a){var n=N(e,0,a),r=n.url,o=n.options;if(!r)return null;var l={};return fetch(r,o).then(function(e){return l.status=s()(e,"status",null),e.json()}).then(function(t){var n=s()(a,"filter.filterText",null);if(404===l.status&&n)l.errorMessage="No patient by that surname, please try again",l.status,l.errorMessage;else if(200!==l.status){l.errorMessage=s()(t,"error",null);var r=l.status+"|"+l.errorMessage;throw new m.a(r)}return S(t,e,0,a)}).catch(function(e){throw console.log("Error: ",e),new Error(e)})}(e,0,a):A(e,t,a)},M=a(55),H=a.n(M),U=a(573),F=a(574),W=a.n(F),G=a(318),V=y+"/api/initialise",z={};z.headers||(z.headers=new Headers({Accept:"application/json"})),z.headers={"X-Requested-With":"XMLHttpRequest"};var Y=function e(t,a){fetch(V,z).then(function(e){return e.json()}).then(function(n){if("loading_data"!==s()(n,"status",null)){var r=W.a.decode(E),o=s()(r,"openid.firstName",null)+" "+s()(r,"openid.lastName",null),l="phrUser"===s()(r,"openid.role",null)?"PHR":"IDCR",i=r.nhsNumber;return localStorage.setItem("userId",i),localStorage.setItem("username",o),localStorage.setItem("role",l),"PHR"===l&&localStorage.setItem("patientId",i),t(!0)}var c=s()(n,"new_patient",!1);setTimeout(function(){return e(t,a)},c?5e3:1e3)})},Q=function(){var e=Object(U.a)(H.a.mark(function e(t,a){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==G.e){e.next=3;break}return localStorage.getItem("userId")&&E&&fetch(y+"/api/logout",z).then(function(e){return e.json()}).then(function(e){document.cookie="JSESSIONID=;",localStorage.removeItem("userId"),localStorage.removeItem("patientId"),localStorage.removeItem("username"),localStorage.removeItem("role"),window.location=s()(e,"redirectURL","")}),e.abrupt("return",Promise.resolve());case 3:if(t!==G.b){e.next=5;break}return e.abrupt("return",Promise.resolve());case 5:if(t!==G.a){e.next=12;break}if(!localStorage.getItem("userId")||!E){e.next=10;break}return e.abrupt("return",Promise.resolve());case 10:E&&new Promise(Y).then(function(e){window.location.href="/"});case 11:return e.abrupt("return",Promise.reject());case 12:return e.abrupt("return",Promise.reject("Wrong login or password"));case 13:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),X=a(1192),K=a(1193),J=a(19),Z=a(20),q=a(22),_=a(21),$=a(23),ee=a(11),te=a(342),ae=a(3),ne=a(33),re=a.n(ne),oe=a(4),le=a.n(oe),ie=a(223),se=a.n(ie),ce=a(224),ue=a.n(ce),de=a(340),me=a.n(de),pe=a(91),he=a.n(pe),ge=a(16),be=a.n(ge),fe=a(26),Ee=a.n(fe),ye=a(92),Ce=a(75),ve=I("COLUMNS_TOGGLING_ACTION",{TOGGLE:"TOGGLE",REMOVE:"REMOVE"}),Oe=function(e,t,a){return{type:ve.TOGGLE,resource:e,columnName:t,value:a}},ke=function(e){return{type:ve.REMOVE,data:e}},Ne=a(426),Se=I("USER_SEARCH_ACTION",{REMOVE:"REMOVE",REQUEST_ID:"REQUEST_ID",SEARCH_BY:"SEARCH_BY"}),xe=function(e){return{type:Se.REQUEST,data:e}},we=function(e,t){return{type:Se.SEARCH_BY,searchType:e,value:t}},je=function(e){return{type:Se.REMOVE,data:e}},Te=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).goHomePage=function(){a.props.removeUserSearch(),window.location.replace("/#/")},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.resource;return r.a.createElement("div",{className:a.breadcrumbsBlock},r.a.createElement(le.a,{className:a.link,onClick:function(){return e.goHomePage()}},"Home"),n.map(function(e,t){return r.a.createElement("div",{key:t,className:a.breadcrumbsItem},r.a.createElement("div",{className:a.separator}),e.isActive?r.a.createElement(le.a,null,r.a.createElement(Ne.a,{to:e.url,className:a.link,"aria-label":e.title,color:"inherit"},e.title)):e.onClickAction?r.a.createElement(le.a,{className:a.link,onClick:function(){return e.onClickAction()}},e.title):r.a.createElement(le.a,null,e.title))}))}}]),t}(n.Component),Ie=Object(ae.withStyles)(function(e){return{breadcrumbsBlock:{display:"flex",height:48,alignItems:"center",border:"1px solid ".concat(e.palette.borderColor),paddingLeft:10,backgroundColor:"#fff"},separator:{width:0,height:0,borderTop:"5px solid transparent",borderBottom:"5px solid transparent",borderLeft:"5px solid black",marginLeft:8,marginRight:8,marginTop:5},link:{textDecoration:"none",color:e.palette.secondaryMainColor,cursor:"pointer"},breadcrumbsItem:{display:"flex"}}})(Object(ee.b)(null,function(e){return{removeUserSearch:function(){e(je())}}})(Te)),Re=a(64),Be=a(576),Pe=a.n(Be),De=a(12),Ae=a(207),Le=a.n(Ae),Me=a(24),He=a(113),Ue=a.n(He),Fe=a(584),We=a.n(Fe),Ge=a(69),Ve=a.n(Ge),ze=a(577),Ye=a.n(ze),Qe=a(578),Xe=a.n(Qe),Ke=a(579),Je=a.n(Ke),Ze=a(580),qe=a.n(Ze),_e=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={searchText:a.props.userSearch?a.props.userSearch:null},a.handleChange=function(e){a.setState({searchText:e.target.value})},a.onRemoveClick=function(){a.setState(function(){return{searchText:""}},function(){return a.props.removeUserSearch()})},a.onSearchClick=function(e){a.props.removeUserSearch(),a.props.setUserSearch(e),window.location.replace("/#/patients")},a.onKeyDown=function(e){var t=a.state.searchText;"Enter"===e.key&&(a.props.setUserSearch(t),window.location.replace("/#/patients"))},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.userSearch;t?t&&this.setState({searchText:t}):this.setState({searchText:""})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.userSearch,o=(Object(De.a)(t,["classes","userSearch"]),this.state.searchText);return r.a.createElement("div",{className:a.mainBlock},r.a.createElement("input",{className:a.input,type:"text",name:"userSearch",value:o,placeholder:"Search",onChange:function(t){return e.handleChange(t)},onKeyDown:function(t){return e.onKeyDown(t)}}),n&&r.a.createElement(Ee.a,{title:"Clean Search",disableHoverListener:!0},r.a.createElement(be.a,{className:a.icon,"aria-haspopup":"true",color:"inherit",onClick:function(){return e.onRemoveClick()}},r.a.createElement(Je.a,null))),r.a.createElement(Ee.a,{title:"Patients Search",disableHoverListener:!0},r.a.createElement(be.a,{className:a.icon,"aria-haspopup":"true",color:"inherit",onClick:function(){return e.onSearchClick(o)}},r.a.createElement(qe.a,null))))}}]),t}(n.Component),$e=Object(ee.b)(function(e){return{userSearch:s()(e,"custom.userSearch.data",null)}},function(e){return{setUserSearch:function(t){e(xe(t))},removeUserSearch:function(){e(je())}}})(Object(ae.withStyles)(function(e){return{mainBlock:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%",height:36,minWidth:350,borderRadius:18,backgroundColor:e.isOldDesign?null:e.palette.disabledColor},input:{display:"block",width:"100%",height:"95%",paddingTop:0,paddingBottom:0,paddingLeft:20,marginRight:e.isOldDesign?null:10,borderRadius:e.isOldDesign?0:18,border:e.isOldDesign?"1px solid ".concat(e.palette.disabledColor):0,backgroundColor:e.isOldDesign?e.palette.paperColor:e.palette.disabledColor},icon:{color:e.isOldDesign?e.palette.paperColor:e.palette.fontColor,backgroundColor:e.isOldDesign?e.palette.secondaryMainColor:null,borderRadius:0,height:35,"&:hover":{color:e.isOldDesign?e.palette.secondaryMainColor:null,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,backgroundColor:e.isOldDesign?e.palette.paperColor:null}}}})(_e)),et=a(581),tt=a.n(et),at=I("CONTRAST_MODE_ACTION"),nt=function(e){return{type:at.REQUEST,data:e}},rt=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={isContrastMode:!1},a.toggleContrastMode=function(){a.setState(function(e){return{isContrastMode:!a.state.isContrastMode}},function(){return a.props.contrastModeAction(a.state.isContrastMode)})},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes;e.contrastMode;return r.a.createElement("div",{className:t.rightBlockItem},r.a.createElement(Ee.a,{title:"Contrast mode"},r.a.createElement(be.a,{className:t.rightBlockButton,"aria-haspopup":"true",color:"inherit",onClick:this.toggleContrastMode,"aria-label":"Contrast mode"},r.a.createElement(tt.a,null))))}}]),t}(n.Component),ot=Object(ee.b)(function(e){return{contrastMode:e.custom.contrastMode.data}},function(e){return{contrastModeAction:function(t){e(nt(t))}}})(rt),lt=a(130),it=a.n(lt),st=a(79),ct=a.n(st),ut=a(583),dt=a.n(ut),mt=a(76),pt=a(582),ht=a.n(pt),gt={userLogout:mt.i},bt=Object(ee.b)(null,gt)(Object(ae.withStyles)(function(e){return{button:{display:"block",width:140,height:40,margin:"8px !important",color:"white",backgroundColor:e.palette.secondaryMainColor,border:"1px solid ".concat(e.palette.secondaryMainColor),borderRadius:e.isRectangleButtons?0:25,fontSize:16,fontWeight:800,"&:hover":{color:e.palette.secondaryMainColor,backgroundColor:"white"}},icon:{marginLeft:10}}})(function(e){var t=e.classes,a=e.userLogout,n=e.title,o=void 0===n?"Sign Out":n,l=e.hideIcon;return r.a.createElement(Ee.a,{title:o},r.a.createElement(be.a,{className:t.button,onClick:function(){return a()},"aria-label":"Sign Out"},o,!l&&r.a.createElement(ht.a,{className:t.icon})))})),ft=function(e){function t(e){var a;return Object(J.a)(this,t),(a=Object(q.a)(this,Object(_.a)(t).call(this,e))).state={anchorEl:null,isOpen:!1},a.handleMenu=function(){a.setState(function(e){return{anchorEl:a.button.current,isOpen:!e.isOpen}})},a.handleClose=function(){a.setState(function(e){return{anchorEl:null,isOpen:!e.isOpen}})},a.button=r.a.createRef(),a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.isOpen,n=t.anchorEl;return r.a.createElement("div",{className:e.rightBlockItem,ref:this.button},r.a.createElement(Ee.a,{title:"User panel"},r.a.createElement(be.a,{id:"icon-profile",className:e.rightBlockButton,"aria-owns":a?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.handleMenu.bind(this),color:"inherit","aria-label":"User Panel"},r.a.createElement(dt.a,null))),r.a.createElement(it.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:this.handleClose},r.a.createElement(ct.a,{className:e.userPanel},r.a.createElement(le.a,{variant:"h1",className:e.userName},localStorage.getItem("username")),r.a.createElement(le.a,{className:e.userRole},r.a.createElement("span",null,"User role:")," ",localStorage.getItem("role")),r.a.createElement(bt,{classes:e}))))}}]),t}(n.Component),Et=Object(ae.withStyles)({userPanel:{minWidth:220,padding:12},userName:{marginBottom:7,fontSize:18,fontWeight:800},userRole:{fontSize:14,marginBottom:7}})(ft),yt=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).goHomePage=function(){a.props.removeUserSearch(),window.location.replace("/#/")},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.location;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve.a,{className:a.topPart},r.a.createElement("div",{className:a.homeButtonItem},r.a.createElement(Ee.a,{title:"Home"},r.a.createElement(be.a,{id:"icon-home","aria-label":"Home",className:a.homeButton,onClick:function(){return e.goHomePage()}},r.a.createElement(We.a,null)))),r.a.createElement("div",{className:a.mainLogoItem},r.a.createElement(Ue.a,{id:"logo-image",className:a.image,component:"img",alt:"Pulse Tile",image:Ye.a,title:"Pulse Tile",onClick:function(){return e.goHomePage()}})),r.a.createElement("div",{className:a.emptyBlock}),r.a.createElement("div",{className:a.userSearchBlock},r.a.createElement($e,{location:n})),r.a.createElement(Ue.a,{className:a.nhsLogo,component:"img",alt:"Pulse Tile",height:"29px",image:Xe.a,title:"Pulse Tile"}),r.a.createElement(ot,{classes:a}),r.a.createElement(Et,{classes:a})),r.a.createElement(Ve.a,{className:a.userSearchBlockMobile},r.a.createElement($e,{location:n})))}}]),t}(n.Component),Ct=Object(ee.b)(null,function(e){return{removeUserSearch:function(){e(je())}}})(Object(ae.withStyles)(function(e){var t,a,n;return{topPart:{display:"flex",backgroundColor:"white",justifyContent:"space-around",border:"1px solid ".concat(e.palette.borderColor),minHeight:54,padding:0},homeButtonItem:{display:"inline-flex",position:"relative",minHeight:54,minWidth:54,backgroundColor:e.palette.mainColor,justifyContent:"center",alignItems:"center"},homeButton:{color:"white"},mainLogoItem:{display:"inline-flex",justifyContent:"center",alignItems:"center",paddingLeft:9},image:{width:"auto",cursor:"pointer"},nhsLogo:(t={},Object(Me.a)(t,e.breakpoints.only("xs"),{display:"none"}),Object(Me.a)(t,"width","auto"),Object(Me.a)(t,"maxWidth","100%"),Object(Me.a)(t,"marginRight",24),t),rightBlockItem:{display:"inline-flex",position:"relative",minHeight:54,minWidth:54,justifyContent:"center",alignItems:"center",borderLeft:"1px solid ".concat(e.palette.borderColor),"&:hover":{backgroundColor:e.palette.mainColor},"&:active":{backgroundColor:e.palette.mainColor},"&:hover button":{color:"white"},"&:active button":{color:"white"},"&:hover a":{color:"white"},"&:active a":{color:"white"}},rightBlockButton:{color:e.palette.mainColor,"&:hover":{color:"white"}},emptyBlock:{flexGrow:1},userSearchBlock:(a={},Object(Me.a)(a,e.breakpoints.down("sm"),{display:"none"}),Object(Me.a)(a,"display","flex"),Object(Me.a)(a,"flexDirection","row"),Object(Me.a)(a,"maxWidth",300),Object(Me.a)(a,"marginRight",60),a),userSearchBlockMobile:(n={},Object(Me.a)(n,e.breakpoints.up("md"),{display:"none"}),Object(Me.a)(n,"display","flex"),Object(Me.a)(n,"flexDirection","row"),Object(Me.a)(n,"justifyContent","space-between"),Object(Me.a)(n,"backgroundColor",e.palette.paperColor),Object(Me.a)(n,"minHeight",52),Object(Me.a)(n,"padding",10),n)}})(yt)),vt=a(35),Ot=a.n(vt),kt=a(146),Nt=a.n(kt),St=a(206),xt=a.n(St),wt={charts:"System Dashboard",patients:"Patients Lists"},jt=function(e){var t=e.classes,a=e.location.pathname,n=wt[a.replace("/","")];return r.a.createElement(le.a,{className:t.title},n||"System Dashboard")},Tt=function(e){var t=e.classes,a=e.patientInfo,n=[s()(a,"address",null),s()(a,"city",null),s()(a,"country",null),s()(a,"postCode",null)],o=s()(a,"gpName",null),l=s()(a,"birthDate",null),i=h()(l).format("DD-MM-YYYY");return r.a.createElement(re.a,{className:t.patientInfo,container:!0,spacing:24},r.a.createElement(re.a,{className:t.gridBlock,item:!0,xs:12,lg:8},r.a.createElement(le.a,{variant:"h6",className:t.patientNameBlock},r.a.createElement("span",{className:t.keyName},s()(a,"name",null))),o&&r.a.createElement(le.a,{variant:"body2"},r.a.createElement("span",{className:t.keyName},"Doctor: "),o),r.a.createElement(le.a,{variant:"body2"},r.a.createElement("span",{className:t.keyName},"Address: "),r.a.createElement("span",{className:t.keyName},n.join(", ")))),r.a.createElement(re.a,{className:t.gridBlock,item:!0,xs:6,lg:2},i&&r.a.createElement(le.a,{variant:"body2"},r.a.createElement("span",{className:t.keyName},"D.O.B.: "),i),r.a.createElement(le.a,{variant:"body2"},r.a.createElement("span",{className:t.keyName},"Phone: "),r.a.createElement("span",{className:t.keyName},s()(a,"phone",null)))),r.a.createElement(re.a,{className:t.gridBlock,item:!0,xs:6,lg:2},r.a.createElement(le.a,{variant:"body2"},r.a.createElement("span",{className:t.keyName},"Gender: "),r.a.createElement("span",{className:t.keyName},s()(a,"gender",null))),r.a.createElement(le.a,{variant:"body2"},r.a.createElement("span",{className:t.keyName},"CHI No.: "),s()(a,"nhsNumber",null))))},It=function(e){var t=e.classes,a=e.setSidebarVisibility,n=e.isSidebarOpen;return r.a.createElement(Ee.a,{title:n?"Menu":"Close"},r.a.createElement(be.a,{className:t.mobileMenuButton,"aria-haspopup":"true",color:"inherit",onClick:function(){return a(!n)},"aria-label":n?"Menu":"Close"},n?r.a.createElement(Nt.a,null):r.a.createElement(xt.a,null)))},Rt=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={isMobileBannerOpened:!1},a.toggleMobileBanner=function(){a.setState({isMobileBannerOpened:!a.state.isMobileBannerOpened})},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.setSidebarVisibility,o=t.isSidebarOpen,l=t.patientInfo,i=this.state.isMobileBannerOpened;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.menuAndBannerMobile},r.a.createElement(It,{classes:a,setSidebarVisibility:n,isSidebarOpen:o}),r.a.createElement(le.a,{variant:"h6",className:a.patientName},s()(l,"name",null)),r.a.createElement(ye.a,{icon:Ce.h,size:"1x",className:a.iconArrowDown,onClick:function(){return e.toggleMobileBanner()}})),i&&r.a.createElement("div",{className:a.patientBannerMobile},r.a.createElement(le.a,{variant:"body2",className:a.bannerRow},r.a.createElement("span",null,"Doctor: "),s()(l,"gpName",null)),r.a.createElement(le.a,{variant:"body2",className:a.bannerRow},r.a.createElement("span",null,"D.O.B.: "),h()(s()(l,"dateOfBirth",null)).format("DD-MMM-YYYY")),r.a.createElement(le.a,{variant:"body2",className:a.bannerRow},r.a.createElement("span",null,"Phone: "),s()(l,"phone",null)),r.a.createElement(le.a,{variant:"body2",className:a.bannerRow},r.a.createElement("span",null,"Gender: "),s()(l,"gender",null)),r.a.createElement(le.a,{variant:"body2",className:a.bannerRow},r.a.createElement("span",null,"NHS No.: "),s()(l,"nhsNumber",null)),r.a.createElement(le.a,{variant:"body2",className:a.bannerRow},r.a.createElement("span",null,"Address: "),s()(l,"address",null))))}}]),t}(n.Component),Bt=Object(ae.withStyles)(function(e){var t;return{menuAndBannerMobile:(t={},Object(Me.a)(t,e.breakpoints.up("md"),{display:"none"}),Object(Me.a)(t,"display","flex"),Object(Me.a)(t,"width","100%"),Object(Me.a)(t,"minHeight","auto"),Object(Me.a)(t,"flexDirection","row"),Object(Me.a)(t,"padding",0),Object(Me.a)(t,"justifyContent","space-between"),Object(Me.a)(t,"backgroundColor",e.palette.paperColor),t),mobileMenuButton:{color:e.palette.mainColor},iconArrowDown:{color:e.palette.fontColor,paddingTop:15,paddingRight:15},patientBannerMobile:{paddingLeft:15,backgroundColor:e.palette.paperColor,width:"100%",minHeight:"auto","& span":{color:e.palette.fontColor}},patientName:{paddingTop:15,color:e.palette.fontColor},bannerRow:{marginBottom:5}}})(Rt),Pt=I("CURRENT_PATIENT_ACTION",{REQUEST_PHOTO:"REQUEST_PHOTO",SUCCESS_PHOTO:"SUCCESS_PHOTO",FAILURE_PHOTO:"FAILURE_PHOTO"}),Dt=function(e){return{type:Pt.REQUEST,data:e}},At=function(e){return{type:Pt.SUCCESS,data:e}},Lt=function(e){return{type:Pt.FAILURE,error:e}},Mt=function(e){return{type:Pt.REQUEST_PHOTO,data:e}},Ht=function(e){return{type:Pt.SUCCESS_PHOTO,data:e}},Ut=function(e){return{type:Pt.FAILURE_PHOTO,data:e}},Ft=function(e){var t=e.classes,a=e.setSidebarVisibility,n=e.isSidebarOpen;return r.a.createElement("div",{className:t.menuButtonBlock},r.a.createElement(Ot.a,{"aria-label":n?"Close":"Menu",variant:"contained",color:"primary",className:t.menuButton,onClick:function(){return a(!n)}},n?r.a.createElement(xt.a,null):r.a.createElement(Nt.a,null),n?"Close":"Menu"))};var Wt=function(e){function t(){return Object(J.a)(this,t),Object(q.a)(this,Object(_.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("patientId")&&this.props.getCurrentPatientAction()}},{key:"componentWillMount",value:function(){this.props.setSidebarVisibility(!0)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.isSidebarOpen,n=e.setSidebarVisibility,o=e.location,l=e.patientInfo,i=(function(e){var t=e.pathname;["/charts"].indexOf(t)}(o),function(e){var t=e.pathname,a=t.split("/"),n=s()(a,[1],null);return-1!==["charts","patients"].indexOf(n)||"/"===t}(o));return r.a.createElement(Ve.a,{className:t.lowPart},r.a.createElement("div",{className:t.menuAndBanner},r.a.createElement(Ft,{classes:t,setSidebarVisibility:n,isSidebarOpen:a}),!i&&r.a.createElement(Tt,{location:o,classes:t,patientInfo:l})),r.a.createElement(Bt,{isPageHasPatientBanner:i,setSidebarVisibility:n,isSidebarOpen:a,patientInfo:l}))}}]),t}(n.Component),Gt=Object(ee.b)(function(e){return{patientInfo:s()(e,"custom.currentPatient.patientInfo.data",null)}},function(e){return{getCurrentPatientAction:function(){e(Dt())}}})(Object(ae.withStyles)(function(e){var t;return{lowPart:{display:"flex",minHeight:"auto",flexDirection:"column",padding:0},menuAndBanner:(t={},Object(Me.a)(t,e.breakpoints.only("xs"),{display:"none"}),Object(Me.a)(t,"display","flex"),Object(Me.a)(t,"width","100%"),Object(Me.a)(t,"minHeight","auto"),Object(Me.a)(t,"border","1px solid ".concat(e.palette.borderColor)),Object(Me.a)(t,"padding",0),Object(Me.a)(t,"backgroundColor","white"),Object(Me.a)(t,"justifyContent","space-between"),t),menuButtonBlock:{display:"inline-flex",position:"relative",minWidth:238,minHeight:90,borderRight:"1px solid ".concat(e.palette.borderColor),justifyContent:"center",alignItems:"center"},menuButton:{borderRadius:15,minWidth:64,color:e.palette.mainColor,textTransform:"none",backgroundColor:"white","&:hover":{backgroundColor:e.palette.mainColor,color:"white"},"&:active":{backgroundColor:e.palette.mainColor,color:"white"}},title:{display:"block",width:"100%",flexGrow:1,color:"white",backgroundColor:e.palette.mainColor,textAlign:"center",paddingTop:5,paddingBottom:5,fontWeight:800},patientInfo:{color:"black",padding:"11px 14px",marginLeft:5},gridBlock:{padding:"0px !important",marginTop:5,marginBottom:5}}})(Wt)),Vt=Object(ae.withStyles)({appBar:{boxShadow:"none"}})(function(e){var t=e.classes,a=Object(De.a)(e,["classes"]);return r.a.createElement(Le.a,{position:"static",className:t.appBar},r.a.createElement(Ct,a),r.a.createElement(Gt,a))}),zt=a(271),Yt=a(585),Qt=a.n(Yt),Xt=a(85),Kt=a.n(Xt),Jt=a(323),Zt=a.n(Jt),qt=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.popoverOpen=function(e){e.stopPropagation(),a.setState({anchorEl:e.currentTarget})},a.popoverClose=function(){a.setState({anchorEl:!1})},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.viewAction,o=t.checkRedirectUrl,l=this.state.anchorEl,i=Boolean(l);return r.a.createElement("div",{className:a.buttomBlock},r.a.createElement(Ot.a,{"aria-label":"View",onClick:function(e){return n(e)},className:a.viewButton},r.a.createElement(le.a,null,"View")),s()(wr,"redirectToPlugin",!1)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Zt.a,{className:a.arrowButton,onClick:function(t){return e.popoverOpen(t)}}),r.a.createElement(it.a,{open:i,classes:{paper:a.paper},anchorEl:l,onClose:function(){return e.popoverClose()},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(le.a,{className:a.link},"Orders"),r.a.createElement(Kt.a,null),r.a.createElement(le.a,{className:a.link},"Results"),r.a.createElement(Kt.a,null),r.a.createElement(le.a,{className:a.link,onClick:function(e){return o(e,"/vitalsigns")}},"Vitals"),r.a.createElement(Kt.a,null),r.a.createElement(le.a,{className:a.link,onClick:function(e){return o(e,"/problems")}},"Problems"))))}}]),t}(n.Component),_t=Object(ae.withStyles)(function(e){return{paper:{display:"block",width:100,height:"auto",margin:0,padding:10,borderRadius:0},buttomBlock:{display:"flex"},viewButton:{height:40,textTransform:"capitalize",border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,backgroundColor:e.isOldDesign?e.palette.paperColor:null,color:e.palette.secondaryMainColor+" !important",borderRadius:0,"& span p":{fontSize:16,color:e.isOldDesign?e.palette.secondaryMainColor:e.palette.viewButton}},arrowButton:{height:40,paddingLeft:0,paddingRight:0,borderTop:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,borderRight:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,borderBottom:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,borderRadius:0,color:e.palette.secondaryMainColor},link:{height:25,cursor:"pointer",paddingTop:5}}})(qt),$t=a(1214),ea=a(1213),ta=a(650),aa=a(325),na=a.n(aa),ra=a(1184),oa=a(587),la=a.n(oa),ia=Object(ae.withStyles)(function(e){return{saveButton:{display:"flex",alignItems:"flex-end",width:130,height:40,margin:8,backgroundColor:e.palette.secondaryMainColor,color:"white",border:"1px solid ".concat(e.palette.secondaryMainColor),borderRadius:e.isRectangleButtons?0:25,fontSize:16,fontWeight:800,padding:0,"& svg":{marginRight:5},"& span":{textTransform:"capitalize"},"&:hover":{backgroundColor:"white",color:e.palette.secondaryMainColor}}}})(function(e){var t=e.classes,a=Object(De.a)(e,["classes"]);return r.a.createElement(ra.a,Object.assign({"aria-label":"Complete",label:"Complete",icon:r.a.createElement(la.a,{className:t.icon}),className:t.saveButton},a))}),sa=Object(ae.withStyles)(function(e){return{listButton:{display:"flex",flexDirection:"row",width:110,height:40,margin:"8px !important",padding:0,color:e.palette.paperColor,backgroundColor:e.palette.dangerColor,border:"1px solid ".concat(e.palette.dangerColor),borderRadius:e.isRectangleButtons?0:25,fontSize:16,fontWeight:800,"&:hover":{color:e.palette.dangerColor,backgroundColor:e.palette.paperColor},"& svg":{marginRight:2},"& span":{textTransform:"capitalize"}},toolbar:{backgroundColor:e.palette.toolbarColor,display:"flex",flexDirection:"row",justifyContent:"flex-end"}}})(function(e){var t=e.classes,a=e.resourceUrl,n=e.history,o=Object(De.a)(e,["classes","resourceUrl","history"]);return r.a.createElement(ta.a,Object.assign({className:t.toolbar},o),r.a.createElement(Ee.a,{title:"Cancel",disableHoverListener:!0},r.a.createElement(be.a,{type:"button",className:t.listButton,onClick:function(){return n.push("/"+a)}},r.a.createElement(na.a,null),"Cancel")),r.a.createElement(ia,o))}),ca=Object(ae.withStyles)(function(e){return{fontAwesomeIcon:{color:e.isOldDesign?"".concat(e.palette.secondaryMainColor," !important"):"".concat(e.palette.paperColor," !important"),border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,paddingTop:4,paddingLeft:10,paddingRight:10,height:37,boxSizing:"border-box"}}})(function(e){var t=e.classes,a=e.iconClassName;return r.a.createElement("div",{className:t.fontAwesomeIcon},r.a.createElement("i",{className:a}))}),ua=Object(ae.withStyles)(function(e){return{blockTitle:{display:"flex",alignItems:"center",height:49,backgroundColor:e.palette.mainColor,paddingLeft:15},title:{color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,fontSize:18,fontWeight:700},emptyBlock:{flexGrow:1},expandBlockIcon:{height:35,paddingLeft:10,paddingRight:10,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,color:e.isOldDesign?e.palette.secondaryMainColor:e.palette.paperColor},createForm:{"& > div":{paddingTop:"0px !important",paddingLeft:10,paddingRight:10,border:"1px solid ".concat(e.palette.borderColor)}},customFormBlock:{backgroundColor:e.palette.paperColor,border:"1px solid ".concat(e.palette.borderColor)}}})(function(e){var t=e.classes,a=e.isCustom,n=e.resourceUrl,o=e.history,l=e.isListOpened,i=e.toggleListBlock,s=e.blockTitle,c=e.children,u=Object(De.a)(e,["classes","isCustom","resourceUrl","history","isListOpened","toggleListBlock","blockTitle","children"]);return r.a.createElement(re.a,{item:!0,xs:12,sm:l?6:12},r.a.createElement("div",{className:t.blockTitle},r.a.createElement(le.a,{className:t.title},s),r.a.createElement("div",{className:t.emptyBlock}),r.a.createElement(Ee.a,{title:l?"Expand":"Compress"},r.a.createElement(be.a,{onClick:function(e){return i(e)}},r.a.createElement(ca,{iconClassName:l?"fa fa-expand":"fa fa-compress"})))),a?r.a.createElement("div",{className:t.customFormBlock},c):r.a.createElement($t.a,u,r.a.createElement(ea.a,{className:t.createForm,toolbar:r.a.createElement(sa,{resourceUrl:n,history:o})},c)))}),da=a(1186),ma=a(1187),pa=a(1188),ha=[{id:"male",name:"Male"},{id:"female",name:"Female"}],ga=Object(ae.withStyles)({halfWidthBlock:{width:"auto !important"},halfWidth:{display:"inline-block",width:"50% !important"},labelBlock:{"& > div":{marginBottom:"0px !important"}}})(function(e){var t=e.classes,a=Object(De.a)(e,["classes"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(da.a,Object.assign({},a,{source:"prefix",label:"Preferred Name",fullWidth:!0})),r.a.createElement("div",{className:t.halfWidthBlock},r.a.createElement(da.a,{className:t.halfWidth,source:"firstName",label:"Name"}),r.a.createElement(da.a,{className:t.halfWidth,source:"lastName",label:"Surname"})),r.a.createElement(ma.a,{source:"birthDate",label:"Born",fullWidth:!0}),r.a.createElement(pa.a,{source:"gender",label:"Gender",choices:ha}),r.a.createElement(da.a,{source:"address",label:"Address",fullWidth:!0}),r.a.createElement("div",{className:t.halfWidthBlock},r.a.createElement(da.a,{className:t.halfWidth,source:"city",label:"City"}),r.a.createElement(da.a,{className:t.halfWidth,source:"district",label:"District"})),r.a.createElement("div",{className:t.halfWidthBlock},r.a.createElement(da.a,{className:t.halfWidth,source:"postCode",label:"Post Code"}),r.a.createElement(da.a,{className:t.halfWidth,source:"country",label:"Country"})),r.a.createElement(da.a,{source:"phone",label:"Telephone Number",fullWidth:!0}),r.a.createElement(da.a,{source:"nhsNumber",label:"NHS Number",fullWidth:!0}))}),ba=function(e){return r.a.createElement(ua,Object.assign({blockTitle:"Patient"},e),r.a.createElement(ga,null))},fa=a(1210),Ea=Object(ae.withStyles)(function(e){return{button:{display:"block",width:110,height:40,margin:"8px !important",padding:0,color:e.palette.paperColor,backgroundColor:e.palette.dangerColor,border:"1px solid ".concat(e.palette.dangerColor),borderRadius:e.isRectangleButtons?0:25,fontSize:16,fontWeight:800,"&:hover":{color:e.palette.dangerColor,backgroundColor:e.palette.paperColor}},icon:{paddingRight:5}}})(function(e){var t=e.classes,a=e.redirectTo;return r.a.createElement(Ee.a,{title:"Cancel"},r.a.createElement(be.a,{"aria-label":"Cancel",className:t.button,onClick:function(){return a("show")}},r.a.createElement(na.a,{className:t.icon})," Cancel"))}),ya=Object(ae.withStyles)(function(e){return{toolbar:{backgroundColor:e.palette.toolbarColor,display:"flex",flexDirection:"row",justifyContent:"flex-end"}}})(function(e){var t=e.classes,a=e.changeViewType,n=Object(De.a)(e,["classes","changeViewType"]);return r.a.createElement(ta.a,Object.assign({className:t.toolbar},n),r.a.createElement(Ea,{redirectTo:a}),r.a.createElement(ia,n))}),Ca=Object(ae.withStyles)(function(e){return{blockTitle:{display:"flex",alignItems:"center",height:49,color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,backgroundColor:e.palette.mainColor,paddingLeft:15},title:{color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,fontSize:18,fontWeight:700},emptyBlock:{flexGrow:1},expandBlockIcon:{height:35,paddingLeft:10,paddingRight:10,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,color:e.isOldDesign?e.palette.secondaryMainColor:e.palette.paperColor},editForm:{"& > div":{paddingTop:"0px !important",paddingLeft:10,paddingRight:10,border:"1px solid ".concat(e.palette.borderColor)}},customFormBlock:{backgroundColor:e.palette.paperColor,border:"1px solid ".concat(e.palette.borderColor)}}})(function(e){var t=e.classes,a=e.isCustom,n=e.isListOpened,o=e.blockTitle,l=e.toggleListBlock,i=e.children,s=e.changeViewType,c=Object(De.a)(e,["classes","isCustom","isListOpened","blockTitle","toggleListBlock","children","changeViewType"]);return r.a.createElement(re.a,{item:!0,xs:12,sm:n?6:12},r.a.createElement("div",{className:t.blockTitle},r.a.createElement(le.a,{className:t.title},o),r.a.createElement("div",{className:t.emptyBlock}),r.a.createElement(Ee.a,{title:n?"Expand":"Compress"},r.a.createElement(be.a,{onClick:function(e){return l(e)}},r.a.createElement(ca,{iconClassName:n?"fa fa-expand":"fa fa-compress"})))),a?r.a.createElement("div",{className:t.customFormBlock},i):r.a.createElement(fa.a,Object.assign({undoable:!1},c),r.a.createElement(ea.a,{className:t.editForm,toolbar:r.a.createElement(ya,{changeViewType:s})},i)))}),va=function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(Ca,Object.assign({blockTitle:"Patient"},t),r.a.createElement(ga,null))},Oa=a(1211),ka=a(1191),Na=a(133),Sa=a.n(Na),xa=a(135),wa=a.n(xa),ja=a(134),Ta=a.n(ja),Ia=a(93),Ra=a.n(Ia),Ba=a(601),Pa=a.n(Ba),Da=Object(ae.withStyles)(function(e){return{editButton:{display:"block",width:85,height:40,margin:8,padding:0,backgroundColor:"white",color:e.palette.secondaryMainColor,border:"1px solid ".concat(e.palette.secondaryMainColor),borderRadius:e.isRectangleButtons?0:25,fontSize:16,fontWeight:800,"&:hover":{backgroundColor:e.palette.secondaryMainColor,color:"white"}}}})(function(e){var t=e.classes,a=e.redirectTo;return r.a.createElement(Ee.a,{title:"Edit"},r.a.createElement(be.a,{"aria-label":"Edit",className:t.editButton,onClick:function(){return a("edit")}},r.a.createElement(Pa.a,null)," Edit"))}),Aa=I("EMERGENCY_SUMMARY_ACTION"),La=function(e,t){return{type:Aa.REQUEST,resource:e,patientId:t}},Ma=function(e){return{type:Aa.SUCCESS,data:e}},Ha=function(e){return{type:Aa.FAILURE,error:e}},Ua=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={isShowAll:!1},a.toggleShowAll=function(){a.setState({isShowAll:!a.state.isShowAll})},a.getShortRow=function(e){for(var t=[],a=0;a<4;a++){var n=e[a];t.push(n)}return t},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){this.props.list.length>4&&this.setState({isShowAll:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.list,o=t.title,l=t.isLoading,i=this.state.isShowAll,s=n.length>4?this.getShortRow(n):n;return r.a.createElement("div",{className:a.itemBlock},r.a.createElement(le.a,{variant:"h3"},o),l&&r.a.createElement(le.a,{className:a.blockContent},"Loading..."),i?r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{className:a.blockContent},n.join(", ")),n.length>4&&r.a.createElement(le.a,{className:a.showAll,onClick:function(){return e.toggleShowAll()}},"Hide")):r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{className:a.blockContent},s.join(", ")),n.length>4&&r.a.createElement(le.a,{className:a.showAll,onClick:function(){return e.toggleShowAll()}},"ShowAll")))}}]),t}(n.Component),Fa=Object(ae.withStyles)(function(e){return{expansionPanel:{height:"49px !important",border:"1px solid ".concat(e.palette.borderColor),"& > div":{minHeight:"49px !important"}},currentExpansionPanel:{margin:"0px !important",border:"1px solid ".concat(e.palette.borderColor),"& > div":{minHeight:"49px !important"}},expansionPanelSummary:{backgroundColor:e.palette.mainColor,paddingLeft:16,"& > div":{margin:"0px !important",marginTop:"0px",marginBottom:"0px"}},emptyBlock:{flexGrow:1},expandIcon:{height:35,paddingLeft:10,paddingRight:10,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,color:e.isOldDesign?e.palette.secondaryMainColor:e.palette.paperColor},expandBlockIcon:{height:35,paddingLeft:10,paddingRight:10,marginRight:35,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,color:e.isOldDesign?e.palette.secondaryMainColor:e.palette.paperColor},expansionTypography:{paddingTop:10,color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,fontSize:18,fontWeight:700},expansionPanelDetails:{display:"flex",flexDirection:"column",padding:0},itemBlock:{margin:10},blockContent:{marginTop:5},showAll:{color:e.palette.secondaryMainColor,fontWeight:800,cursor:"pointer"}}})(Ua),Wa=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={isPanelOpen:!0},a.togglePanel=function(){a.setState({isPanelOpen:!a.state.isPanelOpen})},a.getResourceList=function(e,t){var n=a.props.emergencySummary,r=s()(n,e,[]),o=[];return r.map(function(e){o.push(e[t])}),o},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id;e&&this.props.getEmergencySummary(e)}},{key:"componentWillReceiveProps",value:function(e,t){var a=this.props.id;e.id!==a&&this.props.getEmergencySummary(a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.currentData,o=t.id,l=(t.emergencySummary,t.history,t.isLoading),i=this.state.isPanelOpen,c=s()(n,o,null),u=this.getResourceList("allergies","cause"),d=this.getResourceList("medications","name"),m=this.getResourceList("problems","problem");return r.a.createElement(Sa.a,{className:i?a.currentExpansionPanel:a.expansionPanel,expanded:i,onChange:function(){return e.togglePanel()}},r.a.createElement(Ta.a,{className:a.expansionPanelSummary,expandIcon:r.a.createElement(Ra.a,{className:a.expandIcon})},r.a.createElement(le.a,{className:a.expansionTypography},"Emergency Summary")),i&&r.a.createElement(wa.a,{className:a.expansionPanelDetails},r.a.createElement("div",{className:a.itemBlock},r.a.createElement(le.a,{variant:"h3"},"Name"),r.a.createElement(le.a,{className:a.blockContent},s()(c,"firstName",null)," ",s()(c,"lastName",null))),r.a.createElement(Fa,{isLoading:l,list:m,title:"Diagnosis"}),r.a.createElement(Fa,{isLoading:l,list:d,title:"Medications"}),r.a.createElement(Fa,{isLoading:l,list:u,title:"Allergies"}),r.a.createElement("div",{className:a.itemBlock},r.a.createElement(le.a,{variant:"h3"},"Vitals"))))}}]),t}(n.Component),Ga=Object(ee.b)(function(e){return{emergencySummary:s()(e,"custom.emergencySummary.data",null),isLoading:s()(e,"custom.emergencySummary.loading",null)}},function(e){return{getEmergencySummary:function(t){e(La("allergies",t)),e(La("medications",t)),e(La("problems",t)),e(La("vitalsigns",t))}}})(Object(ae.withStyles)(function(e){return{expansionPanel:{height:"49px !important",border:"1px solid ".concat(e.palette.borderColor),"& > div":{minHeight:"49px !important"}},currentExpansionPanel:{margin:"0px !important",border:"1px solid ".concat(e.palette.borderColor),"& > div":{minHeight:"49px !important"}},expansionPanelSummary:{backgroundColor:e.palette.mainColor,paddingLeft:16,"& > div":{margin:"0px !important",marginTop:"0px",marginBottom:"0px"}},emptyBlock:{flexGrow:1},expandIcon:{height:35,paddingLeft:10,paddingRight:10,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,color:e.isOldDesign?e.palette.secondaryMainColor:e.palette.paperColor},expandBlockIcon:{height:35,paddingLeft:10,paddingRight:10,marginRight:35,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,color:e.isOldDesign?e.palette.secondaryMainColor:e.palette.paperColor},expansionTypography:{paddingTop:10,color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,fontSize:18,fontWeight:700},expansionPanelDetails:{display:"flex",flexDirection:"column",padding:0},itemBlock:{margin:10},blockContent:{marginTop:5},showAll:{color:e.palette.secondaryMainColor,fontWeight:800,cursor:"pointer"}}})(Wa)),Va=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={isMainPanelOpen:!0,isSystemInfoPanelOpen:!0},a.toggleMainPanel=function(){a.setState({isMainPanelOpen:!a.state.isMainPanelOpen})},a.toggleSystemInfoPanel=function(){a.setState({isSystemInfoPanelOpen:!a.state.isSystemInfoPanelOpen})},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.children,o=t.isListOpened,l=t.pageTitle,i=t.toggleListBlock,c=t.changeViewType,u=(t.isDateCreatedAbsent,t.isSystemInfoAbsent,Object(De.a)(t,["classes","children","isListOpened","pageTitle","toggleListBlock","changeViewType","isDateCreatedAbsent","isSystemInfoAbsent"])),d=this.state,m=d.isMainPanelOpen,p=d.isSystemInfoPanelOpen,h=s()(wr,"emergencySummaryPanel",!1);return r.a.createElement(re.a,{item:!0,xs:12,sm:o?6:12},r.a.createElement(Sa.a,{className:m?a.currentExpansionPanel:a.expansionPanel,expanded:m,onChange:function(){return e.toggleMainPanel()}},r.a.createElement(Ta.a,{className:a.expansionPanelSummary,expandIcon:r.a.createElement(Ra.a,{className:a.expandIcon})},r.a.createElement(le.a,{className:a.expansionTypography},l),r.a.createElement("div",{className:a.emptyBlock}),r.a.createElement("div",{title:o?"Expand":"Compress"},r.a.createElement(be.a,{onClick:function(e){return i(e)}},r.a.createElement(ca,{iconClassName:o?"fa fa-expand":"fa fa-compress"})))),m&&r.a.createElement(wa.a,{className:a.expansionPanelDetails},r.a.createElement(Oa.a,Object.assign({className:a.showDetails,title:l},u),r.a.createElement(ka.a,{className:a.showLayoutDetails},n)),r.a.createElement(Da,{redirectTo:c}))),r.a.createElement(Sa.a,{className:p?a.currentExpansionPanel:a.expansionPanel,expanded:p,onChange:function(){return e.toggleSystemInfoPanel()}},r.a.createElement(Ta.a,{className:a.expansionPanelSummary,expandIcon:r.a.createElement(Ra.a,{className:a.expandIcon})},r.a.createElement(le.a,{className:a.expansionTypography},"System Information")),p&&r.a.createElement(wa.a,{className:a.expansionPanelDetails},r.a.createElement(Oa.a,Object.assign({className:a.showDetails,title:l},u),r.a.createElement(ka.a,{className:a.showLayoutDetails},r.a.createElement(X.a,{className:a.labelBlock,label:"Source",source:"source"}))))),h&&r.a.createElement(Ga,this.props))}}]),t}(n.Component),za=Object(ae.withStyles)(function(e){return{expansionPanel:{height:"49px !important",border:"1px solid ".concat(e.palette.borderColor),"& > div":{minHeight:"49px !important"}},currentExpansionPanel:{margin:"0px !important",border:"1px solid ".concat(e.palette.borderColor),"& > div":{minHeight:"49px !important"}},expansionPanelSummary:{backgroundColor:e.palette.mainColor,paddingLeft:16,"& > div":{margin:"0px !important",marginTop:"0px",marginBottom:"0px"}},emptyBlock:{flexGrow:1},expandIcon:{height:35,paddingLeft:10,paddingRight:10,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,color:e.isOldDesign?e.palette.secondaryMainColor:e.palette.paperColor},expandBlockIcon:{height:35,paddingLeft:10,paddingRight:10,marginRight:35,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,color:e.isOldDesign?e.palette.secondaryMainColor:e.palette.paperColor},expansionTypography:{paddingTop:10,color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,fontSize:18,fontWeight:700},expansionPanelDetails:{display:"flex",flexDirection:"column",padding:0},showDetails:{padding:"10px 0","& > div":{boxShadow:"none"}},showLayoutDetails:{paddingTop:"0px !important",paddingLeft:10},labelBlock:{"& > div":{marginTop:0,marginBottom:0}}}})(Va),Ya=Object(ae.withStyles)({labelBlock:{"& > div":{marginTop:"0px !important",marginBottom:"0px !important"}}})(function(e){var t=e.classes,a=Object(De.a)(e,["classes"]);return r.a.createElement(za,Object.assign({pageTitle:"Patient"},a),r.a.createElement(X.a,{className:t.labelBlock,label:"Name",source:"firstName"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Surname",source:"lastName"}),r.a.createElement(K.a,{className:t.labelBlock,label:"Date of Birth",source:"birthDate"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Gender",source:"gender"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Address",source:"address"}),r.a.createElement(X.a,{className:t.labelBlock,label:"District",source:"district"}),r.a.createElement(X.a,{className:t.labelBlock,label:"City",source:"city"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Country",source:"country"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Telephone Number",source:"phone"}),r.a.createElement(X.a,{className:t.labelBlock,label:"NHS number",source:"nhsNumber"}))}),Qa=a(28),Xa=a.n(Qa),Ka=a(96),Ja=a.n(Ka),Za=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).isActiveRow=function(){var e=a.props,t=e.id,n=e.location,r=s()(n,"pathname",null),o=r?r.split("/"):[];return t===s()(o,[2],null)},a.getCurrentPage=function(){var e=a.props.location,t=1,n=s()(e,"search",null);n&&(t=new URLSearchParams(n).get("page"));return t},a.getUrl=function(){var e=a.props,t=e.id,n=e.basePath,r=a.getCurrentPage();return r>1?n+"/"+t+"?page="+r+"&perPage=10":n+"/"+t},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.record,n=e.history,o=e.children;if(!a)return null;var l=this.getUrl(),i=this.isActiveRow();return r.a.createElement(Ja.a,{className:i?t.tableRowActive:t.tableRow,key:a.id,onClick:function(){return n.push(l)}},o)}}]),t}(n.Component),qa=Object(ae.withStyles)(function(e){return{tableRow:{"&:hover":{backgroundColor:e.palette.secondaryMainColor+"!important",cursor:"pointer"},"&:hover td":{color:e.palette.paperColor}},tableRowActive:{backgroundColor:e.palette.secondaryMainColor+"!important","& td":{color:e.palette.paperColor}}}})(Za),_a="table",$a="chart",en="timeline",tn=a(149),an=a.n(tn),nn=a(218),rn=a.n(nn),on=function(e){function t(){return Object(J.a)(this,t),Object(q.a)(this,Object(_.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.open,n=e.handleClose,o=e.agreeAction,l=Object(De.a)(e,["classes","open","handleClose","agreeAction"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(an.a,Object.assign({open:a},l),r.a.createElement("div",{className:t.dialogBlock},r.a.createElement(le.a,{className:t.titleBlock},"Patient Access Disclaimer"),r.a.createElement(le.a,{className:t.description},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nec lobortis elit. Aenean mi nunc, feugiat ut aliquet non, iaculis vel tellus. Donec semper felis placerat, posuere nisi a, suscipit turpis. Integer sit amet lacus pellentesque, vestibulum libero id, sagittis nisi. Phasellus eleifend, neque eget vulputate semper, enim dui dictum neque, non iaculis felis augue at nunc."),r.a.createElement("div",{className:t.toolbar},r.a.createElement(Ot.a,{"aria-label":"Close",className:t.declineButton,onClick:function(){return n()}},"Decline"),r.a.createElement(Ot.a,{"aria-label":"Agree",className:t.agreeButton,onClick:function(){return o()}},"Agree")))))}}]),t}(n.Component),ln=Object(ae.withStyles)(function(e){var t;return{dialogBlock:(t={display:"flex",flexDirection:"column",justifyContent:"space-between"},Object(Me.a)(t,e.breakpoints.only("xs"),{padding:0}),Object(Me.a)(t,e.breakpoints.up("sm"),{minHeight:300,minWidth:500,marginBottom:10}),t),titleBlock:{display:"flex",flexDirection:"column",justifyContent:"center",height:48,paddingLeft:20,backgroundColor:e.palette.secondaryMainColor,color:e.palette.paperColor,fontSize:18,fontWeight:800},description:{padding:20,fontSize:15,textAlign:"justify"},toolbar:{display:"flex",flexDirection:"row",justifyContent:"flex-end",marginRight:15},agreeButton:{display:"block",width:140,height:40,margin:"8px !important",color:e.palette.paperColor,backgroundColor:e.palette.secondaryMainColor,borderRadius:e.isRectangleButtons?0:25,textTransform:"capitalize",fontSize:16,fontWeight:800,"&:hover":{color:e.palette.secondaryMainColor,backgroundColor:e.palette.paperColor,border:"1px solid ".concat(e.palette.secondaryMainColor)}},declineButton:{display:"block",width:140,height:40,margin:"8px !important",color:e.palette.paperColor,backgroundColor:e.palette.dangerColor,borderRadius:e.isRectangleButtons?0:25,textTransform:"capitalize",fontSize:16,fontWeight:800,"&:hover":{color:e.palette.dangerColor,backgroundColor:e.palette.paperColor,border:"1px solid ".concat(e.palette.dangerColor)}}}})(rn()({breakpoint:"xs"})(on)),sn=y+"/api/initialise/",cn={};cn.headers||(cn.headers=new Headers({Accept:"application/json"})),cn.headers={"X-Requested-With":"XMLHttpRequest"};var un=function e(t,a){var n=localStorage.getItem("patientId");fetch(sn+n,cn).then(function(e){return e.json()}).then(function(n){if("loading_data"!==s()(n,"status",null))return t(!0);var r=s()(n,"new_patient",!1);setTimeout(function(){return e(t,a)},r?5e3:1e3)})},dn=Object(ae.withStyles)({mainSpinner:{display:"block",position:"fixed",top:0,bottom:0,left:0,right:0,paddingTop:150,zIndex:9999,backgroundColor:"#fff",transition:"opacity 1s ease, visibility 1s ease, background 1s ease"},slidesAndRings:{display:"flex",flexDirection:"column",alignItems:"center",left:"50%",position:"absolute",transform:"translate(-50%, -50%)",marginLeft:"-100px"},tips:{overflow:"hidden",width:280,margin:"0 auto",position:"absolute",textAlign:"center",top:180,left:-40,fontFamily:"HK_Grotesk_Regular","& > p":{marginTop:10,marginBottom:10,fontSize:24}},"@keyframes slide":{"0%":{marginLeft:0},"9.91%":{marginLeft:0},"10.01%":{marginLeft:-280},"19.92%":{marginLeft:-280},"20.02%":{marginLeft:-560},"29.93%":{marginLeft:-560},"30.03%":{marginLeft:-840},"39.94%":{marginLeft:-840},"40.04%":{marginLeft:-1120},"49.95%":{marginLeft:-1120},"50.05%":{marginLeft:-1400},"59.96%":{marginLeft:-1400},"60.06%":{marginLeft:-1680},"69.97%":{marginLeft:-1680},"70.07%":{marginLeft:-1960},"79.98%":{marginLeft:-1960},"80.08%":{marginLeft:-2240},"89.99%":{marginLeft:-2240},"90.09%":{marginLeft:-2520},"100%":{marginLeft:-2520}},slideWrapper:{width:2800,WebkitAnimation:"slide 100.9s ease-out infinite",animation:"slide 100.9s ease-out infinite"},slide:{float:"left",width:280},slideNumber:{color:"#000",textAlign:"center",fontSize:14,"& h3":{fontFamily:'"HK Grotesk SemiBold", Arial, sans-serif',marginTop:10,marginBottom:10,fontSize:18}},"@keyframes rings":{"0%":{WebkitTransform:"rotate(0)",transform:"rotate(0)"},"100%":{WebkitTransform:"rotate(360deg)",transform:"rotate(360deg)"}},"@keyframes rings_reverse":{"0%":{WebkitTransform:"rotate(0)",transform:"rotate(0)"},"100%":{WebkitTransform:"rotate(-360deg)",transform:"rotate(-360deg)"}},rings:{position:"relative","& div":{position:"absolute",width:120,height:120,top:40,left:40,borderRadius:"50%",border:"10px solid #000",borderColor:"#1d3797 transparent #1d3797 transparent",WebkitAnimation:"rings 1s linear infinite",animation:"rings 1s linear infinite"},"& div:nth-child(2)":{width:96,height:96,top:52,left:52,borderColor:"transparent #cacaca transparent #cacaca",WebkitAnimation:"rings_reverse 1s linear infinite",animation:"rings_reverse 1s linear infinite"}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.mainSpinner},r.a.createElement("div",{className:t.slidesAndRings},E&&r.a.createElement("div",{className:t.tips},r.a.createElement(le.a,null,"Top Tips to a Healthy Life"),r.a.createElement("div",{className:t.slideWrapper},r.a.createElement("div",{className:t.slide},r.a.createElement("div",{className:t.slideNumber},r.a.createElement("h3",null,"Give up smoking"),r.a.createElement(le.a,null,"If you're a smoker, quit. It's the single best thing you can do for your heart health."),r.a.createElement(le.a,null,"Smoking is one of the main causes of coronary heart disease. A year after giving up, your risk of a heart attack falls to about half that of a smoker."),r.a.createElement(le.a,null,"You're more likely to stop smoking for good if you use NHS stop smoking services. Visit the Smokefree website or ask your GP for help with quitting."))),r.a.createElement("div",{className:t.slide},r.a.createElement("div",{className:t.slideNumber},r.a.createElement("h3",null,"Get active"),r.a.createElement(le.a,null,"Getting \u2013 and staying \u2013 active can reduce your risk of developing heart disease. It can also be a great mood booster and stress buster."),r.a.createElement(le.a,null,"Do 150 minutes of moderate-intensity aerobic activity every week. One way to achieve this target is by doing 30 minutes of activity on 5 days a week. Fit it in where you can, such as by cycling to work."))),r.a.createElement("div",{className:t.slide},r.a.createElement("div",{className:t.slideNumber},r.a.createElement("h3",null,"Manage your weight"),r.a.createElement(le.a,null,"Being overweight can increase your risk of heart disease. Stick to a healthy, balanced diet low in fat and sugar, with plenty of fruit and vegetables, combined with regular physical activity."),r.a.createElement(le.a,null,"Find out if you're a healthy weight with the BMI calculator. If you're overweight, try our 12-week NHS weight loss plan."))),r.a.createElement("div",{className:t.slide},r.a.createElement("div",{className:t.slideNumber},r.a.createElement("h3",null,"Eat more fibre"),r.a.createElement(le.a,null,"Eat plenty of fibre to help lower your risk of heart disease \u2013 aim for at least 30g a day."),r.a.createElement(le.a,null,"Eat fibre from a variety of sources, such as wholemeal bread, bran, oats and wholegrain cereals, potatoes with their skins on, and plenty of fruit and veg."))),r.a.createElement("div",{className:t.slide},r.a.createElement("div",{className:t.slideNumber},r.a.createElement("h3",null,"Cut down on saturated fat"),r.a.createElement(le.a,null,"Eating too many foods that are high in saturated fat can raise the level of cholesterol in your blood. This increases your risk of heart disease."),r.a.createElement(le.a,null,"Choose leaner cuts of meat and lower fat dairy products like 1% fat milk over full-fat (or whole) milk."))),r.a.createElement("div",{className:t.slide},r.a.createElement("div",{className:t.slideNumber},r.a.createElement("h3",null,"Get your 5 A Day"),r.a.createElement(le.a,null,"Eat at least 5 portions of a variety of fruit and vegetables a day. They're a good source of fibre, vitamins and minerals."),r.a.createElement(le.a,null,"There are lots of tasty ways to get your 5 A Day, like adding chopped fruit to cereal or including vegetables in your pasta sauces and curries."))),r.a.createElement("div",{className:t.slide},r.a.createElement("div",{className:t.slideNumber},r.a.createElement("h3",null,"Cut down on salt"),r.a.createElement(le.a,null,"To maintain healthy blood pressure, avoid using salt at the table and try adding less to your cooking. Once you get used to the taste of food without added salt, you can cut it out completely."),r.a.createElement(le.a,null,"Watch out for high salt levels in ready-made foods. Most of the salt we eat is already in the foods we buy. Check the food labels \u2013 a food is high in salt if it has more than 1.5g salt (or 0.6g sodium) per 100g."),r.a.createElement(le.a,null,"Adults should eat less than 6g of salt a day in total \u2013 that's about 1 teaspoon."))),r.a.createElement("div",{className:t.slide},r.a.createElement("div",{className:t.slideNumber},r.a.createElement("h3",null,"Eat Fish"),r.a.createElement(le.a,null,"Eat fish at least twice a week, including a portion of oily fish. Fish such as pilchards, sardines and salmon are a source of omega-3 fats, which may help protect against heart disease."),r.a.createElement(le.a,null,"Pregnant or breastfeeding women should not have more than 2 portions of oily fish a week."))),r.a.createElement("div",{className:t.slide},r.a.createElement("div",{className:t.slideNumber},r.a.createElement("h3",null,"Drink less alcohol"),r.a.createElement(le.a,null,"Do not forget that alcohol contains calories. Regularly drinking more than the NHS recommends can have a noticeable impact on your waistline."),r.a.createElement(le.a,null,"Try to keep to the recommended daily alcohol limits to reduce the risk of serious problems with your health, including risks to your heart health."))),r.a.createElement("div",{className:t.slide},r.a.createElement("div",{className:t.slideNumber},r.a.createElement("h3",null,"Read the food label"),r.a.createElement(le.a,null,"When shopping, it's a good idea to look at the label on food and drink packaging to see how many calories and how much fat, salt and sugar the product contains."),r.a.createElement(le.a,null,"Understanding what's in food and how it fits in with the rest of your diet will help you make healthier choices."))))),r.a.createElement("div",{className:t.rings},r.a.createElement("div",null),r.a.createElement("div",null))))});var mn=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null,loading:!1,redirectUrl:"/summary"},a.redirectWithoutPermission=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.stopPropagation(),a.redirectToSummary(t)},a.redirectToSummary=function(){var e=a.props.record,t=a.state.redirectUrl;localStorage.setItem("patientId",e.nhsNumber),a.setState({loading:!0}),new Promise(un).then(function(){a.props.updateCurrentPatient(e.nhsNumber),a.props.history.push(t),a.props.setSidebarVisibility(!0),a.setState({loading:!1})})},a.handleClick=function(e){e.stopPropagation(),a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:!1})},a.checkRedirectUrl=function(e,t){e.stopPropagation(),a.setState({redirectUrl:t,anchorEl:e.currentTarget})},a.isColumnHidden=function(e){return-1===a.props.hiddenColumns.indexOf(e)},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.record,n=(e.hiddenColumns,this.state),o=n.loading,l=n.anchorEl;if(!a)return null;if(o)return r.a.createElement(dn,null);var i=s()(wr,"patientSummaryPermission",!1),c=Boolean(l);return r.a.createElement(qa,this.props,r.a.createElement(Xa.a,{key:"".concat(a.id,"-name")},a.name),this.isColumnHidden("address")&&r.a.createElement(Xa.a,{key:"".concat(a.id,"-address")},a.totalAddress),r.a.createElement(Xa.a,{key:"".concat(a.id,"-gender")},a.gender),r.a.createElement(Xa.a,{key:"".concat(a.id,"-birthDate")},h()(a.birthDate).format("DD-MM-YYYY")),this.isColumnHidden("nhsNumber")&&r.a.createElement(Xa.a,{key:"".concat(a.id,"-nhsNumber")},a.nhsNumber),r.a.createElement(Xa.a,{className:t.viewButtonCell},r.a.createElement(_t,{viewAction:i?this.handleClick:this.redirectWithoutPermission,checkRedirectUrl:this.checkRedirectUrl})),r.a.createElement(ln,{anchorEl:l,open:c,handleClose:this.handleClose,agreeAction:this.redirectToSummary}))}}]),t}(n.Component),pn=Object(ee.b)(null,function(e){return{updateCurrentPatient:function(t){e(Dt(t))},setSidebarVisibility:function(t){e(Object(zt.e)(t))},removeHiddenColumns:function(){e(ke())}}})(mn),hn=a(27),gn=a.n(hn),bn=a(77),fn=a.n(bn),En=a(97),yn=a.n(En),Cn=Object(ae.withStyles)(function(e){return{root:{color:e.palette.disabledColor,"&$checked":{color:e.palette.disabledColor}},checked:{}}})(function(e){return r.a.createElement(yn.a,Object.assign({color:"default"},e))}),vn=Object(ae.withStyles)(function(e){return{root:{color:e.palette.secondaryMainColor,"&$checked":{color:e.palette.secondaryMainColor}},checked:{}}})(function(e){return r.a.createElement(yn.a,Object.assign({color:"default"},e))}),On=["name","address","born","gender","nhsNumber","ordersDate","resultsDate","vitalsDate","problemsDate","ordersCount","resultsCount","vitalsCount","problemsCount"],kn="patientInfo",Nn="dateTime",Sn="count",xn=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={patientInfo:!0,name:!0,gender:!0,born:!0,address:!0,nhsNumber:!0,dateTime:!1,vitalsDate:!1,problemsDate:!1,count:!1,vitalsCount:!1,problemsCount:!1},a.handleChange=function(e){var t=!a.state[e];a.setState(Object(Me.a)({},e,t),function(){return a.props.toggleColumn(e,t)})},a.toggleColumnIfHidden=function(e,t){var n=a.props.hiddenColumns;t&&-1!==n.indexOf(e)?a.props.toggleColumn(e,t):t||a.props.toggleColumn(e,t)},a.selectAll=function(e){var t=a.state,n=t.patientInfo,r=t.dateTime,o=t.count;if(e===kn){var l=!n;a.setState({patientInfo:l,address:l,nhsNumber:l}),a.toggleColumnIfHidden("address",l),a.toggleColumnIfHidden("nhsNumber",l)}if(e===Nn){var i=!r;a.setState({dateTime:i,vitalsDate:i,problemsDate:i}),a.toggleColumnIfHidden("vitalsDate",i),a.toggleColumnIfHidden("problemsDate",i)}if(e===Sn){var s=!o;a.setState({count:s,vitalsCount:s,problemsCount:s}),a.toggleColumnIfHidden("vitalsCount",s),a.toggleColumnIfHidden("problemsCount",s)}},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.hiddenColumns;On.map(function(a){t.length>0?e.setState(Object(Me.a)({},a,-1===t.indexOf(a))):e.setState({dateTime:!0,ordersDate:!0,resultsDate:!0,vitalsDate:!0,problemsDate:!0,count:!0,ordersCount:!0,resultsCount:!0,vitalsCount:!0,problemsCount:!0})})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.name,o=a.gender,l=a.born,i=a.address,s=a.nhsNumber,c=(a.ordersDate,a.resultsDate,a.vitalsDate),u=a.problemsDate,d=(a.ordersCount,a.resultsCount,a.vitalsCount),m=a.problemsCount;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(le.a,null,"PATIENT INFO"),r.a.createElement(Kt.a,null),r.a.createElement(gn.a,{row:!0},r.a.createElement(fn.a,{className:t.checkboxItem,control:r.a.createElement(Cn,{checked:n,onChange:function(){return e.handleChange("name")},value:"name",disabled:!0}),label:"Name"}),r.a.createElement(fn.a,{className:t.checkboxItem,control:r.a.createElement(Cn,{checked:o,onChange:function(){return e.handleChange("gender")},value:"gender",disabled:!0}),label:"Gender"}),r.a.createElement(fn.a,{className:t.checkboxItem,control:r.a.createElement(Cn,{checked:l,onChange:function(){return e.handleChange("born")},value:"born",disabled:!0}),label:"Born"})),r.a.createElement(gn.a,{row:!0},r.a.createElement(fn.a,{className:t.checkboxItem,control:r.a.createElement(vn,{checked:i,onChange:function(){return e.handleChange("address")},value:"address"}),label:"Address"}),r.a.createElement(fn.a,{className:t.checkboxItem,control:r.a.createElement(vn,{checked:s,onChange:function(){return e.handleChange("nhsNumber")},value:"nhsNumber"}),label:"NHS No."}),r.a.createElement(Ot.a,{onClick:function(){return e.selectAll(kn)},"aria-label":"Select All",className:t.selectAll},"Select all"))),r.a.createElement("div",null,r.a.createElement(le.a,null,"DATE / TIME"),r.a.createElement(Kt.a,null),r.a.createElement(gn.a,{row:!0}),r.a.createElement(gn.a,{className:t.formGroup,row:!0},r.a.createElement(fn.a,{className:t.checkboxItem,control:r.a.createElement(vn,{checked:c,onChange:function(){return e.handleChange("vitalsDate")},value:"vitalsDate"}),label:"Vitals"}),r.a.createElement(fn.a,{className:t.checkboxItem,control:r.a.createElement(vn,{checked:u,onChange:function(){return e.handleChange("problemsDate")},value:"problemsDate"}),label:"Problems"}),r.a.createElement(Ot.a,{onClick:function(){return e.selectAll(Nn)},"aria-label":"Select All",className:t.selectAll},"Select all"))),r.a.createElement("div",null,r.a.createElement(le.a,null,"COUNT"),r.a.createElement(Kt.a,null),r.a.createElement(gn.a,{row:!0}),r.a.createElement(gn.a,{className:t.formGroup,row:!0},r.a.createElement(fn.a,{className:t.checkboxItem,control:r.a.createElement(vn,{checked:d,onChange:function(){return e.handleChange("vitalsCount")},value:"vitalsCount"}),label:"Vitals"}),r.a.createElement(fn.a,{className:t.checkboxItem,control:r.a.createElement(vn,{checked:m,onChange:function(){return e.handleChange("problemsCount")},value:"problemsCount"}),label:"Problems"}),r.a.createElement(Ot.a,{onClick:function(){return e.selectAll(Sn)},"aria-label":"Select All",className:t.selectAll},"Select all"))))}}]),t}(n.Component),wn=Object(ee.b)(function(e){return{hiddenColumns:s()(e,"custom.toggleColumns.data.patients",[])}},null)(Object(ae.withStyles)(function(e){return{checkboxItem:{width:120},selectAll:{display:"block",border:"1px solid ".concat(e.palette.secondaryMainColor),height:"auto",width:120,boxSizing:"border-box",borderRadius:e.isRectangleButtons?0:25,color:e.palette.secondaryMainColor,"&:hover":{color:e.palette.paperColor,backgroundColor:e.palette.secondaryMainColor}},formGroup:{paddingTop:10,paddingBottom:10}}})(xn)),jn=a(613),Tn=a.n(jn),In=a(429),Rn=a(430),Bn=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={viewType:a.props.mode},a.changeViewType=function(e){a.setState({viewType:e})},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.show),a=e.edit,n=(Object(De.a)(e,["classes","show","edit"]),this.state.viewType),o=t,l=a;return"show"===n?r.a.createElement(o,Object.assign({changeViewType:this.changeViewType},this.props)):"edit"===n?r.a.createElement(l,Object.assign({changeViewType:this.changeViewType},this.props)):null}}]),t}(n.Component),Pn=a(651),Dn=a(1212),An=a(1206),Ln=Object(ae.withStyles)(function(e){return{emptyBlock:{display:"flex",flexDirection:"column",justifyContent:"center",height:48,backgroundColor:e.palette.paperColor,textAlign:"center",borderBottom:"1px solid ".concat(e.palette.borderColor),borderLeft:"1px solid ".concat(e.palette.borderColor),borderRight:"1px solid ".concat(e.palette.borderColor)}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.emptyBlock},r.a.createElement(le.a,null,"No Records found"))}),Mn=a(423),Hn=a.n(Mn),Un=a(431),Fn=a.n(Un),Wn={type:"light",mainColor:"#0D672F",secondaryMainColor:"#0D672F",tableHeadColor:"#c5e39f",dangerColor:"#da534f",viewButton:"#30ad57",disabledColor:"#e9e4e4",borderColor:"#e5e5e5",paperColor:"#fff",toolbarColor:"#e5e5e5",fontColor:"#000",topbarButton:"#757575",menuItemsColor:"#3E3E3E"},Gn={type:"dark",mainColor:"#000",secondaryMainColor:"#000",tableHeadColor:"#e8e8e8",dangerColor:"#000",viewButton:"#000",disabledColor:"#e9e4e4",borderColor:"#000",paperColor:"#fff",fontColor:"#000",toolbarColor:"#fff",background:"#fff",text:"#000",divider:"#000",topbarButton:"#000",menuItemsColor:"#000"};function Vn(e,t,a){var n=s()(jr,a,null),r=t;return n&&(r="url(".concat(n,") 0 0 repeat")),e?"#000":r}var zn=Hn()(function(e){var t=e?null:s()(jr,"backgroundImage",null),a=function(e){return e?Fn()(Gn,window.config.darkPalette):Fn()(Wn,window.config.lightPalette)}(e),n=s()(window,"config.isOldDesign",!1),r=s()(window,"config.isRectangleButtons",!1),o=s()(wr,"invertedTableHeaders",!1)?a.tableHeadColor:a.secondaryMainColor;return Object(ae.createMuiTheme)({palette:a,isOldDesign:n,isRectangleButtons:r,typography:{fontFamily:'"HK Grotesk Regular", Arial, sans-serif',fontSize:14},tableHeader:{tableHeaderBlock:{background:Vn(e,o,"tableHeaderImage")}},patientSummaryPanel:{container:{background:"url(".concat(t,")")},topBlock:{background:Vn(e,a.secondaryMainColor,"cardBackgroundImage")}},overrides:{MuiInput:{root:{border:"1px solid ".concat(a.borderColor)}},MuiList:{root:{backgroundColor:a.paperColor}},MuiPaper:{elevation1:{boxShadow:"none",backgroundColor:a.paperColor}},MuiTable:{root:{backgroundColor:a.paperColor,border:"1px solid ".concat(a.borderColor)}},MuiTableHead:{root:{backgroundColor:e?a.paperColor:a.borderColor,color:e?a.paperColor:a.fontColor}},MuiTableRow:{head:{height:48}},MuiTableCell:{head:{color:a.fontColor,fontSize:16,fontWeight:800},paddingNone:{paddingLeft:10}},MuiTypography:{root:{fontFamily:'"HK Grotesk SemiBold", Arial, sans-serif',fontSize:17},body1:{fontFamily:'"HK Grotesk Regular", Arial, sans-serif',fontSize:14},body2:{fontFamily:'"HK Grotesk SemiBold", Arial, sans-serif',fontSize:14},h3:{fontFamily:'"HK Grotesk SemiBold", Arial, sans-serif',fontSize:16}}}})}),Yn=a(335),Qn=a.n(Yn),Xn=Object(ae.withStyles)(function(e){return{createButton:{display:"block",width:100,height:40,margin:8,padding:0,backgroundColor:"white",color:e.palette.secondaryMainColor,border:"1px solid ".concat(e.palette.secondaryMainColor),borderRadius:e.isRectangleButtons?0:25,fontSize:16,fontWeight:800,"&:hover":{backgroundColor:e.palette.secondaryMainColor,color:"white"}}}})(function(e){var t=e.classes,a=e.history,n=e.redirectPath;return r.a.createElement(Ee.a,{title:"Create"},r.a.createElement(be.a,{"aria-label":"Create",className:t.createButton,onClick:function(){return a.push(n)}},r.a.createElement(Qn.a,null)," Create"))}),Kn=a(604),Jn=a.n(Kn),Zn=a(605),qn=a.n(Zn),_n=a(606),$n=a.n(_n),er=a(607),tr=a.n(er),ar=5,nr=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(o)))).state={page:1,showAll:!1},a.goToPage=function(e){a.setState({page:e},function(){var e=a.props,t=e.resourceUrl,n=e.history,r=e.itemsPerPage,o=a.state.page;n.push("/"+t+"?page="+o+"&perPage="+r)})},a.showAllButtons=function(){a.setState({showAll:!0})},a.getAllButtons=function(e,t,n){for(var o=[],l=function(e){o.push(r.a.createElement(Ot.a,{onClick:function(){return a.goToPage(e+1)},"aria-label":e+1,className:t===e+1?n.activeButton:n.button},e+1))},i=0;i<e;i++)l(i);return o},a.getDigitButtons=function(e,t,n){var o=[];if(e>ar){for(var l=Math.ceil(ar/2)-1,i=function(e){o.push(r.a.createElement(Ot.a,{onClick:function(){return a.goToPage(e+1)},"aria-label":e+1,className:t===e+1?n.activeButton:n.button},e+1))},s=0;s<l;s++)i(s);t===l&&o.push(r.a.createElement(Ot.a,{onClick:function(){return a.goToPage(t+1)},"aria-label":t+1,className:t===t+1?n.activeButton:n.button},t+1)),t>l&&t<e-l&&(t>l+1&&o.push(r.a.createElement(Ot.a,{className:n.button,onClick:function(){return a.showAllButtons()}},"...")),o.push(r.a.createElement(Ot.a,{onClick:function(){return a.goToPage(t+1)},"aria-label":t,className:n.activeButton},t)),o.push(r.a.createElement(Ot.a,{onClick:function(){return a.goToPage(t+1)},"aria-label":t+1,className:t===t+1?n.activeButton:n.button},t+1))),o.push(r.a.createElement(Ot.a,{className:n.button,onClick:function(){return a.showAllButtons()}},"...")),t===e-l&&o.push(r.a.createElement(Ot.a,{onClick:function(){return a.goToPage(t)},"aria-label":t,className:n.activeButton},t));var c=function(e){o.push(r.a.createElement(Ot.a,{onClick:function(){return a.goToPage(e+1)},"aria-label":e+1,className:t===e+1?n.activeButton:n.button},e+1))};for(s=e-l;s<e;s++)c(s)}else{var u=function(e){o.push(r.a.createElement(Ot.a,{onClick:function(){return a.goToPage(e+1)},"aria-label":e+1,className:t===e+1?n.activeButton:n.button},e+1))};for(s=0;s<e;s++)u(s)}return o},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.itemsPerPage,o=t.total,l=this.state,i=l.page,s=l.showAll,c=Math.ceil(o/n),u=s?this.getAllButtons(c,i,a):this.getDigitButtons(c,i,a);return r.a.createElement("div",{className:a.paginatorRoot},r.a.createElement(Ee.a,{title:"First page"},r.a.createElement(be.a,{onClick:function(){return e.goToPage(1)},className:a.button,disabled:1===i,"aria-label":"First page"},r.a.createElement(Jn.a,null))),r.a.createElement(Ee.a,{title:"Previous page"},r.a.createElement(be.a,{onClick:function(){return e.goToPage(i-1)},className:a.button,disabled:1===i,"aria-label":"Previous page"},r.a.createElement(qn.a,null))),u,r.a.createElement(Ee.a,{title:"Next page"},r.a.createElement(be.a,{onClick:function(){return e.goToPage(i+1)},className:a.button,disabled:i===c,"aria-label":"Next page"},r.a.createElement($n.a,null))),r.a.createElement(Ee.a,{title:"Last page"},r.a.createElement(be.a,{onClick:function(){return e.goToPage(c)},className:a.button,disabled:i===c,"aria-label":"Last page"},r.a.createElement(tr.a,null))))}}]),t}(n.Component),rr=Object(ae.withStyles)(function(e){return{paginatorRoot:{display:"flex",flexDirection:"row",backgroundColor:"#fff"},button:{display:"block",border:"1px solid ".concat(e.palette.borderColor),height:48,width:48,boxSizing:"border-box",borderRadius:0,color:e.palette.secondaryMainColor,"&:hover":{color:"white",backgroundColor:e.palette.secondaryMainColor}},activeButton:{display:"block",border:"1px solid ".concat(e.palette.borderColor),height:48,width:48,boxSizing:"border-box",borderRadius:0,color:"white",backgroundColor:e.palette.secondaryMainColor,"&:hover":{color:"white",backgroundColor:e.palette.secondaryMainColor}}}})(nr),or=Object(ae.withStyles)({paginationBlock:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:45}})(function(e){var t=e.classes,a=e.notCreate,n=e.isCreatePage,o=e.resourceUrl,l=e.createPath,i=e.history,s=e.total;return r.a.createElement("div",{className:t.paginationBlock},r.a.createElement(rr,{resourceUrl:o,history:i,itemsPerPage:10,total:s}),!n&&("top3Things"===o||"patients"===o)&&!a&&r.a.createElement(Xn,{history:i,redirectPath:l}))}),lr=function(e){var t=e.CustomRow,a=e.location,n=e.hiddenColumns,o=e.history,l=Object(De.a)(e,["CustomRow","location","hiddenColumns","history"]);return r.a.createElement(Pn.a,Object.assign({row:r.a.createElement(t,{location:a,hiddenColumns:n,history:o})},l))},ir=function(e){e.classes;var t=e.history,a=e.CustomRow,n=(e.CustomTableHead,e.hiddenColumns),o=e.location,l=Object(De.a)(e,["classes","history","CustomRow","CustomTableHead","hiddenColumns","location"]);return r.a.createElement(Dn.a,Object.assign({body:r.a.createElement(lr,{location:o,hiddenColumns:n,history:t,CustomRow:a})},l))},sr=function(e){var t=e.classes,a=e.location,n=e.hiddenColumns,o=e.isCustomDatagrid,l=e.children,i=e.history,s=e.CustomRow,c=e.CustomTableHead,u=Object(De.a)(e,["classes","location","hiddenColumns","isCustomDatagrid","children","history","CustomRow","CustomTableHead"]);return o?r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(ir,Object.assign({className:t.tableList,hiddenColumns:n,location:a,CustomRow:s,CustomTableHead:c,history:i},u),l)):r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(Dn.a,Object.assign({className:t.tableList,classes:{rowEven:t.rowEven,rowOdd:t.rowOdd}},u),l))};var cr=Object(ae.withStyles)(function(e){return{tableList:{whiteSpace:"nowrap","& thead":{"& tr th":{backgroundColor:e.palette.tableHeadColor+"!important",paddingLeft:10,borderLeft:e.isOldDesign?"0.5px solid ".concat(e.palette.borderColor):null,borderRight:e.isOldDesign?"0.5px solid ".concat(e.palette.borderColor):null}},"& tbody tr:hover":{backgroundColor:e.palette.secondaryMainColor+"!important","& td div button":{backgroundColor:e.palette.paperColor,color:e.palette.secondaryMainColor},"& td div svg":{backgroundColor:e.palette.paperColor,color:e.palette.secondaryMainColor}},"& tbody tr td":{borderLeft:e.isOldDesign?"0.5px solid ".concat(e.palette.borderColor):null,borderRight:e.isOldDesign?"0.5px solid ".concat(e.palette.borderColor):null},"& tbody tr:hover td span":{color:e.palette.paperColor}},tableWrapper:{overflowX:"auto"},rowEven:{backgroundColor:e.isOldDesign?e.palette.toolbarColor:e.palette.paperColor},rowOdd:{backgroundColor:e.palette.paperColor}}})(function(e){var t=e.classes,a=e.title,n=e.idsNumber,o=e.isDetailsPage,l=e.resourceUrl,i=e.notCreate,s=e.key,c=e.userSearch,u=e.userSearchID,d=e.userSearchType,m=e.userClinicalQuery,p=e.filterText,h=e.history,g=e.isCreatePage,b=e.createUrl,f=e.children,E=e.defaultSort,y=e.defaultSortOrder,C=E||"dateCreated",v=y||"DESC",O=function(e,t){var a=null;return e&&(a=e),t&&(a=t),a}(c,u),k=function(e,t,a,n){var r=null;return e&&(r="name"),t&&(r="id"),a&&(r=a),n&&(r="clinicalQuery"),r}(c,u,d,m);return r.a.createElement(An.a,Object.assign({resource:l,key:s,sort:{field:C,order:v},filter:{filterText:O&&"patients"===l?O:p,filterType:k,clinicalQuery:m},title:a,perPage:10,actions:null,bulkActions:!1,pagination:r.a.createElement(or,{notCreate:i,resourceUrl:l,history:h,isCreatePage:g,createPath:b})},e),0!==n||o?r.a.createElement(sr,Object.assign({classes:t,children:f,history:h},e)):r.a.createElement(Ln,null))}),ur=function(e){var t=e.chartBlock,a=Object(De.a)(e,["chartBlock"]),n=t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(n,a))},dr=function(e){var t=e.timelineBlock,a=Object(De.a)(e,["timelineBlock"]),n=t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(n,a))},mr=Object(ae.withStyles)(function(e){return{paper:{display:"block",width:150,height:"auto",margin:0,padding:10,borderRadius:0},label:{paddingLeft:10},icon:{paddingLeft:20,color:e.palette.secondaryMainColor}}})(function(e){var t=e.classes,a=e.open,n=e.anchorEl,o=e.handleClose,l=e.resourse,i=e.changeListMode,s=e.hasChart,c=e.hasTimetable;return r.a.createElement(it.a,{open:a,classes:{paper:t.paper},anchorEl:n,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement("div",null,r.a.createElement(le.a,null,"TABLES"),r.a.createElement(Kt.a,null),r.a.createElement(Ee.a,{title:"Table"},r.a.createElement(be.a,{className:t.icon,onClick:function(){return i(_a)}},r.a.createElement(se.a,null),r.a.createElement(le.a,{className:t.label},l)))),s&&r.a.createElement("div",null,r.a.createElement(le.a,null,"CHARTS"),r.a.createElement(Kt.a,null),r.a.createElement(Ee.a,{title:"Chart"},r.a.createElement(be.a,{className:t.icon,onClick:function(){return i($a)}},r.a.createElement(ue.a,null),r.a.createElement(le.a,{className:t.label},l)))),c&&r.a.createElement("div",null,r.a.createElement(le.a,null,"TIMELINES"),r.a.createElement(Kt.a,null),r.a.createElement(Ee.a,{title:"Timeline"},r.a.createElement(be.a,{className:t.icon,onClick:function(){return i(en)}},r.a.createElement(me.a,null),r.a.createElement(le.a,{className:t.label},l)))))}),pr=a(341),hr=a.n(pr),gr=a(612),br=a.n(gr),fr=Object(ae.withStyles)(function(e){return{paper:{display:"block",width:400,height:"auto",margin:0,padding:10,borderRadius:0}}})(function(e){var t=e.classes,a=e.open,n=e.anchorEl,o=e.handleClose,l=e.ColumnsTogglingPopover,i=e.toggleColumn;return r.a.createElement(it.a,{open:a,classes:{paper:t.paper},anchorEl:n,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(l,{toggleColumn:i}))}),Er=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.popoverOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.popoverClose=function(){a.setState({anchorEl:!1})},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.hasColumnsToggling,o=t.hiddenColumns,l=this.state.anchorEl;if(!n)return null;var i=Boolean(l);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{title:"Table"},r.a.createElement(be.a,{className:a.icon,onClick:function(t){return e.popoverOpen(t)}},r.a.createElement(hr.a,null),i?r.a.createElement(Zt.a,null):r.a.createElement(br.a,null))),r.a.createElement(fr,Object.assign({anchorEl:l,open:i,handleClose:this.popoverClose,hiddenColumns:o},this.props)))}}]),t}(n.Component),yr=Object(ae.withStyles)(function(e){return{icon:{color:e.isOldDesign?"".concat(e.palette.secondaryMainColor," !important"):"".concat(e.palette.paperColor," !important"),paddingLeft:10,paddingRight:10,marginRight:5,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,borderRadius:0,width:"auto",height:38}}})(Er),Cr=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={listMode:_a,anchorEl:null,isListOpened:!0,isFilterOpened:!1,filterText:null,userClinicalQuery:null,key:0,hiddenColumns:[]},a.getCreateUrl=function(){return"/"+a.props.resourceUrl+"/create"},a.getDetailsUrl=function(){return"/"+a.props.resourceUrl+"/:id"},a.isCreatePage=function(){return a.props.location.pathname===a.getCreateUrl()},a.toggleFilter=function(){a.setState({isFilterOpened:!a.state.isFilterOpened})},a.toggleListBlock=function(e){e.stopPropagation(),a.setState({isListOpened:!a.state.isListOpened})},a.isListPage=function(){return a.props.location.pathname==="/".concat(a.props.resourceUrl)||"/"===a.props.location.pathname},a.filterByText=function(e){a.setState({filterText:e.target.value,key:a.state.key+1})},a.filterByUserSearch=function(){a.setState(function(e,t){if(e.filterText!==t.userSearch)return{filterText:t.userSearch,key:a.state.key+1}})},a.filterByUserSearchId=function(){a.setState(function(e,t){if(e.filterText!==t.userSearchID)return{filterText:t.userSearchID,key:a.state.key+1}})},a.filterByUserSearchType=function(){a.setState(function(e,t){if(e.filterText!==t.userSearchValue)return{filterText:t.userSearchValue,key:a.state.key+1}})},a.filterByClinicalQuery=function(){a.setState(function(e,t){if(e.userClinicalQuery!==t.userClinicalQuery)return{userClinicalQuery:t.userClinicalQuery,key:a.state.key+1}})},a.hasNewItem=function(e,t,a,n,r){for(var o=!1,l=Object.values(s()(n,"currentData",{})),i=0,c=l.length;i<c;i++){var u=l[i];if("patients"===e&&s()(u,"isNew",!1)&&s()(u,"lastName",null)===r){o=!0;break}if("patients"!==e&&s()(u,"isNew",!1)){o=!0;break}}return o},a.getListModeIcon=function(){var e=a.state.listMode,t=se.a;return e===$a?t=ue.a:e===en&&(t=Tn.a),t},a.getContentBlock=function(){var e=a.state.listMode,t=cr;return e===$a?t=ur:e===en&&(t=dr),t},a.changeListMode=function(e){a.setState({listMode:e,anchorEl:!1})},a.popoverOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.popoverClose=function(){a.setState({anchorEl:!1})},a.toggleColumn=function(e,t){var n=a.props,r=n.resourceUrl,o=n.toggleColumnStore,l=n.updateTableHead,i=a.state.hiddenColumns,s=a.state.key;if(-1!==i.indexOf(e)){var c=i.indexOf(e);i.splice(c,1)}else i.push(e);s++,a.setState({hiddenColumns:i,key:s},function(){l(),o(r,e,t)})},a.getTitleForAdvancedSearh=function(e,t){console.log("userSearchType",e),console.log("userSearchValue",t);var a="";return"by_city"===e&&(a="Patients search by City: ".concat(t)),"advanced"===e&&(a=t.title),a},a.getTitleForClinicalSearh=function(e){var t="Patients Clinical Query: ",a=s()(e,"searchType",null),n=s()(e,"searchValue",null),r=s()(e,"gender",null),o=s()(e,"birthDate",null),l=s()(e,"maxAge",null),i=s()(e,"minAge",null);return a&&n&&(t+=" ".concat(a,": ").concat(n,", ")),r&&(t+=" gender: ".concat(r,", ")),o&&(t+=" birthdate: ".concat(o,", ")),l&&i&&(t+=" age: ".concat(i,"-").concat(l,", ")),t},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.resourceUrl,a=e.toggleColumnStore,n=e.defaultHiddenColumns;n&&n.map(function(e){a(t,e,!1)}),this.setState({hiddenColumns:n}),n&&this.props.updateTableHead()}},{key:"componentWillReceiveProps",value:function(e,t){var a=Object.values(s()(e,"currentList",{})),n=Object.values(s()(this.props,"currentList",{})),r=s()(e,"userSearch",null),o=s()(e,"resource",null),l=this.hasNewItem(o,a,n,e,r);1===a.length&&0===n.length&&l&&this.setState({key:this.state.key+1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.create,n=t.resourceUrl,o=t.title,l=t.classes,i=t.history,s=t.userSearch,c=t.userSearchID,u=t.userSearchType,d=t.userSearchValue,m=t.userClinicalQuery,p=t.headerFilterAbsent,h=t.currentList,g=t.hasChart,b=t.hasTimetable,f=t.isCustomDatagrid,E=this.state,y=E.isFilterOpened,C=E.isListOpened,v=E.anchorEl,O=E.hiddenColumns,k=E.key,N=E.filterText,S=[{url:"/"+n,title:o,isActive:!1}],x=a,w=this.getCreateUrl(),j=o;s&&(j="Patients matching '".concat(s,"'"),this.filterByUserSearch()),c&&(j="Patients with ID: '".concat(c,"'"),this.filterByUserSearchId()),u&&d&&(j=this.getTitleForAdvancedSearh(u,d),this.filterByUserSearchType()),m&&(j=this.getTitleForClinicalSearh(m),this.filterByClinicalQuery());var T=Object.values(h),I=T.length>0?T.length:0,R=this.getListModeIcon(),B=this.getContentBlock(),P=Boolean(v);return r.a.createElement("div",{className:l.container},r.a.createElement(Ie,{resource:S}),r.a.createElement(re.a,{container:!0,spacing:16,className:l.mainBlock},C&&r.a.createElement(re.a,{className:l.list,item:!0,xs:12,sm:this.isListPage()?12:6},r.a.createElement("div",{className:l.headerBlock},r.a.createElement("div",{className:l.blockTitle},r.a.createElement(le.a,{className:l.title},j),r.a.createElement("div",{className:l.emptyBlock}),!this.isListPage()&&r.a.createElement(Ee.a,{title:"Expand"},r.a.createElement(be.a,{onClick:function(){return i.push("/"+n)}},r.a.createElement(ca,{iconClassName:"fa fa-expand"}))),r.a.createElement(yr,Object.assign({hiddenColumns:O,toggleColumn:this.toggleColumn},this.props)),(g||b)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{title:"Table"},r.a.createElement(be.a,{onClick:function(t){return e.popoverOpen(t)}},r.a.createElement(R,{className:l.listModeIcon}))),r.a.createElement(mr,{anchorEl:v,open:P,changeListMode:this.changeListMode,handleClose:this.popoverClose,resourse:o,hasChart:g,hasTimetable:b})),!p&&r.a.createElement(Ee.a,{title:"Search"},r.a.createElement(be.a,{onClick:function(){return e.toggleFilter()}},r.a.createElement(In.FontAwesomeIcon,{icon:Rn.faFilter,className:l.filterIcon,size:"1x"})))),y&&r.a.createElement("div",{className:l.filterBlock},r.a.createElement(he.a,{className:l.filterInput,elevation:1},r.a.createElement(In.FontAwesomeIcon,{icon:Rn.faFilter,className:l.filterInputIcon,size:"1x"}),r.a.createElement("input",{className:l.inputBlock,onChange:function(t){return e.filterByText(t)},placeholder:"Filter..."})))),(N===s||N===c||N===d||this.state.userClinicalQuery===this.props.userClinicalQuery)&&r.a.createElement(B,Object.assign({key:k,filterText:N,hiddenColumns:O,createUrl:w,idsNumber:I,isCustomDatagrid:f,history:i},this.props))),this.isCreatePage()?r.a.createElement(te.a,{path:w,render:function(t){var a=t.match;return r.a.createElement(x,Object.assign({isListOpened:C,toggleListBlock:e.toggleListBlock,id:a.params.id},e.props))}}):r.a.createElement(te.a,{path:this.getDetailsUrl(),render:function(t){var a=t.match;return r.a.createElement(Bn,Object.assign({mode:"show",isListOpened:C,toggleListBlock:e.toggleListBlock},e.props,{id:a.params.id}))}})))}}]),t}(n.Component),vr=Object(ee.b)(function(e,t){return{userSearch:s()(e,"custom.userSearch.data",null),userSearchID:s()(e,"custom.userSearch.id",null),userSearchType:s()(e,"custom.userSearch.type",null),userSearchValue:s()(e,"custom.userSearch.value",null),userClinicalQuery:s()(e,"custom.clinicalQuery.data",null),currentList:s()(e,"admin.resources["+t.resource+"].list.ids",[]),currentData:s()(e,"admin.resources["+t.resource+"].data",[])}},function(e){return{toggleColumnStore:function(t,a,n){e(Oe(t,a,n))}}})(Object(ae.withStyles)(function(e){return{container:{width:"100%",height:"100%",background:e.patientSummaryPanel.container.background,backgroundSize:"cover"},mainBlock:{width:"100%",margin:0,padding:10,border:"1px solid ".concat(e.palette.borderColor)},list:{paddingLeft:0},blockTitle:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:49,color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,backgroundColor:e.palette.mainColor,fontSize:18,fontWeight:700,paddingLeft:15,paddingRight:10},emptyBlock:{flexGrow:1},title:{color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,backgroundColor:e.palette.mainColor,fontSize:18,fontWeight:700},filterIcon:{color:e.isOldDesign?"".concat(e.palette.secondaryMainColor," !important"):"".concat(e.palette.paperColor," !important"),paddingLeft:10,paddingRight:10,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,height:35},listModeIcon:{color:e.isOldDesign?"".concat(e.palette.secondaryMainColor," !important"):"".concat(e.palette.paperColor," !important"),paddingLeft:10,paddingRight:10,marginRight:5,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,height:35},filterInput:{display:"flex",flexDirection:"row",alignItems:"center",padding:5,backgroundColor:"".concat(e.palette.mainColor," !important"),borderRadius:0,boxShadow:"none","& button":{color:"#fff"}},filterInputIcon:{color:e.palette.fontColor,marginLeft:5,marginBottom:10},inputBlock:{width:"calc(100% - 60px)",borderRadius:e.isOldDesign?0:18,height:36,border:e.isOldDesign?"1px solid ".concat(e.palette.disabledColor):0,backgroundColor:e.isOldDesign?e.palette.paperColor:e.palette.disabledColor,paddingLeft:5,marginLeft:10,marginBottom:10}}})(Cr)),Or=["ordersDate","resultsDate","vitalsDate","problemsDate","ordersCount","resultsCount","vitalsCount","problemsCount"],kr=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={key:0},a.updateTableHead=function(){a.setState({key:a.state.key+1})},a.isColumnHidden=function(e){return-1===a.props.hiddenColumns.indexOf(e)},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){this.props.setSidebarVisibility(!1)}},{key:"componentWillReceiveProps",value:function(e,t){this.props.getPatientsCounts,s()(t,"patientsIds",[]),s()(e,"patientsIds",[]),s()(wr,"isPatientListCount",!1)}},{key:"render",value:function(){var e=this.props,t=e.userSearch,a=e.userSearchID,n=e.userSearchType,o=e.userClinicalQuery,l=e.userSearchValue,i=e.classes;return t||a||n||l||o?r.a.createElement(r.a.Fragment,null,r.a.createElement(vr,Object.assign({basePath:"/patients",create:ba,edit:va,show:Ya,resourceUrl:"patients",title:"Patients List",headerFilterAbsent:!0,CustomRow:pn,isCustomDatagrid:!0,ColumnsTogglingPopover:wn,hasColumnsToggling:s()(wr,"patientListColumnToggling",!1),updateTableHead:this.updateTableHead,defaultHiddenColumns:Or},this.props),r.a.createElement(X.a,{source:"name",label:"Name"}),this.isColumnHidden("address")&&r.a.createElement(X.a,{source:"totalAddress",label:"Address"}),r.a.createElement(X.a,{source:"gender",label:"Gender"}),r.a.createElement(K.a,{source:"birthDate",label:"Born"}),this.isColumnHidden("nhsNumber")&&r.a.createElement(X.a,{source:"nhsNumber",label:"NHS No."}),r.a.createElement(_t,null))):r.a.createElement("div",{className:i.content},r.a.createElement("div",{className:i.imageBlock},r.a.createElement(Ue.a,{className:i.image,component:"img",alt:"NHS Scotland",image:Qt.a})))}}]),t}(n.Component),Nr=Object(ee.b)(function(e){return{userSearch:s()(e,"custom.userSearch.data",null),userSearchID:s()(e,"custom.userSearch.id",null),userSearchType:s()(e,"custom.userSearch.type",null),userSearchValue:s()(e,"custom.userSearch.value",null),userClinicalQuery:s()(e,"custom.clinicalQuery.data",null),hiddenColumns:s()(e,"custom.toggleColumns.data.patients",[]),patientsIds:s()(e,"admin.resources.patients.list.ids",[])}},function(e){return{setSidebarVisibility:function(t){e(Object(zt.e)(t))}}})(Object(ae.withStyles)(function(e){return{content:{width:"100%",height:"100%",backgroundImage:e.patientSummaryPanel.container.background,backgroundSize:"cover",backgroundPosition:"center"},imageBlock:{display:"flex",flexDirection:"row",justifyContent:"center",marginTop:"10%"},image:{width:"30%",height:"30%"},labelWithIcon:{marginBottom:10},icon:{marginTop:5,marginLeft:5}}})(kr)),Sr=[{url:"/patients",label:"Patients"}],xr=[{url:"/summary",label:"Patient Summary"},{url:"/problems",label:"Problems / Issues"},{url:"/medications",label:"Medications"},{url:"/vaccinations",label:"Vaccinations"},{url:"/allergies",label:"Allergies"},{url:"/contacts",label:"Contacts"},{url:"/top3Things",label:"About Me"}],wr={topbar:Vt,homePage:Nr,isFooterAbsent:!0},jr={backgroundImage:Pe.a},Tr=I("SYNOPSIS_TOP_THREE_THINGS_ACTION"),Ir=I("SYNOPSIS_VACCINATIONS_ACTION"),Rr={request:function(e){return{type:Tr.REQUEST,data:e}},success:function(e){return{type:Tr.SUCCESS,data:e}},error:function(e){return{type:Tr.FAILURE,error:e}}},Br={request:function(e){return{type:Ir.REQUEST,data:e}},success:function(e){return{type:Ir.SUCCESS,data:e}},error:function(e){return{type:Ir.FAILURE,error:e}}},Pr=[Br,Rr],Dr=[{id:"block-vaccinations",title:"Vaccinations",list:"vaccinations",icon:Ce.i,isActive:!0,isSynopsis:!0,description:"A record of the immunisations/vaccines you have had to help you avoid ill health"},{id:"block-top3Things",title:"Top Three Things",list:"top3Things",icon:Ce.j,isActive:!0,isSynopsis:!0,description:"A place to record the top 3 issues that concern you today"}],Ar=[{id:"block-problems",title:"Problems / Issues",list:"problems",icon:Ce.f,isActive:!0,isSynopsis:!0,description:"The key problems that affect your health, some with clear diagnoses from your doctor"},{id:"block-medications",title:"Medications",list:"medications",icon:Ce.b,isActive:!0,isSynopsis:!0,description:"The medical tablets and other medications that you take regularly for your health care"},{id:"block-allergies",title:"Allergies",list:"allergies",icon:Ce.a,isActive:!0,isSynopsis:!0,description:"Those things that your body reacts against, that you have an allergy to"},{id:"block-contacts",title:"Contacts",list:"contacts",icon:Ce.g,isActive:!0,isSynopsis:!0,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}].concat(Dr),Lr=Ar.filter(function(e){return e.isActive}),Mr="headingAndList",Hr=[{type:"heading",label:"Headings"},{type:Mr,label:"Headings + List"}];function Ur(){var e=[];return Lr.forEach(function(t){e.push(t.list)}),s()(wr,"respectPanel",!1)&&e.push("respect"),e}function Fr(e){var t={};return Lr.forEach(function(a){var n=a.list+"Synopsis";t[a.list]=s()(e,["custom",n,"data"],[])}),t}var Wr=s()(wr,"invertedTableHeaders",!1);var Gr=Object(ae.withStyles)(function(e){return{tableHeaderBlock:{display:"flex",flexDirection:"row",justifyContent:"flex-start",background:e.tableHeader.tableHeaderBlock.background,backgroundSize:"cover",color:e.palette.paperColor,padding:15},mainHeader:{margin:0},title:{marginTop:0,color:Wr?e.palette.fontColor:e.palette.paperColor,fontSize:24,fontWeight:800},description:{color:Wr?e.palette.fontColor:e.palette.paperColor,fontSize:15},icon:{color:e.palette.mainColor,marginRight:15}}})(Object(Re.a)(function(e){var t=e.classes,a=e.resource,n=(e.translate,function(e){for(var t=null,a=0,n=Ar.length;a<n;a++){var r=Ar[a];if(r.list===e){t=r;break}}return t}(a)),o=s()(n,"title",null),l=s()(n,"description",null),i=s()(n,"icon",null);return r.a.createElement("div",{className:t.tableHeaderBlock},Wr&&i&&r.a.createElement(ye.a,{icon:i,size:"3x",className:t.icon}),r.a.createElement("div",null,r.a.createElement("h1",{className:t.mainHeader},r.a.createElement(le.a,{className:t.title},o)),r.a.createElement(le.a,{className:t.description},l)))})),Vr=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={listMode:_a,anchorEl:null,isListOpened:!0,isFilterOpened:!1,filterText:null,key:0,hiddenColumns:[]},a.getCreateUrl=function(){var e=null,t=s()(a.props,"location.search",null);t&&(e=new URLSearchParams(t).get("page"));var n="/"+a.props.resourceUrl+"/create";return e?n+"?page="+e+"&perPage=10":n},a.getDetailsUrl=function(){return"/"+a.props.resourceUrl+"/:id"},a.isCreatePage=function(){var e="/"+a.props.resourceUrl+"/create";return a.props.location.pathname===e},a.toggleFilter=function(){a.setState({isFilterOpened:!a.state.isFilterOpened})},a.toggleListBlock=function(e){e.stopPropagation(),a.setState({isListOpened:!a.state.isListOpened})},a.isListPage=function(){return a.props.location.pathname==="/".concat(a.props.resourceUrl)||"/"===a.props.location.pathname},a.filterByText=function(e){a.setState({filterText:e.target.value,key:a.state.key+1})},a.hasNewItem=function(e,t,a,n,r){for(var o=!1,l=Object.values(s()(n,"currentData",{})),i=0,c=l.length;i<c;i++){var u=l[i];if("patients"!==e&&s()(u,"isNew",!1)){o=!0;break}}return o},a.getListModeIcon=function(){var e=a.state.listMode,t=se.a;return e===$a?t=ue.a:e===en&&(t=me.a),t},a.getContentBlock=function(){var e=a.state.listMode,t=cr;return e===$a?t=ur:e===en&&(t=dr),t},a.changeListMode=function(e){a.setState({listMode:e,anchorEl:!1})},a.popoverOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.popoverClose=function(){a.setState({anchorEl:!1})},a.toggleColumn=function(e,t){var n=a.props,r=n.resourceUrl,o=n.toggleColumnStore,l=n.updateTableHead,i=a.state.hiddenColumns,s=a.state.key;if(-1!==i.indexOf(e)){var c=i.indexOf(e);i.splice(c,1)}else i.push(e);s++,a.setState({hiddenColumns:i,key:s},function(){l(),o(r,e,t)})},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.resourceUrl,a=e.isChartDefault,n=e.toggleColumnStore,r=e.defaultHiddenColumns;a&&this.setState({listMode:$a}),r&&r.map(function(e){n(t,e,!1)}),this.setState({hiddenColumns:r}),r&&this.props.updateTableHead()}},{key:"componentWillReceiveProps",value:function(e,t){var a=Object.values(s()(e,"currentList",{})),n=Object.values(s()(this.props,"currentList",{})),r=s()(e,"userSearch",null),o=s()(e,"resource",null),l=this.hasNewItem(o,a,n,e,r);1===a.length&&0===n.length&&l&&this.setState({key:this.state.key+1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.create,n=t.resourceUrl,o=t.title,l=t.classes,i=t.history,s=t.notCreate,c=t.headerFilterAbsent,u=t.currentList,d=t.hasChart,m=t.hasTimetable,p=t.isCustomDatagrid,h=this.state,g=h.isFilterOpened,b=h.isListOpened,f=h.anchorEl,E=h.hiddenColumns,y=h.key,C=h.filterText,v=[{url:"/"+n,title:o,isActive:!1}],O=a,k=this.getCreateUrl(),N="/"+this.props.resourceUrl+"/create",S=o,x=Object.values(u),w=x.length>0?x.length:0,j=this.getListModeIcon(),T=this.getContentBlock(),I=Boolean(f),R=!this.isListPage();return r.a.createElement("div",{className:l.container},r.a.createElement(Ie,{resource:v}),r.a.createElement(Gr,{resource:n}),r.a.createElement(re.a,{container:!0,spacing:16,className:l.mainBlock},b&&r.a.createElement(re.a,{className:l.list,item:!0,xs:12,sm:this.isListPage()?12:6},r.a.createElement("div",{className:l.headerBlock},r.a.createElement("div",{className:l.blockTitle},r.a.createElement(le.a,{className:l.title},S),r.a.createElement("div",{className:l.emptyBlock}),!this.isListPage()&&r.a.createElement(Ee.a,{title:"Expand"},r.a.createElement(be.a,{onClick:function(){return i.push("/"+n)}},r.a.createElement(ca,{iconClassName:"fa fa-expand"}))),r.a.createElement(yr,Object.assign({hiddenColumns:E,toggleColumn:this.toggleColumn},this.props)),(d||m)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{title:"Table"},r.a.createElement(be.a,{onClick:function(t){return e.popoverOpen(t)}},r.a.createElement(j,{className:l.listModeIcon}))),r.a.createElement(mr,{anchorEl:f,open:I,changeListMode:this.changeListMode,handleClose:this.popoverClose,resourse:o,hasChart:d,hasTimetable:m})),!c&&r.a.createElement(Ee.a,{title:"Search"},r.a.createElement(be.a,{onClick:function(){return e.toggleFilter()}},r.a.createElement(ye.a,{icon:Ce.e,className:l.filterIcon,size:"1x"})))),g&&r.a.createElement("div",{className:l.filterBlock},r.a.createElement(he.a,{className:l.filterInput,elevation:1},r.a.createElement(ye.a,{icon:Ce.e,className:l.filterInputIcon,size:"1x"}),r.a.createElement("input",{className:l.inputBlock,onChange:function(t){return e.filterByText(t)},placeholder:"Filter..."})))),r.a.createElement(T,Object.assign({key:y,filterText:C,hiddenColumns:E,createUrl:k,idsNumber:w,isCustomDatagrid:p,history:i,notCreate:s,isDetailsPage:R},this.props))),this.isCreatePage()?r.a.createElement(te.a,{path:N,render:function(t){var a=t.match;return r.a.createElement(O,Object.assign({isListOpened:b,toggleListBlock:e.toggleListBlock,id:a.params.id},e.props))}}):r.a.createElement(te.a,{path:this.getDetailsUrl(),render:function(t){var a=t.match;return r.a.createElement(Bn,Object.assign({mode:"show",isListOpened:b,toggleListBlock:e.toggleListBlock},e.props,{id:a.params.id}))}})))}}]),t}(n.Component),zr=Object(ee.b)(function(e,t){return{currentList:s()(e,"admin.resources["+t.resource+"].list.ids",[]),currentData:s()(e,"admin.resources["+t.resource+"].data",[])}},function(e){return{toggleColumnStore:function(t,a,n){e(Oe(t,a,n))}}})(Object(ae.withStyles)(function(e){return{container:{width:"100%",height:"100%",background:e.patientSummaryPanel.container.background,backgroundSize:"cover"},mainBlock:{width:"100%",margin:0,padding:10,border:"1px solid ".concat(e.palette.borderColor)},list:{paddingLeft:0},blockTitle:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:49,color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,backgroundColor:e.palette.mainColor,fontSize:18,fontWeight:700,paddingLeft:15,paddingRight:10},emptyBlock:{flexGrow:1},title:{color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,backgroundColor:e.palette.mainColor,fontSize:18,fontWeight:700},filterIcon:{color:e.isOldDesign?"".concat(e.palette.secondaryMainColor," !important"):"".concat(e.palette.paperColor," !important"),paddingLeft:10,paddingRight:10,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,height:35},listModeIcon:{color:e.isOldDesign?"".concat(e.palette.secondaryMainColor," !important"):"".concat(e.palette.paperColor," !important"),paddingLeft:10,paddingRight:10,marginRight:5,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,height:35},filterInput:{display:"flex",flexDirection:"row",alignItems:"center",padding:5,backgroundColor:"".concat(e.palette.mainColor," !important"),borderRadius:0,boxShadow:"none","& button":{color:"#fff"}},filterInputIcon:{color:e.palette.paperColor,marginLeft:5,marginBottom:10},inputBlock:{width:"calc(100% - 60px)",borderRadius:e.isOldDesign?0:18,height:36,border:e.isOldDesign?"1px solid ".concat(e.palette.disabledColor):0,backgroundColor:e.isOldDesign?e.palette.paperColor:e.palette.disabledColor,paddingLeft:5,marginLeft:10,marginBottom:10}}})(Vr)),Yr=a(1196),Qr=function(e){return{customRoot:{padding:0,border:"none"},formGroup:{paddingLeft:10,paddingRight:10,boxSizing:"border-box","& div div input":{marginTop:5,border:"1px solid #a8a9a9"},"& div div textarea":{marginTop:5,border:"1px solid #a8a9a9"}},customFormLabel:{display:"block",fontWeight:800,color:e.palette.fontColor,fontSize:18,marginBottom:15},customInput:{borderRadius:0,backgroundColor:e.palette.paperColor,border:"none",height:25,paddingLeft:10,paddingTop:2,paddingBottom:2},customTextarea:{borderRadius:0,backgroundColor:e.palette.paperColor,border:"none",height:60,paddingLeft:10,paddingTop:5,paddingBottom:5},customSelector:{borderRadius:0,backgroundColor:e.palette.paperColor,border:"1px solid #a8a9a9",paddingLeft:10,marginTop:5,paddingTop:5,paddingBottom:5}}},Xr=Object(ae.withStyles)(Qr)(function(e){var t=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"cause",label:"Cause",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(Yr.a,{source:"reaction",label:"Reaction / Description",rows:20,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customTextarea}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"causeCode",label:"Terminology",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"causeTerminology",label:"Terminology Code",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"author",label:"Author",defaultValue:localStorage.getItem("username"),disabled:!0,fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(ma.a,{className:t.labelBlock,source:"dateCreated",label:"Date",defaultValue:h()().format("MM/DD/YYYY"),disabled:!0,fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})))}),Kr=function(e){return r.a.createElement(ua,Object.assign({blockTitle:"Allergy"},e),r.a.createElement(Xr,null))},Jr=function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(Ca,Object.assign({blockTitle:"Allergy"},t),r.a.createElement(Xr,null))},Zr=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={isMainPanelOpen:!0,isSystemInfoPanelOpen:!0},a.toggleMainPanel=function(){a.setState({isMainPanelOpen:!a.state.isMainPanelOpen})},a.toggleSystemInfoPanel=function(){a.setState({isSystemInfoPanelOpen:!a.state.isSystemInfoPanelOpen})},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.children,o=t.resourceUrl,l=t.isListOpened,i=t.pageTitle,s=t.toggleListBlock,c=t.changeViewType,u=Object(De.a)(t,["classes","children","resourceUrl","isListOpened","pageTitle","toggleListBlock","changeViewType"]),d=this.state,m=d.isMainPanelOpen,p=d.isSystemInfoPanelOpen;return r.a.createElement(re.a,{item:!0,xs:12,sm:l?6:12},r.a.createElement(Sa.a,{className:m?a.currentExpansionPanel:a.expansionPanel,expanded:m,onChange:function(){return e.toggleMainPanel()}},r.a.createElement(Ta.a,{className:a.expansionPanelSummary,expandIcon:r.a.createElement(Ra.a,{className:a.expandIcon})},r.a.createElement(le.a,{className:a.expansionTypography},i),r.a.createElement("div",{className:a.emptyBlock}),r.a.createElement("div",{title:l?"Expand":"Compress"},r.a.createElement(be.a,{onClick:function(e){return s(e)}},r.a.createElement(ca,{iconClassName:l?"fa fa-expand":"fa fa-compress"})))),m&&r.a.createElement(wa.a,{className:a.expansionPanelDetails},r.a.createElement(Oa.a,Object.assign({className:a.showDetails,title:i},u),r.a.createElement(ka.a,{className:a.showLayoutDetails},n)),("top3Things"===o||"patients"===o)&&r.a.createElement(Da,{redirectTo:c}))),r.a.createElement(Sa.a,{className:p?a.currentExpansionPanel:a.expansionPanel,expanded:p,onChange:function(){return e.toggleSystemInfoPanel()}},r.a.createElement(Ta.a,{className:a.expansionPanelSummary,expandIcon:r.a.createElement(Ra.a,{className:a.expandIcon})},r.a.createElement(le.a,{className:a.expansionTypography},"System Information")),p&&r.a.createElement(wa.a,{className:a.expansionPanelDetails},r.a.createElement(Oa.a,Object.assign({className:a.showDetails,title:i},u),r.a.createElement(ka.a,{className:a.showLayoutDetails},r.a.createElement(K.a,{className:a.labelBlock,label:"Date",source:"dateCreated"}),r.a.createElement(X.a,{className:a.labelBlock,label:"Source",source:"source"}))))))}}]),t}(n.Component),qr=Object(ae.withStyles)(function(e){return{expansionPanel:{height:"49px !important",border:"1px solid ".concat(e.palette.borderColor),"& > div":{minHeight:"49px !important"}},currentExpansionPanel:{margin:"0px !important",border:"1px solid ".concat(e.palette.borderColor),"& > div":{minHeight:"49px !important"}},expansionPanelSummary:{backgroundColor:e.palette.mainColor,paddingLeft:16,"& > div":{margin:"0px !important",marginTop:"0px",marginBottom:"0px"}},emptyBlock:{flexGrow:1},expandIcon:{height:35,paddingLeft:10,paddingRight:10,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,color:e.isOldDesign?e.palette.secondaryMainColor:e.palette.paperColor},expandBlockIcon:{height:35,paddingLeft:10,paddingRight:10,marginRight:35,border:e.isOldDesign?"1px solid ".concat(e.palette.secondaryMainColor):null,color:e.isOldDesign?e.palette.secondaryMainColor:e.palette.paperColor},expansionTypography:{paddingTop:10,color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,fontSize:18,fontWeight:700},expansionPanelDetails:{display:"flex",flexDirection:"column",padding:0},showDetails:{padding:"10px 0","& > div":{boxShadow:"none"}},showLayoutDetails:{paddingTop:"0px !important",paddingLeft:10},labelBlock:{"& > div":{marginTop:0,marginBottom:0}}}})(Zr),_r=Object(ae.withStyles)({labelBlock:{"& > div":{marginTop:"0px !important",marginBottom:"0px !important"}}})(function(e){var t=e.classes,a=Object(De.a)(e,["classes"]);return r.a.createElement(qr,Object.assign({pageTitle:"Allergy"},a),r.a.createElement(X.a,{className:t.labelBlock,label:"Cause",source:"cause"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Reaction / Description",source:"reaction"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Terminology",source:"causeCode"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Terminology Code",source:"causeTerminology"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Author",source:"author"}))}),$r=function(e){var t=e.record;return t?r.a.createElement(qa,e,r.a.createElement(Xa.a,{key:"".concat(t.id,"-cause")},t.cause),r.a.createElement(Xa.a,{key:"".concat(t.id,"-dateCreated")},h()(t.dateCreated).format("DD-MM-YYYY")),r.a.createElement(Xa.a,{key:"".concat(t.id,"-source")},t.source)):null},eo=function(e){return r.a.createElement(zr,Object.assign({create:Kr,edit:Jr,show:_r,resourceUrl:"allergies",title:"Allergies",CustomRow:$r,isCustomDatagrid:!0},e),r.a.createElement(X.a,{source:"cause",label:"Cause"}),r.a.createElement(K.a,{source:"dateCreated",label:"Date"}),r.a.createElement(X.a,{source:"source",label:"Source"}))},to=a(1197),ao=a(1198),no=[{id:"Husband",name:"Husband"},{id:"Wife",name:"Wife"},{id:"Father",name:"Father"},{id:"Alone",name:"Alone"},{id:"Mother",name:"Mother"},{id:"Daughter",name:"Daughter"},{id:"Son",name:"Son"},{id:"Brother",name:"Brother"},{id:"Sister",name:"Sister"},{id:"Friend",name:"Friend"},{id:"Family friend",name:"Family friend"},{id:"Neighbour",name:"Neighbour"},{id:"District Nurse",name:"District Nurse"},{id:"Primary Care Worker",name:"Primary Care Worker"},{id:"Allocated social worker",name:"Allocated social worker"},{id:"Care Coordinator",name:"Care C-ordinator"}],ro=[{id:"at0036",name:"Informal carer"},{id:"at0037",name:"Main informal carer"},{id:"at0038",name:"Formal care worker"},{id:"at0039",name:"Key formal care worker"}],oo=Object(ae.withStyles)(Qr)(function(e){var t=e.classes;Object(De.a)(e,["classes"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"name",label:"Name",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(to.a,{source:"relationship",label:"Relationship",choices:no,fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customSelector}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(to.a,{source:"relationshipCode",label:"Relationship Type",choices:ro,fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customSelector}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"relationshipTerminology",label:"Relationship Terminology",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(ao.a,{label:"Next of Kin",source:"nextOfKin",fullWidth:!0})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(Yr.a,{source:"contactInformation",label:"Contact Information",rows:20,fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customTextarea}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(Yr.a,{source:"notes",label:"Note",rows:20,fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customTextarea}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"author",label:"Author",fullWidth:!0,defaultValue:localStorage.getItem("username"),InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel},disabled:!0})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(ma.a,{source:"dateSubmitted",label:"Date",fullWidth:!0,defaultValue:h()().format("MM/DD/YYYY"),InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel},disabled:!0})))}),lo=function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(ua,Object.assign({blockTitle:"Contact"},t),r.a.createElement(oo,null))},io=function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(Ca,Object.assign({blockTitle:"Contact"},t),r.a.createElement(oo,null))},so=Object(ae.withStyles)({labelBlock:{"& > div":{marginTop:"0px !important",marginBottom:"0px !important"}}})(function(e){var t=e.classes,a=Object(De.a)(e,["classes"]);return r.a.createElement(qr,Object.assign({pageTitle:"Contact"},a),r.a.createElement(X.a,{className:t.labelBlock,source:"name",label:"Name"}),r.a.createElement(X.a,{className:t.labelBlock,source:"relationship",label:"Relationship"}),r.a.createElement(X.a,{className:t.labelBlock,source:"relationshipType",label:"Relationship Type"}),r.a.createElement(X.a,{className:t.labelBlock,source:"relationshipTerminology",label:"Relationship Terminology"}),r.a.createElement(X.a,{className:t.labelBlock,source:"nextOfKin",label:"Next of Kin"}),r.a.createElement(X.a,{className:t.labelBlock,source:"contactInformation",label:"Contact Information"}),r.a.createElement(X.a,{className:t.labelBlock,source:"notes"}),r.a.createElement(X.a,{className:t.labelBlock,source:"author"}))}),co=function(e){var t=e.record;return t?r.a.createElement(qa,e,r.a.createElement(Xa.a,{key:"".concat(t.id,"-name")},t.name),r.a.createElement(Xa.a,{key:"".concat(t.id,"-relationship")},t.relationship),r.a.createElement(Xa.a,{key:"".concat(t.id,"-nextOfKin")},t.nextOfKin?"Yes":"No"),r.a.createElement(Xa.a,{key:"".concat(t.id,"-source")},t.source)):null},uo=function(e){return r.a.createElement(zr,Object.assign({create:lo,edit:io,show:so,resourceUrl:"contacts",title:"Contacts",CustomRow:co,isCustomDatagrid:!0},e),r.a.createElement(X.a,{source:"name",label:"Name"}),r.a.createElement(X.a,{source:"relationship",label:"Relationship"}),r.a.createElement(X.a,{source:"nextOfKin",label:"Next Of Kin"}),r.a.createElement(X.a,{source:"source",label:"Source"}))},mo=[{id:"Po Per Oral",name:"Po Per Oral"},{id:"IV Intra Venous",name:"IV Intra Venous"},{id:"IM Intra Muscular",name:"IM Intra Muscular"},{id:"PN Per Nasal",name:"PN Per Nasal"},{id:"PR Per Rectum",name:"PR Per Rectum"},{id:"SL Sub Lingual",name:"SL Sub Lingual"},{id:"SC Sub Cutaneous",name:"SC Sub Cutaneous"}],po=Object(ae.withStyles)(Qr)(function(e){var t=e.classes;Object(De.a)(e,["classes"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"name",label:"Name",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(to.a,{source:"route",label:"Route",choices:mo,fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customSelector}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(Yr.a,{source:"doseAmount",label:"Dose Amount",rows:20,fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customTextarea}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(Yr.a,{source:"doseDirections",label:"Dose Description",rows:20,fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customTextarea}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(Yr.a,{source:"doseTiming",label:"Dose Timing",rows:20,fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customTextarea}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"medicationCode",label:"Medication Description",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(ma.a,{source:"startDate",label:"Start date",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"author",label:"Author",fullWidth:!0,defaultValue:localStorage.getItem("username"),disabled:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(ma.a,{source:"dateCreated",label:"Date",fullWidth:!0,defaultValue:h()().format("MM/DD/YYYY"),disabled:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})))}),ho=function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(ua,Object.assign({blockTitle:"Medication"},t),r.a.createElement(po,null))},go=function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(Ca,Object.assign({blockTitle:"Medication"},t),r.a.createElement(po,null))},bo=Object(ae.withStyles)({labelBlock:{"& > div":{marginTop:"0px !important",marginBottom:"0px !important"}}})(function(e){var t=e.classes,a=Object(De.a)(e,["classes"]);return r.a.createElement(qr,Object.assign({pageTitle:"Medication"},a),r.a.createElement(X.a,{className:t.labelBlock,label:"Name",source:"name"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Route",source:"route"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Dose Amount",source:"doseAmount"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Dose Description",source:"doseDirections"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Dose Timing",source:"doseTiming"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Medication Description",source:"medicationCode"}),r.a.createElement(K.a,{className:t.labelBlock,label:"Start Date",source:"startDate"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Author",source:"author"}))}),fo=function(e){var t=e.record;return t?r.a.createElement(qa,e,r.a.createElement(Xa.a,{key:"".concat(t.id,"-name")},t.name),r.a.createElement(Xa.a,{key:"".concat(t.id,"-dateCreated")},h()(t.dateCreated).format("DD-MM-YYYY")),r.a.createElement(Xa.a,{key:"".concat(t.id,"-source")},t.source)):null},Eo=function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(zr,Object.assign({create:ho,edit:go,show:bo,resourceUrl:"medications",title:"Medications",CustomRow:fo,isCustomDatagrid:!0},t),r.a.createElement(X.a,{source:"name",label:"Name"}),r.a.createElement(K.a,{source:"dateCreated",label:"Date"}),r.a.createElement(X.a,{source:"source",label:"Source"}))},yo=Object(ae.withStyles)(Qr)(function(e){var t=e.classes;Object(De.a)(e,["classes"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"problem",label:"Problem / Issue",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(ma.a,{source:"dateOfOnset",label:"Date of Onset",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(Yr.a,{source:"description",label:"Description",rows:20,fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customTextarea}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"code",label:"Terminology Code",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"terminology",label:"Terminology",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"author",label:"Author",fullWidth:!0,defaultValue:localStorage.getItem("username"),disabled:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(ma.a,{source:"dateCreated",label:"Date",fullWidth:!0,defaultValue:h()().format("MM/DD/YYYY"),disabled:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})))}),Co=function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(ua,Object.assign({blockTitle:"Problems / Issue"},t),r.a.createElement(yo,null))},vo=function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(Ca,Object.assign({blockTitle:"Problems / Issues"},t),r.a.createElement(yo,null))},Oo=Object(ae.withStyles)({labelBlock:{"& > div":{marginTop:"0px !important",marginBottom:"0px !important"}}})(function(e){var t=e.classes,a=Object(De.a)(e,["classes"]);return r.a.createElement(qr,Object.assign({pageTitle:"Problem / Diagnosis"},a),r.a.createElement(X.a,{className:t.labelBlock,label:"Problem issue",source:"problem"}),r.a.createElement(K.a,{className:t.labelBlock,label:"Date of Onset",source:"dateOfOnset"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Description",source:"description"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Terminology Code",source:"code"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Terminology",source:"terminology"}),r.a.createElement(X.a,{className:t.labelBlock,label:"Author",source:"author"}))}),ko=function(e){var t=e.record;return t?r.a.createElement(qa,e,r.a.createElement(Xa.a,{key:"".concat(t.id,"-problem")},t.problem),r.a.createElement(Xa.a,{key:"".concat(t.id,"-dateOfOnset")},h()(t.dateOfOnset).format("DD-MM-YYYY")),r.a.createElement(Xa.a,{key:"".concat(t.id,"-source")},t.source)):null},No=[{name:"allergies",label:"Allergies",list:eo},{name:"contacts",label:"Contacts",list:uo},{name:"medications",label:"Medications",list:Eo},{name:"problems",label:"Problems / Issues",list:function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(zr,Object.assign({create:Co,edit:vo,show:Oo,resourceUrl:"problems",title:"Problems / Issues",defaultSort:"dateOfOnset",CustomRow:ko,isCustomDatagrid:!0},t),r.a.createElement(X.a,{source:"problem",label:"Problem / Issue"}),r.a.createElement(K.a,{source:"dateOfOnset",label:"Date"}),r.a.createElement(X.a,{source:"source",label:"Source"}))}},{name:"patients",label:"Patients",list:Nr}],So=Object(ae.withStyles)(Qr)(function(e){var t=e.classes;Object(De.a)(e,["classes"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"vaccinationName",label:"Name",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(ma.a,{source:"vaccinationDateTime",label:"Vaccination date",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"series",label:"Series",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(Yr.a,{source:"comment",label:"Comment",rows:20,fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customTextarea}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"author",label:"Author",fullWidth:!0,defaultValue:localStorage.getItem("username"),InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel},disabled:!0})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(ma.a,{source:"dateSubmitted",label:"Date",fullWidth:!0,defaultValue:h()().format("MM/DD/YYYY"),InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel},disabled:!0})))}),xo=function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(ua,Object.assign({blockTitle:"Vaccination"},t),r.a.createElement(So,null))},wo=function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(Ca,Object.assign({blockTitle:"Vaccination"},t),r.a.createElement(So,null))},jo=function(e){var t=e.classes,a=Object(De.a)(e,["classes"]);return r.a.createElement(qr,Object.assign({pageTitle:"Vaccination"},a),r.a.createElement(X.a,{className:t.labelBlock,source:"vaccinationName",label:"Vaccination name"}),r.a.createElement(X.a,{className:t.labelBlock,source:"comment",label:"Comment"}),r.a.createElement(X.a,{className:t.labelBlock,source:"author",label:"Author"}),r.a.createElement(K.a,{className:t.labelBlock,source:"vaccinationDateTime",label:"Date"}))},To=function(e){var t=e.record;return t?r.a.createElement(qa,e,r.a.createElement(Xa.a,{key:"".concat(t.id,"-vaccinationName")},t.vaccinationName),r.a.createElement(Xa.a,{key:"".concat(t.id,"-dateCreated")},h()(t.dateCreated).format("DD-MM-YYYY")),r.a.createElement(Xa.a,{key:"".concat(t.id,"-source")},t.source)):null},Io=function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(zr,Object.assign({create:xo,edit:wo,show:jo,resourceUrl:"vaccinations",title:"Vaccinations",CustomRow:To,isCustomDatagrid:!0},t),r.a.createElement(X.a,{label:"Vaccination Name",source:"vaccinationName"}),r.a.createElement(K.a,{label:"Date and Time",source:"dateCreated"}),r.a.createElement(X.a,{label:"Source",source:"source"}))},Ro=Object(ae.withStyles)(Qr)(function(e){var t=e.classes;Object(De.a)(e,["classes"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"name1",label:"Issue #1",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(Yr.a,{source:"description1",label:"Description #1",rows:20,fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customTextarea}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"name2",label:"Issue #2",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(Yr.a,{source:"description2",label:"Description #2",rows:20,fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customTextarea}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"name3",label:"Issue #3",fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(Yr.a,{source:"description3",label:"Description #3",rows:20,fullWidth:!0,InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customTextarea}},InputLabelProps:{shrink:!0,className:t.customFormLabel}})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(da.a,{source:"author",label:"Author",fullWidth:!0,defaultValue:localStorage.getItem("username"),InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel},disabled:!0})),r.a.createElement(gn.a,{className:t.formGroup},r.a.createElement(ma.a,{source:"dateSubmitted",label:"Date",fullWidth:!0,defaultValue:h()().format("MM/DD/YYYY"),InputProps:{disableUnderline:!0,classes:{root:t.customRoot,input:t.customInput}},InputLabelProps:{shrink:!0,className:t.customFormLabel},disabled:!0})))}),Bo=function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(ua,Object.assign({blockTitle:"About Me"},t),r.a.createElement(Ro,null))},Po=function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(Ca,Object.assign({blockTitle:"About Me"},t),r.a.createElement(Ro,null))},Do=Object(ae.withStyles)({labelBlock:{"& > div":{marginTop:"0px !important",marginBottom:"0px !important"}}})(function(e){var t=e.classes,a=Object(De.a)(e,["classes"]);return r.a.createElement(qr,Object.assign({pageTitle:"About Me"},a),r.a.createElement(X.a,{className:t.labelBlock,source:"name1",label:"Issue #1"}),r.a.createElement(X.a,{className:t.labelBlock,source:"description1",label:"Description #1"}),r.a.createElement(X.a,{className:t.labelBlock,source:"name2",label:"Issue #2"}),r.a.createElement(X.a,{className:t.labelBlock,source:"description2",label:"Description #2"}),r.a.createElement(X.a,{className:t.labelBlock,source:"name3",label:"Issue #3"}),r.a.createElement(X.a,{className:t.labelBlock,source:"description3",label:"Description #3"}))}),Ao=function(e){var t=e.record;return t?r.a.createElement(qa,e,r.a.createElement(Xa.a,{key:"".concat(t.id,"-dateCreated")},h()(t.dateCreated).format("DD-MM-YYYY")),r.a.createElement(Xa.a,{key:"".concat(t.id,"-name1")},t.name1),r.a.createElement(Xa.a,{key:"".concat(t.id,"-name2")},t.name2),r.a.createElement(Xa.a,{key:"".concat(t.id,"-name3")},t.name3),r.a.createElement(Xa.a,{key:"".concat(t.id,"-source")},t.source)):null},Lo=[{name:"vaccinations",label:"Vaccinations",list:Io},{name:"top3Things",label:"Top Three Things",list:function(e){e.classes;var t=Object(De.a)(e,["classes"]);return r.a.createElement(zr,Object.assign({create:Bo,edit:Po,show:Do,resourceUrl:"top3Things",title:"About Me",CustomRow:Ao,isCustomDatagrid:!0},t),r.a.createElement(K.a,{source:"dateCreated",label:"Date created"}),r.a.createElement(X.a,{source:"name1",label:"Issue #1"}),r.a.createElement(X.a,{source:"name2",label:"Issue #2"}),r.a.createElement(X.a,{source:"name3",label:"Issue #3"}),r.a.createElement(X.a,{source:"source",label:"Source"}))}}],Mo=a(10),Ho=[Object(Mo.j)(Pt.REQUEST,H.a.mark(function e(t){var a,n,r,o;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s()(t,"data",null),n="".concat(y,"/mpi/Patient/").concat(localStorage.getItem("patientId")),a&&(n="".concat(y,"/mpi/Patient/").concat(a)),(r={}).headers||(r.headers=new Headers({Accept:"application/json"})),r.headers={Authorization:"Bearer "+E,"X-Requested-With":"XMLHttpRequest"},e.prev=6,e.next=9,fetch(n,r).then(function(e){return e.json()});case 9:return o=e.sent,e.next=12,Object(Mo.f)(At(o));case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(6),e.next=18,Object(Mo.f)(Lt(e.t0));case 18:case"end":return e.stop()}},e,null,[[6,14]])})),Object(Mo.j)(Pt.REQUEST_PHOTO,H.a.mark(function e(t){var a,n,r;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s()(t,"data",null),n="https://randomuser.me/api/?gender=".concat(a),e.prev=2,e.next=5,fetch(n).then(function(e){return e.json()});case 5:return r=e.sent,e.next=8,Object(Mo.f)(Ht(r));case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,Object(Mo.f)(Ut(e.t0));case 14:case"end":return e.stop()}},e,null,[[2,10]])}))],Uo=I("INITIALIZE_ACTION"),Fo=function(e){return{type:Uo.REQUEST,data:e}},Wo=function(e){return{type:Uo.SUCCESS,data:e}},Go=function(e){return{type:Uo.FAILURE,error:e}},Vo=Object(Mo.j)(Uo.REQUEST,H.a.mark(function e(t){var a,n,r;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=y+"/api/initialise",(n={}).headers||(n.headers=new Headers({Accept:"application/json"})),n.headers={"X-Requested-With":"XMLHttpRequest"},e.prev=4,e.next=7,fetch(a,n).then(function(e){return e.json()}).then(function(e){var t=s()(e,"redirectURL",null);return t&&(window.location.href=t),e});case 7:return r=e.sent,e.next=10,Object(Mo.f)(Wo(r));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(4),e.next=16,Object(Mo.f)(Go(e.t0));case 16:case"end":return e.stop()}},e,null,[[4,12]])})),zo=I("DEMOGRAPHICS_ACTION"),Yo=function(e){return{type:zo.SUCCESS,data:e}},Qo=function(e){return{type:zo.FAILURE,error:e}},Xo={},Ko=Object(Mo.j)(zo.REQUEST,H.a.mark(function e(t){var a,n,r;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=y+"/api/demographics/"+localStorage.getItem("patientId"),(n={}).method="GET",n.headers||(n.headers=new Headers({Accept:"application/json"})),n.headers={Authorization:"Bearer "+E,"X-Requested-With":"XMLHttpRequest"},e.prev=5,e.next=8,fetch(a,n).then(function(e){return Xo.status=s()(e,"status",null),e.json()}).then(function(e){return 200!==Xo.status?(Xo.errorMessage=s()(e,"error",null),!1):e});case 8:if(r=e.sent,200!==Xo.status){e.next=14;break}return e.next=12,Object(Mo.f)(Yo(r));case 12:e.next=16;break;case 14:return e.next=16,Object(Mo.f)(B.save({status:Xo.status,message:Xo.errorMessage}));case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(5),e.next=22,Object(Mo.f)(Qo(e.t0));case 22:case"end":return e.stop()}},e,null,[[5,18]])})),Jo=a(1194),Zo=a(1190),qo=a(1185),_o=a(1189),$o=[Jo.a,Zo.a,qo.b,_o.b],el=Object(Mo.j)($o,H.a.mark(function e(t){var a,n,r,o;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s()(t,"error",null),n=a.replace("Error:","").trim(),r=n.split("|"),o={status:s()(r,[0],null),message:s()(r,[1],null)},e.next=6,Object(Mo.f)(B.save(o));case 6:case"end":return e.stop()}},e)})),tl=I("SHOW_MODE_ACTION"),al=function(e){return{type:tl.REQUEST,data:e}},nl=function(e){return{type:tl.SUCCESS,data:e}},rl=function(e){return{type:tl.FAILURE,error:e}},ol=Object(Mo.j)(tl.REQUEST,H.a.mark(function e(t){var a;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s()(t,"data",null),e.prev=1,e.next=4,Object(Mo.f)(nl(a));case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),e.next=10,Object(Mo.f)(rl(e.t0));case 10:case"end":return e.stop()}},e,null,[[1,6]])})),ll=I("SHOW_HEADINGS_ACTION"),il=function(e){return{type:ll.REQUEST,data:e}},sl=function(e){return{type:ll.SUCCESS,data:e}},cl=function(e){return{type:ll.FAILURE,error:e}},ul=Object(Mo.j)(ll.REQUEST,H.a.mark(function e(t){var a;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s()(t,"data",null),e.prev=1,e.next=4,Object(Mo.f)(sl(a));case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),e.next=10,Object(Mo.f)(cl(e.t0));case 10:case"end":return e.stop()}},e,null,[[1,6]])})),dl=I("PATIENTS_COUNT_ACTION"),ml=function(e){return{type:dl.SUCCESS,data:e}},pl=function(e){return{type:dl.FAILURE,error:e}},hl={},gl=Object(Mo.j)(dl.REQUEST,H.a.mark(function e(t){var a,n,r,o;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s()(t,"data",null),n=y+"/api/patients/"+a+"/counts",(r={}).method="GET",r.headers||(r.headers=new Headers({Accept:"application/json"})),r.headers={Authorization:"Bearer "+E,"X-Requested-With":"XMLHttpRequest"},e.prev=6,e.next=9,fetch(n,r).then(function(e){return hl.status=s()(e,"status",null),e.json()}).then(function(e){return 200!==hl.status?(hl.errorMessage=s()(e,"error",null),!1):e});case 9:if(o=e.sent,200!==hl.status){e.next=15;break}return e.next=13,Object(Mo.f)(ml(o));case 13:e.next=17;break;case 15:return e.next=17,Object(Mo.f)(B.save({status:hl.status,message:hl.errorMessage}));case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(6),e.next=23,Object(Mo.f)(pl(e.t0));case 23:case"end":return e.stop()}},e,null,[[6,19]])})),bl=Object(Mo.j)(Aa.REQUEST,H.a.mark(function e(t){var a,n,r,o,l;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s()(t,"resource",null),n=s()(t,"patientId",null),r=y+"/api/patients/"+n+"/"+a,(o={}).method="GET",o.headers||(o.headers=new Headers({Accept:"application/json"})),o.headers={Authorization:"Bearer "+E,"X-Requested-With":"XMLHttpRequest"},e.prev=7,e.next=10,fetch(r,o).then(function(e){return e.json()});case 10:return l=e.sent,e.next=13,Object(Mo.f)(Ma({data:l,resource:a}));case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(7),e.next=19,Object(Mo.f)(Ha(e.t0));case 19:case"end":return e.stop()}},e,null,[[7,15]])})),fl={};function El(e,t,a){return Object(Mo.j)(e.REQUEST,H.a.mark(function e(n){var r,o,l;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=y+"/api/patients/"+localStorage.getItem("patientId")+"/synopsis/"+a,(o={}).method="GET",o.headers||(o.headers=new Headers({Accept:"application/json"})),o.headers={Authorization:"Bearer "+E,"X-Requested-With":"XMLHttpRequest"},e.prev=5,e.next=8,fetch(r,o).then(function(e){return fl.status=s()(e,"status",null),e.json()}).then(function(e){return 200!==fl.status?(fl.errorMessage=s()(e,"error",null),!1):e});case 8:if(l=e.sent,200!==fl.status){e.next=14;break}return e.next=12,Object(Mo.f)(t.success(l));case 12:e.next=16;break;case 14:return e.next=16,Object(Mo.f)(B.save({status:fl.status,message:fl.errorMessage}));case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(5),e.next=22,Object(Mo.f)(t.error(e.t0));case 22:case"end":return e.stop()}},e,null,[[5,18]])}))}var yl=I("SYNOPSIS_ALLERGIES_ACTION"),Cl=I("SYNOPSIS_CONTACTS_ACTION"),vl=I("SYNOPSIS_MEDICATIONS_ACTION"),Ol=I("SYNOPSIS_PROBLEMS_ACTION"),kl={request:function(e){return{type:yl.REQUEST,data:e}},success:function(e){return{type:yl.SUCCESS,data:e}},error:function(e){return{type:yl.FAILURE,error:e}}},Nl={request:function(e){return{type:Cl.REQUEST,data:e}},success:function(e){return{type:Cl.SUCCESS,data:e}},error:function(e){return{type:Cl.FAILURE,error:e}}},Sl={request:function(e){return{type:vl.REQUEST,data:e}},success:function(e){return{type:vl.SUCCESS,data:e}},error:function(e){return{type:vl.FAILURE,error:e}}},xl={request:function(e){return{type:Ol.REQUEST,data:e}},success:function(e){return{type:Ol.SUCCESS,data:e}},error:function(e){return{type:Ol.FAILURE,error:e}}},wl=[El(Ir,Br,"vaccinations"),El(Tr,Rr,"top3Things")],jl=H.a.mark(Il),Tl=[Ho,El(yl,kl,"allergies"),El(Cl,Nl,"contacts"),El(vl,Sl,"medications"),El(Ol,xl,"problems"),Vo,Ko,el,ol,ul,gl,bl].concat(wl);function Il(){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Mo.a)(Tl);case 2:case"end":return e.stop()}},jl)}var Rl=a(70),Bl={data:!1,loading:!1,error:null};function Pl(e){var t=s()(e,"patient",null),a=s()(t,["identifier",[0],"value"],null),n=s()(t,["name",[0]],null),r=s()(n,["prefix"],null),o=s()(n,"given",null).join(" "),l=s()(n,["family"],null),i=s()(t,"address",null),c=s()(i,[[0],"city"],null),u=s()(i,[[0],"country"],null),d=s()(i,[[0],"postalCode"],null),m=s()(i,[[0],"line",[0]],null),p=s()(i,[[0],"line",[1]],null),h=s()(i,[[0],"district"],null);return{data:{id:a,prefix:r,firstName:o,lastName:l,name:[r,o,l].join(" "),address:m,addressSecondLine:p,city:c,country:u,district:h,postCode:d,birthDate:s()(t,"birthDate",null),department:s()(t,"department",null),gender:s()(t,"gender",null),nhsNumber:a,phone:s()(t,"telecom",null)}}}var Dl={data:Ur(),loading:!1,error:null},Al={data:null,loading:!1,error:null};function Ll(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Al,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case e.REQUEST:return Object(T.a)({},a,{loading:!0});case e.SUCCESS:return Object(T.a)({},a,{loading:!1,data:s()(n,t,[])});case e.FAILURE:return Object(T.a)({},a,{loading:!1,error:s()(n,"error",null)});default:return a}}}var Ml={data:null,loading:!1,error:null},Hl={data:!1,loading:!1,error:null},Ul={data:!1},Fl=I("ADVANCED_SEARCH_ACTION",{CREATE:"CREATE",REMOVE:"REMOVE"}),Wl={data:!1},Gl=I("CLINICAL_QUERY_ACTION",{CREATE:"CREATE",REMOVE:"REMOVE"}),Vl={data:!1},zl={data:null,loading:!1,error:null},Yl={data:null,loading:!1,error:null},Ql={data:!1,loading:!1,error:null},Xl={vaccinationsSynopsis:Ll(Ir,"data.synopsis"),top3ThingsSynopsis:Ll(Tr,"data.synopsis"),contrastMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ql;switch((arguments.length>1?arguments[1]:void 0).type){case at.REQUEST:return Object(T.a)({},e,{loading:!1,data:!e.data});default:return e}}},Kl={allergiesSynopsis:Ll(yl,"data.synopsis"),contactsSynopsis:Ll(Cl,"data.synopsis"),medicationsSynopsis:Ll(vl,"data.synopsis"),problemsSynopsis:Ll(Ol,"data.synopsis"),initialize:Ll(Uo,"data"),demographics:Ll(zo,"data.demographics"),httpErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ml,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.SAVE:return Object(T.a)({},e,{loading:!1,data:Object(T.a)({},t.data)});case R.REMOVE:return Object(T.a)({},e,{loading:!1,data:null});default:return e}},showMode:Ll(tl,"data"),showHeadings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ll.REQUEST:return Object(T.a)({},e,{loading:!0});case ll.SUCCESS:return Object(T.a)({},e,{loading:!1,data:Object(T.a)({},t.data)});case ll.FAILURE:return Object(T.a)({},e,{loading:!1,error:s()(t,"error",null)});default:return e}},userSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se.REQUEST:return Object(T.a)({},e,{loading:!1,data:t.data});case Se.REQUEST_ID:return Object(T.a)({},e,{loading:!1,id:t.data});case Se.SEARCH_BY:return Object(T.a)({},e,{loading:!1,type:s()(t,"searchType",null),value:s()(t,"value",null)});case Se.REMOVE:return Object(T.a)({},e,{loading:!1,data:null,id:null,type:null,value:null});default:return e}},currentPatient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pt.REQUEST:return Object(T.a)({},e,{loading:!0});case Pt.REQUEST_PHOTO:return Object(T.a)({},e,{loadingPhoto:!0});case Pt.SUCCESS:return Object(T.a)({},e,{loading:!1,patientInfo:Pl(s()(t,"data",null))});case Pt.SUCCESS_PHOTO:return Object(T.a)({},e,{loadingPhoto:!1,patientPhoto:s()(t,"data.results[0].picture.large",null)});case Pt.FAILURE:return Object(T.a)({},e,{loading:!1,error:s()(t,"error",null)});case Pt.FAILURE_PHOTO:return Object(T.a)({},e,{loadingPhoto:!1,error:s()(t,"error",null)});default:return e}},toggleColumns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve.TOGGLE:var a=t.resource,n=t.columnName,r=t.value,o=s()(e.data,a,[]);if(r){var l=o.indexOf(n);o.splice(l,1)}else-1===o.indexOf(n)&&o.push(n);return Object(T.a)({},e,{data:Object.assign({},e.data,Object(Me.a)({},a,o))});case ve.REMOVE:return Object(T.a)({},e,{data:null});default:return e}},advancedSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fl.CREATE:return Object(T.a)({},e,{data:t.data});case Fl.REMOVE:return Object(T.a)({},e,{data:null});default:return e}},clinicalQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Gl.CREATE:return Object(T.a)({},e,{data:t.data});case Gl.REMOVE:return Object(T.a)({},e,{data:null});default:return e}},patientsCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dl.REQUEST:return Object(T.a)({},e,{loading:!0});case dl.SUCCESS:return Object(T.a)({},e,{loading:!1,data:Object(T.a)({},t.data)});case dl.FAILURE:return Object(T.a)({},e,{loading:!1,error:s()(t,"error",null)});default:return e}},emergencySummary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yl,t=arguments.length>1?arguments[1]:void 0,a=s()(e,"data",{});switch(t.type){case Aa.REQUEST:return Object(T.a)({},e,{loading:!0});case Aa.SUCCESS:var n=s()(t,"data.resource",null),r=s()(t,"data.data",[]);return Object(T.a)({},e,{loading:!1,data:Object.assign({},a,Object(Me.a)({},n,r))});case Aa.FAILURE:return Object(T.a)({},e,{loading:!1,error:s()(t,"error",null)});default:return e}}},Jl=Object.assign({},Kl,Xl),Zl=Object(Rl.b)(Jl),ql=a(238),_l=Object(ae.withStyles)(function(e){return{titleBlock:{display:"flex",alignItems:"center",height:49,color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,backgroundColor:e.palette.mainColor,paddingLeft:15},title:{color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,fontSize:18,fontWeight:700},secondTitle:{paddingTop:10,paddingLeft:10,fontSize:24,fontWeight:700},chartIcon:{paddingRight:5},description:{padding:10,fontSize:16}}})(function(e){var t=e.classes,a=e.mainTitle,n=e.secondTitle,o=e.description;return r.a.createElement("div",{className:t.chartContainer},r.a.createElement("div",{className:t.titleBlock},r.a.createElement(Ee.a,{title:"Chart"},r.a.createElement(ye.a,{className:t.chartIcon,icon:Ce.c,size:"1.5x"})),r.a.createElement(le.a,{className:t.title},a)),r.a.createElement(le.a,{variant:"h1",className:t.secondTitle},n),r.a.createElement(le.a,{className:t.description},o))}),$l=a(1199),ei=a(1200),ti=a(347),ai=a(348),ni=a(1201),ri=a(361),oi=a(624),li=a(346),ii=5,si=function(e){var t=e.classes,a=e.active,n=e.payload,o=e.label,l=e.barColor,i=e.borderColor;return a?r.a.createElement("div",{className:t.tooltip},r.a.createElement(le.a,{variant:"h3"},o),r.a.createElement("div",{className:t.patientsNumber},r.a.createElement("div",{className:t.square,style:{backgroundColor:l,border:"1px solid ".concat(i)}}),r.a.createElement(le.a,null,"Patients: ",n[0].value))):null};var ci=Object(ae.withStyles)(function(e){return{chartBlock:{width:"95%",height:350},bar:{cursor:"pointer"},titleBlock:{display:"flex",alignItems:"center",height:49,color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,backgroundColor:e.palette.mainColor,paddingLeft:15},title:{color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,fontSize:18,fontWeight:700},secondTitle:{fontSize:16,paddingTop:10,paddingLeft:10},chartIcon:{paddingRight:5},description:{padding:10},tooltip:{backgroundColor:e.palette.fontColor,padding:10,borderRadius:5,"& p":{color:e.palette.paperColor},"& span":{color:e.palette.paperColor,marginBottom:10}},patientsNumber:{display:"flex",flexDirection:"row"},square:{width:15,height:15,marginRight:5}}})(function(e){var t=e.classes,a=e.data,n=e.history,o=e.onClickAction,l=e.searchType,i=e.barColor,s=e.borderColor,c=function(e){var t=[],a=0;e.map(function(e){e.RespondentPercentage>a&&(a=e.RespondentPercentage)});for(var n=Math.ceil(a/ii)+1,r=0;r<n;r++)t.push(r*ii);return t}(a);return r.a.createElement("div",{className:t.chartBlock},r.a.createElement($l.a,{width:"100%"},r.a.createElement(ei.a,{data:a,margin:{top:5,right:0,left:0,bottom:25}},r.a.createElement(ti.a,{dataKey:"Text",fontFamily:"sans-serif",tick:{dy:10}}),r.a.createElement(ai.a,{tick:{dx:-10},ticks:c,domain:[0,"dataMax"]}),r.a.createElement(ni.a,{stroke:"#ebebeb"}),r.a.createElement(ri.a,{content:r.a.createElement(si,{classes:t,barColor:i,borderColor:s}),cursor:!1}),r.a.createElement(oi.a,{dataKey:"RespondentPercentage",stroke:s,fillOpacity:"0.7",onClick:function(e){return o(n,l,e)},className:t.bar},a.map(function(e,t){return r.a.createElement(li.a,{fill:i})})))))}),ui=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).redirectTo=function(e,t,n){var r=s()(n,"payload.valueForSearch",null);r&&a.props.setSearchType(t,r);e.push("/patients")},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){this.props.setSidebarVisibility(!1)}},{key:"getDepartmentPercentage",value:function(e){var t=0,a=0,n=0,r=0,o=0,l=0;for(var i in e)switch(l++,s()(e,"["+i+"].city",null)){case"Edinburgh":t++;break;case"Somerset":a++;break;case"Glasgow":n++;break;case"Hamilton":r++;break;case"Northampton":o++}return{Edinburgh:l>0?Math.round(100*t/l):0,Somerset:l>0?Math.round(100*a/l):0,Glasgow:l>0?Math.round(100*n/l):0,Hamilton:l>0?Math.round(100*r/l):0,Northampton:l>0?Math.round(100*o/l):0}}},{key:"getAgePercentage",value:function(e){var t=0,a=0,n=0,r=0,o=0,l=(new Date).getTime(),i=new h.a(l);for(var c in e){o++;var u=s()(e,"["+c+"].dateOfBirth",null),d=new h.a(u),m=h.a.duration(i.diff(d)).get("year");m>=19&&m<=30?t++:m>=31&&m<=60?a++:m>=61&&m<=80?n++:m>80&&r++}return{first:o>0?Math.round(100*t/o):0,second:o>0?Math.round(100*a/o):0,third:o>0?Math.round(100*n/o):0,fourth:o>0?Math.round(100*r/o):0}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=(e.userSearch,e.history),n=C,o=this.getDepartmentPercentage(n),l=[{Text:"Edinburgh",sort:"Edinburgh",RespondentPercentage:s()(o,"Edinburgh",0),valueForSearch:"Edinburgh"},{Text:"Somerset",sort:"Somerset",RespondentPercentage:s()(o,"Somerset",0),valueForSearch:"Somerset"},{Text:"Glasgow",sort:"Glasgow",RespondentPercentage:s()(o,"Glasgow",0),valueForSearch:"Glasgow"},{Text:"Hamilton",sort:"Hamilton",RespondentPercentage:s()(o,"Hamilton",0),valueForSearch:"Hamilton"},{Text:"Northampton",sort:"Northampton",RespondentPercentage:s()(o,"Northampton",0),valueForSearch:"Northampton"}],i=this.getAgePercentage(n),c=[{Text:"<30",sort:"first",RespondentPercentage:s()(i,"first",0),valueForSearch:[0,30]},{Text:"31-60",sort:"second",RespondentPercentage:s()(i,"second",0),valueForSearch:[31,60]},{Text:"61-80",sort:"third",RespondentPercentage:s()(i,"third",0),valueForSearch:[61,80]},{Text:">80",sort:"fourth",RespondentPercentage:s()(i,"fourth",0),valueForSearch:[81,100]}];return r.a.createElement("div",{className:t.root},r.a.createElement(re.a,{className:t.chartsContainer,container:!0,spacing:16},r.a.createElement(re.a,{className:t.chart,item:!0,xs:12,sm:12,md:6},r.a.createElement("div",{className:t.chartBlock},r.a.createElement(_l,{mainTitle:"Patients By Cities",secondTitle:"Patients By Cities",description:"This is a brief description of patients by cities."}),r.a.createElement(ci,{data:l,onClickAction:this.redirectTo,history:a,searchType:"by_city",barColor:"#c4e4d6",borderColor:"#78cea7"}))),r.a.createElement(re.a,{className:t.chart,item:!0,xs:12,sm:12,md:6},r.a.createElement("div",{className:t.chartBlock},r.a.createElement(_l,{mainTitle:"Patients By Age",secondTitle:"Patients By Age",description:"This is a brief description of patients by age."}),r.a.createElement(ci,{data:c,onClickAction:this.redirectTo,history:a,searchType:"by_age",barColor:"#d3b2f4",borderColor:"#832edf"})))))}}]),t}(n.Component),di=Object(ee.b)(function(e){return{userSearch:e.custom.userSearch.data}},function(e){return{setSidebarVisibility:function(t){e(Object(zt.e)(t))},setSearchType:function(t,a){e(we(t,a))}}})(Object(ae.withStyles)(function(e){return{root:{flexGrow:1,width:"100%",height:"100%",background:e.patientSummaryPanel.container.background,backgroundSize:"cover"},chartsContainer:{width:"100%",backgroundColor:e.palette.paperColor,padding:5,margin:0},chart:{"& .recharts-text.recharts-cartesian-axis-tick-value":{fontFamily:'"HK Grotesk SemiBold", Arial, sans-serif',fontSize:14}},chartBlock:{border:"1px solid ".concat(e.palette.borderColor)}}})(ui)),mi=a(332),pi=a.n(mi),hi=a(174),gi=a.n(hi),bi=a(123),fi=a.n(bi),Ei=a(126),yi=a.n(Ei),Ci=function(e){var t=e.classes,a=e.items,n=e.list,o=e.history,l=s()(wr,"menuHasChevrons",!1);return a&&0===a.length?r.a.createElement(fi.a,{className:t.list},r.a.createElement("li",{className:t.listItemNoData},r.a.createElement(le.a,null,"No data"))):r.a.createElement(fi.a,{className:t.list},a.slice(0).reverse().map(function(e,a){var i="/"+n+"/"+e.sourceId+"/show";return r.a.createElement("li",{key:a,className:t.listItem,onClick:function(){return o.push(i)}},r.a.createElement(le.a,{noWrap:!0},e.text),l&&r.a.createElement(yi.a,null))}))},vi=function(e){var t=e.classes;return r.a.createElement(fi.a,{className:t.list},r.a.createElement("li",{className:t.listItemNoData},r.a.createElement(le.a,null,"Loading...")),r.a.createElement("div",{className:t.emptyRows}))},Oi=function(e){var t=e.classes,a=e.items,n=e.list,o=e.history;return a?r.a.createElement(Ci,{classes:t,items:a,list:n,history:o}):r.a.createElement(vi,{classes:t})},ki=function(e){var t=e.id,a=e.classes,n=e.title,o=e.items,l=e.loading,i=e.icon,c=e.list,u=e.history,d=e.showMode,m=e.showHeadings;if(-1===Object.values(m).indexOf(c))return null;var p=s()(wr,"isOldDesign",!1),h=s()(wr,"menuHasChevrons",!1);return r.a.createElement(re.a,{item:!0,xs:12,sm:6,md:6,lg:3},r.a.createElement(ct.a,{className:a.card},r.a.createElement("div",{id:t,className:a.topBlock,"aria-label":n,onClick:function(){return u.push("/"+c)}},!p&&r.a.createElement(ye.a,{icon:i,size:"2x",className:a.icon}),r.a.createElement("h1",{className:a.mainHeading},r.a.createElement(le.a,{className:a.title},n),h&&r.a.createElement(yi.a,null))),(d===Mr||!d)&&r.a.createElement(Oi,{loading:l,classes:a,items:o,list:c,history:u})))},Ni=s()(wr,"invertedTableHeaders",!1),Si=function(e){function t(){return Object(J.a)(this,t),Object(q.a)(this,Object(_.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.classes,t.history,t.loading),n=t.showMode,o=t.showHeadings,l=s()(wr,"feedsPanels",!1),i=s()(wr,"respectPanel",!1);return r.a.createElement(r.a.Fragment,null,Lr.map(function(t,l){if(s()(t,"isSynopsis",!1))return r.a.createElement(ki,Object.assign({key:l,showMode:n,showHeadings:o,id:t.id,title:t.title,list:t.list,loading:a,items:s()(e.props,t.list,[]),icon:t.icon},e.props))}),l&&r.a.createElement(l,null),i&&r.a.createElement(i,Object.assign({showMode:n},this.props)))}}]),t}(n.Component),xi=Object(ee.b)(function(e){var t={loading:e.custom.demographics.loading,showMode:e.custom.showMode.data,showHeadings:e.custom.showHeadings.data},a=Fr(e);return Object.assign({},t,a)},null)(Object(ae.withStyles)(function(e){return{card:{borderRadius:0,boxShadow:e.isOldDesign?"0px 2px 4px rgba(0, 0, 0, 0.3)":null},media:{backgroundColor:e.palette.mainColor},topBlock:{display:"flex",flexDirection:"column",height:e.isOldDesign?50:100,backgroundColor:Ni?e.palette.tableHeadColor:e.palette.mainColor,justifyContent:"center",alignItems:"center",position:"relative",color:Ni?e.palette.mainColor:e.palette.paperColor,border:e.isOldDesign?"1px solid ".concat(e.palette.borderColor):null,"&:hover":{cursor:"pointer"}},icon:{marginBottom:10,zIndex:99999999},mainHeading:{display:"flex",flexDirection:"row",justifyContent:"space-between",margin:0,zIndex:99999999,"& svg":{color:e.palette.fontColor}},title:{marginBottom:0,color:Ni?e.palette.fontColor:e.palette.paperColor,fontSize:18,fontWeight:600,zIndex:99999999},list:{padding:0,zIndex:99999999},listItemNoData:{display:"flex",flexDirection:"column",justifyContent:"center",height:48,paddingLeft:15,zIndex:99999999,fontSize:"1rem",borderLeft:"1px solid ".concat(e.palette.borderColor),borderRight:"1px solid ".concat(e.palette.borderColor),borderBottom:"1px solid ".concat(e.palette.borderColor)},listItem:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",textAlign:"justify",height:48,paddingLeft:15,paddingRight:15,zIndex:99999999,fontSize:"1rem",borderLeft:"1px solid ".concat(e.palette.borderColor),borderRight:"1px solid ".concat(e.palette.borderColor),borderBottom:"1px solid ".concat(e.palette.borderColor),cursor:"pointer",color:e.palette.fontColor,"&:hover":{backgroundColor:e.palette.secondaryMainColor,"& p":{color:e.palette.paperColor},"& svg":{color:e.palette.paperColor}}},emptyRows:{height:150,zIndex:99999999,borderLeft:"1px solid ".concat(e.palette.borderColor),borderRight:"1px solid ".concat(e.palette.borderColor),borderBottom:"1px solid ".concat(e.palette.borderColor)}}})(Si)),wi=a(625),ji=a.n(wi),Ti=a(1209),Ii=a(626),Ri=Object(ae.withStyles)({chartBlock:{width:"100%",height:180,textAlign:"center",paddingTop:10},value:{marginTop:-145},diagnosis:{marginTop:10}})(function(e){var t=e.classes,a=e.value,n=e.units,o=e.color,l=e.title,i=e.maximal,s=e.diagnosis,c=[{name:"Group A",value:a},{name:"Group B",value:i-a}];return r.a.createElement("div",{className:t.chartBlock},r.a.createElement(le.a,{variant:"h1"},l),r.a.createElement($l.a,{height:200},r.a.createElement(Ti.a,null,r.a.createElement(Ii.a,{data:c,startAngle:180,endAngle:0,innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value"},r.a.createElement(li.a,{fill:o}),r.a.createElement(li.a,{fill:"#e9e4e4"})))),r.a.createElement(le.a,{variant:"h1",className:t.value},a),r.a.createElement(le.a,{variant:"body1",className:t.units},n),r.a.createElement(le.a,{variant:"caption",className:t.diagnosis},s))}),Bi=Object(ae.withStyles)(function(e){return{backgroundBlock:{height:16,backgroundColor:e.palette.disabledColor,borderRadius:8},coloredBlock:{borderTopLeftRadius:8,borderBottomLeftRadius:8,height:"100%"},title:{marginTop:15}}})(function(e){var t=e.classes,a=e.title,n=e.color,o=100*e.value/e.maximal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.backgroundBlock},r.a.createElement("div",{className:t.coloredBlock,style:{backgroundColor:n,width:o+"%"}})),r.a.createElement(le.a,{variant:"caption",className:t.title},a))}),Pi="#ffac5a",Di="#2dcd0d",Ai="#fbf800",Li="#ff5d00",Mi="Overweight",Hi="Healthy Weight",Ui="Underweight",Fi="Obese",Wi=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).getPatientAge=function(){var e=a.props.patientInfo,t=s()(e,"birthDate",null),n=t?t.split("-"):[],r=s()(n,[0],null);return(new Date).getFullYear()-r},a.getWeightResult=function(e){var t={color:Ai,diagnosis:Ui};return e>18.5&&e<24.9?t={color:Di,diagnosis:Hi}:e>25&&e<29.9?t={color:Pi,diagnosis:Mi}:e>30&&(t={color:Li,diagnosis:Fi}),t},a.getOxygenSaturationResult=function(e){var t={color:Ai,diagnosis:Ui};return e>92&&e<95?t={color:Di,diagnosis:Hi}:(e<91||e>96)&&(t={color:Li,diagnosis:Fi}),t},a.getSystolicColor=function(e){var t=Ai;return e>101&&e<219?t=Di:(e<90||e>220)&&(t=Li),t},a.getDiastolicColor=function(e){var t=Ai;return e>101&&e<219?t=Di:(e<90||e>220)&&(t=Li),t},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.patientInfo,n=(e.isLoadingPhoto,e.isLoading),o=this.getPatientAge(),l=this.getWeightResult(17.92),i=this.getOxygenSaturationResult(91),c=this.getSystolicColor(150),u=this.getDiastolicColor(88),d="".concat(s()(a,"firstName",null)," ").concat(s()(a,"lastName",null));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.blockTitle},r.a.createElement(le.a,{className:t.title},d)),r.a.createElement(re.a,{container:!0,xs:12,className:t.content},r.a.createElement(re.a,{item:!0,xs:12,sm:6,md:5,className:t.photoAndVitals},r.a.createElement(re.a,{container:!0,xs:12,className:t.insideGridBlock},r.a.createElement(re.a,{item:!0,xs:12,sm:6,md:3},r.a.createElement(Ue.a,{className:t.patientPhoto,component:"img",alt:d,image:ji.a,title:d})),r.a.createElement(re.a,{item:!0,xs:12,sm:6,md:9,className:t.ageAndHeight},r.a.createElement("div",{className:t.parameter},r.a.createElement(le.a,{variant:"body2"},"Age: "),r.a.createElement(le.a,{className:t.value},n?"Loading...":o)),r.a.createElement("div",{className:t.parameter},r.a.createElement(le.a,{variant:"body2"},"Height: "),r.a.createElement(le.a,{className:t.value},"184 cm")),r.a.createElement("div",{className:t.parameter},r.a.createElement(le.a,{variant:"body2"},"CPR Status: "),r.a.createElement(le.a,{className:t.value},"For active CPR")),r.a.createElement("div",{className:t.parameter},r.a.createElement(le.a,{variant:"body2"},"Blood Group: "),r.a.createElement(le.a,{className:t.value},"O+")),r.a.createElement("div",{className:t.parameter},r.a.createElement(le.a,{variant:"body2"},"Donor status: "),r.a.createElement(le.a,{className:t.value},"Organ Donor"))))),r.a.createElement(re.a,{item:!0,xs:12,sm:6,md:7},r.a.createElement("div",{className:t.diagrams},r.a.createElement(re.a,{container:!0,xs:12},r.a.createElement(re.a,{item:!0,xs:12,sm:12,md:4},r.a.createElement(Ri,{title:"Weight",value:87.5,units:"kg",color:l.color,maximal:150,diagnosis:l.diagnosis})),r.a.createElement(re.a,{item:!0,xs:12,sm:12,md:4},r.a.createElement(Ri,{title:"BMI",value:17.92,units:"kg/m2",color:l.color,maximal:50,diagnosis:l.diagnosis})),r.a.createElement(re.a,{item:!0,xs:12,sm:12,md:4},r.a.createElement(Ri,{title:"Oxygen Saturation",value:91,units:"%",color:i.color,maximal:100,diagnosis:i.diagnosis}))),r.a.createElement(re.a,{container:!0,xs:12},r.a.createElement(re.a,{item:!0,xs:12,sm:12,md:4},r.a.createElement("div",{className:t.horizontalBarChart},r.a.createElement(le.a,{variant:"body2"},"Blood pressure: 143 / 89"),r.a.createElement(le.a,{variant:"body1",className:t.value},"kg/m2"))),r.a.createElement(re.a,{item:!0,xs:12,sm:12,md:4},r.a.createElement("div",{className:t.chartBlock},r.a.createElement(Bi,{title:"Systolic",value:150,color:c,maximal:220}))),r.a.createElement(re.a,{item:!0,xs:12,sm:12,md:4},r.a.createElement("div",{className:t.chartBlock},r.a.createElement(Bi,{title:"Diastolic",value:88,color:u,maximal:220}))))))))}}]),t}(n.Component),Gi=Object(ee.b)(function(e){return{patientInfo:s()(e,"custom.currentPatient.patientInfo.data",null),isLoading:s()(e,"custom.currentPatient.loading",null),patientPhoto:s()(e,"custom.currentPatient.patientPhoto",null),isLoadingPhoto:s()(e,"custom.currentPatient.loadingPhoto",null)}},null)(Object(ae.withStyles)({patientPhoto:{height:110,width:110,borderRadius:"50%"},ageAndHeight:{paddingLeft:20},parameter:{display:"flex",flexDirection:"row"},value:{paddingTop:2,paddingLeft:5},diagrams:{display:"flex",flexDirection:"column"},horizontalBarChart:{display:"flex",flexDirection:"row",justifyContent:"center"},chartBlock:{width:"90%",height:80,textAlign:"center",paddingTop:10}})(Wi)),Vi=function(e){var t=e.classes,a=e.items,n=(e.list,e.history,s()(wr,"menuHasChevrons",!1));return r.a.createElement(fi.a,{className:t.list},a.slice(0).map(function(e,a){return r.a.createElement("li",{key:a,className:t.listItem},r.a.createElement(le.a,{noWrap:!0},e),n&&e&&r.a.createElement(yi.a,null))}))},zi=function(e){var t=e.classes;return r.a.createElement(fi.a,{className:t.list},r.a.createElement("li",{className:t.listItemNoData},r.a.createElement(le.a,null,"Loading...")),r.a.createElement("div",{className:t.emptyRows}))},Yi={problems:["Overweight","Type 2 diabetic","Hypertensive"],medications:["Metformin","Gloposode","Statins"],allergies:["Latex","",""]},Qi=function(e){var t=e.classes,a=e.items,n=e.list,o=e.history;return a?r.a.createElement(Vi,{classes:t,items:Yi[n],list:n,history:o}):r.a.createElement(zi,{classes:t})},Xi=Object(ae.withStyles)(function(e){return{card:{borderRadius:0},topBlock:{paddingLeft:15,paddingTop:10,paddingBottom:10,borderLeft:"0.5px solid ".concat(e.palette.paperColor),borderRight:"0.5px solid ".concat(e.palette.paperColor),backgroundColor:e.palette.tableHeadColor,position:"relative",color:e.palette.fontColor,"&:hover":{cursor:"pointer"}},synopsisTitle:{marginBottom:0,backgroundColor:e.palette.tableHeadColor,color:e.palette.fontColor,fontSize:18,fontWeight:600,zIndex:99999999},icon:{marginBottom:10,zIndex:99999999},mainHeading:{margin:0,zIndex:99999999},list:{padding:0,zIndex:99999999},listItemNoData:{display:"flex",flexDirection:"column",justifyContent:"center",height:48,paddingLeft:15,zIndex:99999999,fontSize:"1rem",borderLeft:"1px solid ".concat(e.palette.borderColor),borderRight:"1px solid ".concat(e.palette.borderColor),borderBottom:"1px solid ".concat(e.palette.borderColor)},listItem:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",textAlign:"justify",height:48,paddingLeft:15,paddingRight:15,zIndex:99999999,fontSize:"1rem",borderLeft:"1px solid ".concat(e.palette.borderColor),borderRight:"1px solid ".concat(e.palette.borderColor),borderBottom:"1px solid ".concat(e.palette.borderColor),cursor:"pointer","&:hover":{backgroundColor:e.palette.secondaryMainColor,"& p":{color:e.palette.paperColor}}},emptyRows:{height:150,zIndex:99999999,borderLeft:"1px solid ".concat(e.palette.borderColor),borderRight:"1px solid ".concat(e.palette.borderColor),borderBottom:"1px solid ".concat(e.palette.borderColor)}}})(function(e){e.id;var t=e.classes,a=e.title,n=e.items,o=e.loading,l=(e.icon,e.list),i=e.history,s=e.showMode,c=e.showHeadings;return-1===Object.values(c).indexOf(l)?null:r.a.createElement(re.a,{item:!0,xs:12,sm:6,md:6,lg:4},r.a.createElement(ct.a,{className:t.card},r.a.createElement("div",{className:t.topBlock,"aria-label":a,onClick:function(){return i.push("/"+l)}},r.a.createElement(le.a,{className:t.synopsisTitle},a)),(s===Mr||!s)&&r.a.createElement(Qi,{loading:o,classes:t,items:n,list:l,history:i})))}),Ki=Object(ee.b)(function(e){var t={loading:e.custom.demographics.loading,showMode:e.custom.showMode.data,showHeadings:e.custom.showHeadings.data},a=Fr(e);return Object.assign({},t,a)},null)(Object(ae.withStyles)({})(function(e){var t=e.classes,a=e.loading,n=e.showMode,o=e.showHeadings;return r.a.createElement(re.a,{container:!0,xs:12,className:t.content},Lr.map(function(t,l){return"problems"===t.list||"medications"===t.list||"allergies"===t.list?r.a.createElement(Xi,Object.assign({key:l,showMode:n,showHeadings:o,id:t.id,title:t.title,list:t.list,loading:a,items:s()(e,t.list,[]),icon:t.icon},e)):null}))})),Ji=a(220),Zi=a.n(Ji),qi=a(221),_i=a.n(qi),$i=a(219),es=a.n($i),ts=Object(ae.withStyles)(function(e){return{root:{width:"100%"},tableWrapper:{overflowX:"auto"},tableList:{"& thead":{backgroundColor:e.palette.tableHeadColor,"& tr th":{fontSize:14,paddingLeft:10}},"& tbody tr td span":{paddingLeft:10,fontSize:14},"& tbody tr:hover":{backgroundColor:e.palette.secondaryMainColor,"& td span":{color:e.palette.paperColor}}},value:{marginTop:15},valueWithBar:{display:"flex",flexDirection:"row",justifyContent:"space-between"},chartBlock:{width:"60%"}}})(function(e){var t=e.classes,a=[{testName:"HBA1C",normalRange:"5-7 mmol/l",value:7,units:"mmol/l",dateCreated:"22-Jun-2019",color:"#2dcd0d",maximal:10},{testName:"Glucose",normalRange:"5-9 mmol/l",value:6,units:"mmol/l",dateCreated:"15-Jul-2019",color:"#2dcd0d",maximal:60},{testName:"Glucose",normalRange:"5-9 mmol/l",value:10,units:"mmol/l",dateCreated:"26-Jun-2019",color:"#ffac5a",maximal:20},{testName:"Glucose",normalRange:"5-9 mmol/l",value:15,units:"mmol/l",dateCreated:"05-May-2019",color:"#ff5d00",maximal:20}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.blockTitle},r.a.createElement(le.a,{className:t.title},"Lab Results")),r.a.createElement(re.a,{container:!0,xs:12,className:t.content},r.a.createElement(he.a,{className:t.root},r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(Zi.a,{className:t.tableList,"aria-labelledby":"tableTitle"},r.a.createElement(_i.a,null,r.a.createElement(Ja.a,null,r.a.createElement(Xa.a,null,"Name"),r.a.createElement(Xa.a,null,"Normal Range"),r.a.createElement(Xa.a,null,"Value"),r.a.createElement(Xa.a,null,"Date"))),r.a.createElement(es.a,null,a.map(function(e,a){return r.a.createElement(Ja.a,{key:a},r.a.createElement(Xa.a,{scope:"row",padding:"none"},r.a.createElement("span",null,e.testName)),r.a.createElement(Xa.a,{scope:"row",padding:"none"},r.a.createElement("span",null,e.normalRange)),r.a.createElement(Xa.a,{scope:"row",padding:"none"},r.a.createElement("div",{className:t.valueWithBar},r.a.createElement("span",{className:t.value},e.value," ",e.units),r.a.createElement("div",{className:t.chartBlock},r.a.createElement(Bi,{value:e.value,color:e.color,maximal:e.maximal})))),r.a.createElement(Xa.a,null,r.a.createElement("span",null,e.dateCreated)))})))))))}),as=a(1202),ns=a(276),rs=a(629);var os=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={disabledLines:[]},a.toggleLine=function(e){var t=a.state.disabledLines,n=e.dataKey,r=[];r=-1!==t.indexOf(n)?t.filter(function(e){return e!==n}):t.concat(n),a.setState({disabledLines:r})},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props.classes,a=this.state.disabledLines,n=[{number:1,dateCreate:"Jan",newsScore:13,respirationRate:7,oxygenSupplemental:!0,heartRate:92,temperature:38,levelOfConsciousness:"Pain",systolicBP:92,diastolicBP:92,oxygenSaturation:77},{number:2,dateCreate:"Feb",newsScore:11,respirationRate:9,oxygenSupplemental:!0,heartRate:91,temperature:37,levelOfConsciousness:"Pain",systolicBP:91,diastolicBP:92,oxygenSaturation:78},{number:3,dateCreate:"Mar",newsScore:10,respirationRate:9,oxygenSupplemental:!0,heartRate:91,temperature:37,levelOfConsciousness:"Pain",systolicBP:92,diastolicBP:91,oxygenSaturation:72},{number:4,dateCreate:"Apr",newsScore:11,respirationRate:9,oxygenSupplemental:!0,heartRate:95,temperature:36,levelOfConsciousness:"Pain",systolicBP:90,diastolicBP:95,oxygenSaturation:73},{number:5,dateCreate:"May",newsScore:12,respirationRate:9,oxygenSupplemental:!0,heartRate:91,temperature:36,levelOfConsciousness:"Pain",systolicBP:93,diastolicBP:93,oxygenSaturation:77},{number:6,dateCreate:"Jun",newsScore:14,respirationRate:9,oxygenSupplemental:!0,heartRate:91,temperature:37,levelOfConsciousness:"Pain",systolicBP:95,diastolicBP:92,oxygenSaturation:76},{number:7,dateCreate:"Jul",newsScore:14,respirationRate:9,oxygenSupplemental:!0,heartRate:94,temperature:36,levelOfConsciousness:"Pain",systolicBP:93,diastolicBP:93,oxygenSaturation:79},{number:8,dateCreate:"Aug",newsScore:13,respirationRate:9,oxygenSupplemental:!0,heartRate:91,temperature:37,levelOfConsciousness:"Pain",systolicBP:89,diastolicBP:88,oxygenSaturation:81}],o=[],l=0,i=n.length;l<i;l++){var c=n[l];o.push({name:c.dateCreate,heartRate:c.heartRate,oxygenSaturation:c.oxygenSaturation,respirationRate:c.respirationRate,systolicBP:c.systolicBP,sourceId:c.sourceId})}var u=[{dataKey:"respirationRate",color:"#99C78C",label:r.a.createElement(le.a,null,"Respiration Rate, resps/min")},{dataKey:"oxygenSaturation",color:"#E18FC0",label:r.a.createElement(le.a,null,"Oxygen Saturation, %")},{dataKey:"heartRate",color:"#ACC2D7",label:r.a.createElement(le.a,null,"Heart Rate, bpm")},{dataKey:"systolicBP",color:"#EABA97",label:r.a.createElement(le.a,null,"Systolic BP, mmHg")}];return r.a.createElement("div",{className:t.chartBlock},r.a.createElement($l.a,{width:"99%"},r.a.createElement(as.a,{data:o,margin:{top:25,left:0}},r.a.createElement(ti.a,{dataKey:"name",tick:{fontFamily:'"HK Grotesk Regular", Arial, sans-serif',fontSize:14}}),r.a.createElement(ai.a,{tick:{fontFamily:'"HK Grotesk Regular", Arial, sans-serif',fontSize:14}}),r.a.createElement(ri.a,{formatter:function(e,t){return function(e,t){var a=s()(t,"props.children",null);if(!a)return null;var n=a.split(", "),o=n[0],l=n[1];return r.a.createElement("span",null,r.a.createElement(le.a,{variant:"h1"},o,":"),r.a.createElement(le.a,null," ",e,", ",l))}(e,t)},labelFormatter:function(e){return r.a.createElement(le.a,null,"Date: ",e)}}),r.a.createElement(ns.a,{payload:u.map(function(e){return{dataKey:e.dataKey,color:e.color,value:e.label}}),onClick:function(t){return e.toggleLine(t)}}),r.a.createElement(ni.a,{stroke:"#e5e5e5",strokeDasharray:"5 5"}),u.map(function(e,t){return-1!==a.indexOf(e.dataKey)?null:r.a.createElement(rs.a,{key:t,type:"monotone",name:e.label,dataKey:e.dataKey,stroke:e.color,activeDot:{r:8},strokeWidth:4})}))))}}]),t}(n.Component),ls=Object(ae.withStyles)({chartBlock:{width:"100%",height:500},toolbar:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}})(os),is=a(359),ss=a.n(is),cs=a(179),us=function(e){var t=e.classes,a=e.items,n=a[0],o=a[1],l=h.a.unix(n).format("Do MMM");return r.a.createElement(cs.Content,null,r.a.createElement(cs.ContentYear,{year:r.a.createElement(ds,{classes:t,label:l})}),r.a.createElement(cs.ContentBody,null,o.map(function(e){return r.a.createElement("div",{className:t.eventBlock},r.a.createElement(le.a,{variant:"body1",className:t.eventType},s()(e,"type",null)),r.a.createElement("div",{className:t.eventDescription},r.a.createElement(le.a,{variant:"h1"},s()(e,"title",null)),r.a.createElement(le.a,{variant:"caption"},s()(e,"dateAndTime",null))))})))},ds=function(e){var t=e.classes,a=e.label.split(" ");return r.a.createElement("div",{className:t.eventDate},r.a.createElement(le.a,{variant:"body1"},a[0]),r.a.createElement(le.a,{variant:"body1"},a[1]))},ms=Object(ae.withStyles)(function(e){return{timeline:{height:500,overflowX:"hidden",overflowY:"auto",paddingLeft:30,paddingTop:15,"& .timeline__container__year":{marginRight:-20,zIndex:10,color:e.palette.mainColor},"& .timeline__container__year:after":{background:"none"},"& .timeline__container__body":{marginTop:50,position:"relative","&:before":{backgroundColor:e.palette.mainColor,width:5,left:-6,content:'""',height:"100%",minHeight:"95%",position:"absolute",top:10}}},eventBlock:{marginLeft:30,marginTop:25,textAlign:"center"},eventDate:{display:"flex",flexDirection:"column",justifyContent:"center",width:60,height:60,borderRadius:"50%",textAlign:"center",backgroundColor:e.palette.mainColor,"& p":{color:e.palette.paperColor}},eventType:{color:e.palette.mainColor,fontSize:16,fontWeight:700},eventDescription:{border:"1px solid ".concat(e.palette.borderColor),backgroundColor:e.palette.toolbarColor,padding:"10px 15px",borderRadius:5}}})(function(e){var t=e.classes,a=ss.a.mapValues(ss.a.groupBy([{date:1559433600,type:"Event",title:"Appointment with Dr Jones",dateAndTime:"02-Jun-2019 at 13:30"},{date:1559433600,type:"Event",title:"Appointment with Dr Smith",dateAndTime:"02-Jun-2019 at 15:30"},{date:1559433600,type:"Event",title:"Appointment with Dr Taylor",dateAndTime:"02-Jun-2019 at 19:30"},{date:155952e4,type:"Event",title:"Appointment with Dr Jones",dateAndTime:"03-Jun-2019 at 13:30"},{date:1559692800,type:"Event",title:"Appointment with Dr Jones",dateAndTime:"05-Jun-2019 at 13:30"},{date:1559692800,type:"Event",title:"Appointment with Dr Smith",dateAndTime:"05-Jun-2019 at 16:30"}],"date"),function(e){return e.map(function(e){return ss.a.omit(e,"date")})}),n=Object.entries(a);return r.a.createElement("div",{className:t.timeline},r.a.createElement(cs.Timeline,null,n.map(function(e){return r.a.createElement(us,{classes:t,items:e})}),r.a.createElement(cs.Content,null,r.a.createElement(cs.ContentYear,null))))}),ps=function(e){function t(){return Object(J.a)(this,t),Object(q.a)(this,Object(_.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=(e.emergencySummary,e.history,e.location),n=e.isVitalsLoading;return r.a.createElement("div",{className:t.headerBlock},r.a.createElement(Gi,{classes:t}),r.a.createElement(Ki,{classes:t}),r.a.createElement(ts,{classes:t,location:a}),r.a.createElement(re.a,{container:!0,xs:12,className:t.content},r.a.createElement(re.a,{item:!0,xs:12,sm:12,md:6},r.a.createElement("div",{className:t.blockTitleLeft},r.a.createElement(le.a,{className:t.title},"Timeline")),r.a.createElement(ms,null)),r.a.createElement(re.a,{item:!0,xs:12,sm:12,md:6},r.a.createElement("div",{className:t.blockTitleRight},r.a.createElement(le.a,{className:t.title},"Vitals")),r.a.createElement("div",{className:t.chartBlock},n?r.a.createElement(le.a,null,"Loading..."):r.a.createElement(ls,null)))))}}]),t}(n.Component),hs=Object(ee.b)(function(e){return{emergencySummary:s()(e,"custom.emergencySummary.data",null),isVitalsLoading:s()(e,"custom.emergencySummary.loading",null)}},null)(Object(ae.withStyles)(function(e){return{headerBlock:{width:"100%",marginLeft:10,marginRight:10,marginBottom:10},blockTitle:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:49,color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,backgroundColor:e.palette.mainColor,fontSize:18,fontWeight:700,paddingLeft:15,paddingRight:10},blockTitleLeft:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:49,color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,backgroundColor:e.palette.mainColor,fontSize:18,fontWeight:700,paddingLeft:15,paddingRight:10,borderRight:"0.5px solid ".concat(e.palette.paperColor)},blockTitleRight:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:49,color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,backgroundColor:e.palette.mainColor,fontSize:18,fontWeight:700,paddingLeft:15,paddingRight:10,borderLeft:"0.5px solid ".concat(e.palette.paperColor)},title:{color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,backgroundColor:e.palette.mainColor,fontSize:18,fontWeight:700},content:{width:"100%",backgroundColor:e.palette.paperColor},photoAndVitals:{padding:10},chartBlock:{padding:10},dummyEvents:{margin:20}}})(ps)),gs=a(630),bs=a.n(gs),fs=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={selectedMode:a.props.showMode?a.props.showMode:Mr,selectedHeadings:a.props.showHeadings?Object.values(a.props.showHeadings):Ur()},a.isHeadingChecked=function(e){var t=a.state.selectedHeadings;return-1!==Object.values(t).indexOf(e)},a.toggleVisibility=function(e){a.setState(function(t){var a=t.selectedHeadings,n=a;if(-1!==Object.values(a).indexOf(e)){var r=n.indexOf(e);n.splice(r,1)}else n.push(e);return{selectedHeadings:n}},function(){return a.props.setHeadingsAction(a.state.selectedHeadings)})},a.selectShowMode=function(e){a.setState({selectedMode:e},function(){return a.props.setModeAction(e)})},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.onClose,o=(t.showMode,Object(De.a)(t,["classes","onClose","showMode"])),l=this.state,i=l.selectedMode,c=(l.selectedHeadings,s()(wr,"feedsSelectors",!1)),u=s()(wr,"respectPanel",!1);return r.a.createElement(an.a,Object.assign({onBackdropClick:function(){return n()}},o),r.a.createElement("div",{className:a.dialogBlock},r.a.createElement(Ee.a,{title:"Settings"},r.a.createElement(be.a,{className:a.closeIcon,color:"inherit",onClick:function(){return n()}},r.a.createElement(xt.a,null))),r.a.createElement(le.a,{className:a.sectionTitle},"SHOW"),r.a.createElement(Kt.a,null),r.a.createElement("div",{className:a.dialogItem},Lr.map(function(t,n){if(s()(t,"isSynopsis",!1))return r.a.createElement("div",{key:n,className:a.dialogLabel},r.a.createElement(yn.a,{className:a.checkbox,checked:e.isHeadingChecked(t.list),color:"primary",onChange:function(){return e.toggleVisibility(t.list)},classes:{root:a.radio,checked:a.checked}}),r.a.createElement(le.a,{className:a.checkboxLabel},t.title))}),u&&r.a.createElement("div",{className:a.dialogLabel},r.a.createElement(yn.a,{className:a.checkbox,checked:this.isHeadingChecked("respect"),color:"primary",onChange:function(){return e.toggleVisibility("respect")},classes:{root:a.radio,checked:a.checked}}),r.a.createElement(le.a,{className:a.checkboxLabel},"ReSPECT"))),c&&r.a.createElement(c,{classes:a}),r.a.createElement(le.a,null,"VIEW OF BOARDS"),r.a.createElement(Kt.a,null),r.a.createElement("div",{className:a.dialogItemColumn},Hr.map(function(t,n){return r.a.createElement("label",{key:n,className:a.dialogLabel},r.a.createElement(gi.a,{className:a.checkbox,checked:i===t.type,color:"primary",onChange:function(){return e.selectShowMode(t.type)},classes:{root:a.radio,checked:a.checked}}),r.a.createElement(le.a,{className:a.checkboxLabel},t.label))}))))}}]),t}(n.Component),Es=bs()(Object(ae.withStyles)(function(e){var t;return{dialogBlock:(t={},Object(Me.a)(t,e.breakpoints.only("xs"),{paddingTop:0,paddingLeft:20,paddingRight:20}),Object(Me.a)(t,e.breakpoints.up("sm"),{minHeight:300,minWidth:500,marginTop:5,marginLeft:20,marginBottom:20}),t),dialogItem:{minHeight:100,paddingBottom:10},dialogItemColumn:{display:"flex",flexDirection:"column"},dialogLabel:{display:"inline-block",minWidth:200,marginTop:10},checkbox:{display:"inline-block",height:24},checkboxLabel:{display:"inline-block"},sectionTitle:{marginTop:10},topPanel:{display:"flex",flexDirection:"row",justifyContent:"space-between"},closeIcon:{float:"right",height:25},radio:{"&$checked":{color:e.palette.mainColor}},checked:{}}}),Object(ee.b)(function(e){return{showMode:s()(e,"custom.showMode.data",null),showHeadings:s()(e,"custom.showHeadings.data",null)}},function(e){return{setModeAction:function(t){e(al(t))},setHeadingsAction:function(t){e(il(t))}}}))(rn()({breakpoint:"xs"})(fs)),ys=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.toggleDialog=function(){a.setState({open:!a.state.open})},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.open;return r.a.createElement("div",{className:t.settingsIconBlock},r.a.createElement(Ee.a,{className:t.icon,title:"Settings"},r.a.createElement(be.a,{id:"icon-settings","aria-haspopup":"true","aria-label":"Settings",color:"inherit",onClick:function(){return e.toggleDialog()}},r.a.createElement(hr.a,null))),r.a.createElement(le.a,{className:t.iconTitle,variant:"h1"},"Home"),r.a.createElement(Es,{open:a,onClose:this.toggleDialog}))}}]),t}(n.Component),Cs=Object(ae.withStyles)({settingsIconBlock:{display:"flex",flexDirection:"row",justifyContent:"flex-start"},icon:{display:"block"},iconTitle:{marginTop:15}})(ys);function vs(e){var t={margin:0,width:"100%"},a=s()(jr,"cardBackgroundImage",null),n=["translate(-5px, -98px)","translate(105px, 12px)","rotate(69deg) translate(82px, 31px)","rotate(-110deg) translate(83px, 89px)","rotate(90deg) translate(59px, 6px)"],r=0;return e.map(function(e,o){o===n.length&&(r=0),t["& #"+e.id+":before"]={content:'""',position:"absolute",width:300,height:300,left:0,right:0,zIndex:999999,background:"url(".concat(a,") 0 0 repeat"),backgroundSize:"contain",transform:n[r]},r++}),t}var Os=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={isRollView:s()(wr,"hasPatientSummaryRoll",!1)},a.toggleView=function(){a.setState({isRollView:!a.state.isRollView})},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){"PHR"===localStorage.getItem("role")&&this.props.updateCurrentPatient(localStorage.getItem("patientId")),localStorage.getItem("userId")&&localStorage.getItem("username")&&this.props.getPatientSynopsis()}},{key:"componentWillReceiveProps",value:function(e,t){this.props.patientInfo;e.patientInfo}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.location,o=t.history,l=this.state.isRollView,i=[{url:n.pathname,title:"Patient Summary",isActive:!1}],c=l?"roll":"table",u=s()(wr,"hasPatientSummaryRoll",!1);return r.a.createElement(re.a,{className:a.container},r.a.createElement(Ie,{resource:i}),r.a.createElement("div",{className:a.toggleViewBlock},r.a.createElement(Cs,{className:a.settingsIcon}),u&&r.a.createElement("div",{className:a.toggleViewBlock},r.a.createElement(le.a,{variant:"h1",className:a.formGroupLabel},"View"),r.a.createElement(gn.a,{className:a.formGroup},r.a.createElement(pi.a,{name:"viewType",className:a.radioGroup,value:c,onChange:function(){return e.toggleView()},row:!0},r.a.createElement(fn.a,{className:a.formControlLabel,value:"roll",control:r.a.createElement(gi.a,{classes:{root:a.radio,checked:a.checked}}),label:"Roll"}),r.a.createElement(fn.a,{className:a.formControlLabel,value:"table",control:r.a.createElement(gi.a,{classes:{root:a.radio,checked:a.checked}}),label:"Table"}))))),r.a.createElement(re.a,{className:a.summaryContainer,spacing:16,container:!0},l?r.a.createElement(hs,{history:o}):r.a.createElement(xi,{history:o})))}}]),t}(n.Component),ks=Object(ee.b)(function(e){return{patientInfo:s()(e,"custom.currentPatient.patientInfo.data",null)}},function(e){var t=[kl,Nl,xl,Sl].concat(Pr);return{getPatientSynopsis:function(){t.map(function(t){return e(t.request())})},getEmergencySummary:function(t){e(La("vitalsigns",t))},getRandomPhoto:function(t){e(Mt(t))},updateCurrentPatient:function(t){e(Dt(t))}}})(Object(ae.withStyles)(function(e){return{summaryContainer:vs(Lr),card:{borderRadius:0,boxShadow:e.isOldDesign?"0px 2px 4px rgba(0, 0, 0, 0.3)":null},media:{backgroundColor:e.palette.mainColor,backgroundSize:"cover",backgroundPosition:"center"},container:{width:"100%",height:"100%",background:e.patientSummaryPanel.container.background,backgroundSize:"cover"},topBlock:{display:"flex",flexDirection:"column",height:e.isOldDesign?50:100,backgroundColor:e.palette.mainColor,justifyContent:"center",alignItems:"center",position:"relative",color:e.isOldDesign?e.palette.fontColor:e.palette.paperColor,border:e.isOldDesign?"1px solid ".concat(e.palette.borderColor):null,"&:hover":{cursor:"pointer"}},formGroupLabel:{marginTop:18},formControlLabel:{marginBottom:10},radioGroup:{display:"flex",flexDirection:"row",justifyContent:"flex-start",marginLeft:15,marginRight:10},radio:{"&$checked":{color:e.palette.mainColor}},checked:{}}})(Os)),Ns=[r.a.createElement(ql.a,{exact:!0,path:"/charts",component:di}),r.a.createElement(ql.a,{exact:!0,path:"/summary",component:ks})].concat([]),Ss=a(1207),xs=a(1203),ws=a(119),js=a(631),Ts=a(229),Is=a(354),Rs=function(e){var t=e.classes,a=e.isSelected,n=e.label;return r.a.createElement("div",{className:t.labelWithChevron},r.a.createElement(le.a,{className:a?t.itemSelected:t.item},n),r.a.createElement(yi.a,null))},Bs=Object(ae.withStyles)(function(e){return{menuBlock:{border:"1px solid ".concat(e.palette.borderColor)},labelWithChevron:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",textAlign:"justify",width:"100%","&:hover p":{color:"".concat(e.palette.paperColor," !important")},"&:hover svg":{color:"".concat(e.palette.paperColor," !important")}},item:{color:"".concat(e.palette.menuItemsColor," !important"),fontSize:14,fontWeight:600},itemSelected:{color:"".concat(e.palette.paperColor," !important"),fontSize:14,fontWeight:600}}})(function(e){var t=e.classes,a=e.menuItems,n=e.currentList,o=e.onMenuClick,l=s()(wr,"menuHasChevrons",!1);return r.a.createElement("div",{className:t.menuBlock,role:"menubar"},a.map(function(e,a){var i=n===e.url;return r.a.createElement(Is.a,{key:a,className:i?t.menuItemSelected:t.menuItem,to:e.url,primaryText:l?r.a.createElement(Rs,{isSelected:i,classes:t,label:e.label}):e.label,leftIcon:n===e.url?r.a.createElement(ye.a,{icon:Ce.d,size:"xs"}):null,onClick:o,selected:n===e.url,"aria-label":e.label,role:"menuitem"})}))}),Ps=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).onMobileMenuClick=function(){a.props.setSidebarVisibility(!0)},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.menuItems,o=t.currentList;return r.a.createElement("div",{className:a.mobileSidebar},r.a.createElement(Bs,{classes:a,menuItems:n,currentList:o,onMenuClick:function(){return e.onMobileMenuClick()}}))}}]),t}(n.Component),Ds=Object(ee.b)(null,function(e){return{setSidebarVisibility:function(t){e(Object(zt.e)(t))}}})(Ps),As=[{url:"/",label:"Charts"},{url:"/patients",label:"Patients"}],Ls=[{url:"/summary",label:"Patient Summary"},{url:"/problems",label:"Problems / Issues"},{url:"/medications",label:"Medications"},{url:"/vaccinations",label:"Vaccinations"},{url:"/allergies",label:"Allergies"},{url:"/contacts",label:"Contacts"},{url:"/top3Things",label:"TopThreeThings"}];function Ms(e,t){return t.filter(function(t){return t.url==="/"+e}).length>0}var Hs=Object(xs.a)(Object(ee.b)(function(e){return{resources:Object(Ts.b)(e),isSidebarOpen:e.admin.ui.sidebarOpen}},null)(Object(ae.withStyles)(function(e){return{sidebarBlock:{maxWidth:240,backgroundColor:"#fff","& div":{marginTop:0}},mobileSidebar:{width:"100%",height:"100%",position:"absolute",background:"rgba(0, 0, 0, 0.5)",zIndex:999999999999},menuBlock:{border:"1px solid ".concat(e.palette.borderColor),maxWidth:240,height:"100%",backgroundColor:e.palette.paperColor},menuItem:{color:e.palette.secondaryMainColor,borderBottom:"1px solid ".concat(e.palette.borderColor),"&:hover":{backgroundColor:e.palette.secondaryMainColor,color:"#fff !important"},"&:hover div p":{backgroundColor:e.palette.secondaryMainColor,color:"#fff !important"}},menuItemSelected:{backgroundColor:e.palette.secondaryMainColor+"! important",color:"#fff !important",borderBottom:"1px solid ".concat(e.palette.borderColor)}}})(function(e){var t=e.classes,a=e.isSidebarOpen,n=e.onMenuClick,o=e.location,l=s()(o,"pathname",null),i="/"+l.split("/")[1],c=function(e){var t=e.split("/"),a=s()(t,[1],null);return"PHR"===localStorage.getItem("role")?xr:Ms(a,Sr)||"/"===e?Sr:Ms(a,xr)?xr:Ms(a,Ls)?Ls:As}(l);return function(e){var t=e.split("/"),a=s()(t,[1],null);return Ms(a,xr)||Ms(a,Ls)}(l)?r.a.createElement(ws.a,{small:a?null:r.a.createElement(Ds,{classes:t,menuItems:c,currentList:i,onMenuClick:n}),medium:a?r.a.createElement(js.a,{className:t.sidebarBlock},r.a.createElement(Bs,{classes:t,menuItems:c,currentList:i,onMenuClick:n})):null}):r.a.createElement(ws.a,{small:a?r.a.createElement(Ds,{classes:t,menuItems:c,currentList:i,onMenuClick:n}):null,medium:a?r.a.createElement(js.a,{className:t.sidebarBlock},r.a.createElement(Bs,{classes:t,menuItems:c,currentList:i,onMenuClick:n})):null})}))),Us=a(349),Fs=a.n(Us),Ws=a(636),Gs=a.n(Ws),Vs=a(266),zs=a.n(Vs),Ys=a(635),Qs=a.n(Ys),Xs=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.history,n=e.logout,o=this.state.anchorEl,l=Boolean(o);return r.a.createElement(Ve.a,{className:t.whitePart},r.a.createElement(Ee.a,{title:"Back"},r.a.createElement(be.a,{className:t.backButton,onClick:function(){return a.goBack()},color:"inherit"},r.a.createElement(Gs.a,null))),r.a.createElement(Ue.a,{component:"img",alt:"Pulse Tile",className:t.logo,height:"38px",image:Qs.a,title:"Pulse Tile"}),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{title:"User panel"},r.a.createElement(be.a,{className:t.userNemuButton,"aria-owns":l?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},r.a.createElement(Fs.a,null))),r.a.createElement(zs.a,{id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:this.handleClose},n)))}}]),t}(n.Component),Ks=Object(ae.withStyles)({whitePart:{backgroundColor:"white"},backButton:{color:"#0D672F"},userMenuButton:{color:"#0D672F"}})(Xs),Js=Object(ae.withStyles)({greenPart:{backgroundColor:"#0D672F"},logo:{width:"auto"},menuButton:{marginRight:20},title:{flexGrow:1,color:"white"}})(function(e){var t=e.classes,a=e.setSidebarVisibility,n=e.isSidebarOpen,o=e.isMenuVisible,l=e.location,i=e.patientInfo;return r.a.createElement(Ve.a,{className:t.greenPart},o&&r.a.createElement(Ee.a,{title:"Menu"},r.a.createElement(be.a,{className:t.menuButton,color:"inherit","aria-label":"Menu"},r.a.createElement(Nt.a,{onClick:function(){return a(!n)}}))),r.a.createElement(jt,{location:l,classes:t,patientInfo:i}))}),Zs=function(e){function t(){return Object(J.a)(this,t),Object(q.a)(this,Object(_.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=s()(wr,"topbar",!1);return e?r.a.createElement(e,this.props):r.a.createElement(Le.a,{position:"static"},r.a.createElement(Ks,this.props),r.a.createElement(Js,this.props))}}]),t}(n.Component),qs=Object(ee.b)(function(e){return{isLoading:s()(e,"admin.loading",!1),location:s()(e,"router.location",null),isSidebarOpen:s()(e,"admin.ui.sidebarOpen",!0),patientInfo:s()(e,"custom.currentPatient.data",null)}},function(e){return{setSidebarVisibility:function(t){e(Object(zt.e)(t))}}})(Zs),_s=a(637),$s=a.n(_s),ec=Object(ae.withStyles)(function(e){var t;return{footerBlock:(t={},Object(Me.a)(t,e.breakpoints.only("xs"),{display:"none"}),Object(Me.a)(t,"display","flex"),Object(Me.a)(t,"flexDirection","row"),Object(Me.a)(t,"alignItems","center"),Object(Me.a)(t,"justifyContent","space-between"),Object(Me.a)(t,"flex","0 0 auto"),Object(Me.a)(t,"borderTop","1px solid ".concat(e.palette.borderColor)),Object(Me.a)(t,"height",54),Object(Me.a)(t,"boxSizing","border-box"),Object(Me.a)(t,"color","#5c5c5c"),Object(Me.a)(t,"backgroundColor","#fff"),Object(Me.a)(t,"paddingTop",12),Object(Me.a)(t,"paddingBottom",13),Object(Me.a)(t,"paddingLeft",14),Object(Me.a)(t,"paddingRight",14),t),copyright:{fontSize:12},supportedBy:{marginRight:10,fontSize:12},footerLogo:{width:"auto",maxWidth:"100%"},emptyBlock:{flexGrow:1}}})(function(e){var t=e.classes;return r.a.createElement("footer",{className:t.footerBlock},r.a.createElement(le.a,{className:t.copyright},"Transforming Usability"),r.a.createElement("div",{className:t.emptyBlock}),r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{className:t.supportedBy},"Supported by"),r.a.createElement(Ne.a,{to:"/"},r.a.createElement(Ue.a,{className:t.footerLogo,component:"img",alt:"Pulse Tile",height:"29px",image:$s.a,title:"Pulse Tile"}))))}),tc=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={isErrorModalOpen:!1},a.isSessionExpired=function(e,t){return 400===Number(e)&&t.includes("JWT")||403===Number(e)},a.getErrorDescription=function(e,t,a){var n="Something is wrong";return 777===Number(e)?n=t:404===Number(e)?n="API is currently unavailable":Number(e)>499?n="Something is wrong with the server. Please try again later.":a&&(n="Your session has expired. Click the button to log in again."),n},a.closeModal=function(){a.setState({isErrorModalOpen:!1},function(){return a.props.removeErrorNotification()})},a}return Object($.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=(t.status,t.message,t.httpErrors),o=Object(De.a)(t,["classes","status","message","httpErrors"]),l=this.state.isErrorModalOpen,i=s()(n,"status",null),c=s()(n,"message",null),u=l||i&&c,d=this.isSessionExpired(i,c),m=this.getErrorDescription(i,c,d);return r.a.createElement(r.a.Fragment,null,r.a.createElement(an.a,Object.assign({open:u},o),r.a.createElement("div",{className:a.dialogBlock},r.a.createElement(le.a,{className:a.titleBlock},"Connection Error"),r.a.createElement(le.a,{className:a.description},m),r.a.createElement("div",{className:a.toolbar},r.a.createElement(Ot.a,{"aria-label":"Close",onClick:function(){return e.closeModal()}},"Close"),d?r.a.createElement(bt,{title:"Login again",hideIcon:!0}):r.a.createElement(Ot.a,{"aria-label":"Reload page",className:a.reloadButton,onClick:function(){return window.location.reload()}},"Reload page")))))}}]),t}(n.Component),ac=Object(ee.b)(function(e){return{httpErrors:e.custom.httpErrors.data}},function(e){return{removeErrorNotification:function(){e(B.remove())}}})(Object(ae.withStyles)(function(e){var t;return{dialogBlock:(t={display:"flex",flexDirection:"column",justifyContent:"space-between"},Object(Me.a)(t,e.breakpoints.only("xs"),{paddingTop:0,paddingLeft:20,paddingRight:20}),Object(Me.a)(t,e.breakpoints.up("sm"),{minHeight:300,minWidth:500,marginBottom:10}),t),titleBlock:{display:"flex",flexDirection:"column",justifyContent:"center",height:48,paddingLeft:20,backgroundColor:e.palette.secondaryMainColor,color:e.palette.paperColor,fontSize:18,fontWeight:800},description:{padding:20,fontSize:15,textAlign:"center"},toolbar:{display:"flex",flexDirection:"row",justifyContent:"flex-end",marginRight:15},reloadButton:{display:"block",width:140,height:40,margin:"8px !important",color:"white",backgroundColor:e.palette.dangerColor,borderRadius:e.isRectangleButtons?0:25,fontSize:16,fontWeight:800,"&:hover":{color:e.palette.dangerColor,backgroundColor:"white"}}}})(rn()({breakpoint:"xs"})(tc))),nc=function(){var e=s()(wr,"footer",!1),t=s()(wr,"isFooterAbsent",!1);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ac,null),t?null:e?r.a.createElement(e,null):r.a.createElement(ec,null))},rc=Object(ee.b)(function(e){var t=s()(e,"custom.contrastMode.data",!1);return{theme:zn(t)}},null)(Object(ae.withStyles)({root:{flexDirection:"column",zIndex:1,minHeight:"101vh",position:"relative","& > div":{minHeight:"101vh"},"& main > div":{padding:0}}})(function(e){var t=e.classes,a=Object(De.a)(e,["classes"]);return r.a.createElement(Ss.a,Object.assign({},a,{className:t.root,appBar:qs,sidebar:Hs,notification:nc}))})),oc=function(e){function t(){return Object(J.a)(this,t),Object(q.a)(this,Object(_.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){E||this.props.initializeAction()}},{key:"render",value:function(){return r.a.createElement(dn,null)}}]),t}(n.Component),lc=Object(ee.b)(null,function(e){return{initializeAction:function(){e(Fo())}}})(oc),ic={en:{tableHeaders:Object.assign({},{allergies:{title:"Allergies",description:"Those things that your body reacts against , that you have an allergy to"},contacts:{title:"Contacts",description:""},medications:{title:"Medications",description:"The medical tablets and other medications that you take regularly for your health care"},problems:{title:"Problems / Issues",description:"The key problems that affect your health, some with clear diagnoses from your doctor"}},{vaccinations:{title:"Vaccinations",description:"A record of the immunisations/vaccines you have had to help you avoid ill health"},top3Things:{title:"About Me",description:"A place to record the top 3 issues that concern you today"}})}},sc=No.concat(Lo),cc=s()(wr,"homePage",di),uc=function(e){return ic[e]},dc=function(){var e="PHR"===localStorage.getItem("role");return r.a.createElement(c.a,{authProvider:Q,customSagas:[Il],customReducers:{custom:Zl},customRoutes:Ns,dataProvider:L,dashboard:e?ks:cc,appLayout:rc,loginPage:lc,locale:"en",i18nProvider:uc},sc.map(function(e){return r.a.createElement(u.a,{name:e.name,options:{label:e.label},list:e.list})}))};l.a.render(r.a.createElement(dc,null),document.getElementById("root"))},576:function(e,t,a){e.exports=a.p+"static/media/containerBackground.0cc5b234.png"},577:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAAAeCAYAAACMoZTAAAAAAXNSR0IArs4c6QAADRlJREFUeAHtWwlcFVUX/78FlB3ZURFcMvclDdEWwzLRRC2XMiwt059LmS2muKUIZtkvSm01l0ol09wqNTK1hc8SylSy1FREBQFB2UG27577nHnz5r2Z94CvL5J3fr9h7j3bu3fmzL3nnnPQ1DBAI4Sc3MKUsKHLezfCqd9UU9beVLOxT6bRPQG7ATe6V35zTdhuwDfX+2x0s7EbcKN75TfXhO0GfHO9z0Y3G31dZlx54SxKDu1DRcZ51JQWQ+fpDcf2XeHUZwC0ru51UdlgZVoGeqJnlyA+vjPnc3Di1OVajTW4pRdu7x4MXx83LpdzpRCHf0tD+qWrinrCbmsNX29X9luZOHP+iiKfRqPB0Pu6cLp0bD5erujbq7WZHAWcCorKkJmVj9PncszoaogAX3eEMZ101+u1yMktwpHUCzh1NltRrFunFghu4YVz6blIPZmhyEeEQf07wtFRjww2tl+OpavySom1MuDq/DxceW0WCvdsluoQ21pnV3jPjIX7qKdEnNCovHwR6cO7QqN3hF/sh3AJjxRIZvdLj/VH+aljcLknEv6vfszpgrwZswVEq53HoQ9oaYFSe1RozxAsX/AQF1yb8B9mVHttUhLUvBmWzRsBMkZLcOiXs4heuhMXMswNecrjd+GuPu1QyIxtxJPvI+1CriUVcGCG9GbMaE77cFOS+HF1aOcv4i0KMmQ2+5A+2PAj1n/2E9Qiqd7NXBDzUiQi7ulkUVXqnxmYHbcdf/6VZUYfO7w3xgzrhYrKKjw6bS1+PX7BjEdALJk9DPRbX+1LrZUB2+xClP60HxdG9jYzXo2DgzAGVJcUIWfpTGRMHoLqa+YrR01FBarZip29cDIqzp8W5eSNmqpKEC/YXQqEs+WSyvwT7agHb8eejdNNjJeMRGoofXu1we4N0/EIe8lK4ObaFO8uGwtnJ0clFqv46upqlF+v5BcZkgB+bEeYP3Mwtq5+Cm2DfQS0yT0ivBMSE54xM17pPLp0aI4d66bg6Sf6m8hKOw56HVbFPQzaGf7XYNMKXHU1B1nRE1DFVmACvbc/vGbEwKlnP+hbtubGWn7yGPLei0PZ0Z9RmvI9cl59Ef6vrOf88j/VxYW4/GIUWn5yEJqmznKy1T65Kf7LPlLk03n5KtL+bgKtuLRiCbBj71EkbE8WVyhaHccyAx8R0Z0bZuzsSJxNv4LDR9IEEZN7+zZ+WDZ3BGYs+MwEb2sn8bs/MH2uccckF6DzrYF4bvK96HhLAHp0DsK6+McREbUKJaXXRbXtQnwRv3gUHB0MJnLw0Cms3pDE5nEZZeWVaN/WD8MHdcP40WFsJ9BxfelsN9n19TFRh7Thz353VdwYRD29HlVV1VJSvdo2rcBXmDEKxtvkli4I2poMt8gobrz061pPH+7/tli7Dx6jDe5D0ddbUfL9HsXBXT9zAjkx0xXpagSN3gHO/QYqXhrHJmrifxutSRM94uYME/XPW7YLLyz+HCnMpysqKecXtQm34LUvOB/5sUuZDPl/SvAA83Mnju2nRK4V/nJOAb798SQeZK4JbdcELZif/9K0gSZ6lkYPF4135dqDmPj8Bvz06zlcKyhlBlyBYycuYUn8HkyatVHcWeY/Oxie7k4meqSd23uEIPqZQVJUvdtWDfj66VQUJX4u/pBPdDy0Hl5i36TBXob3zDjo/QI5Om/VIhOy0NE6ufBm4d4tyP/0XQH9r79HPRiKkCBvPg/ycT/dmaI4p01sVU5mhzmC1q18QP6iHK7kFYmr4uzp95u4JHLe2vbJnVj8xlcoLC7jouNGhrJxGMY+eEBn9OrWiuPPpOWADFgJDiSdwheJxzmZfFjy3+VQWnYdNBeCJx7ui2H3d5Wz1Llv1YBLkr4RlTdhkYamPfqKfUsNDTNOtwfGclL5X7+jKifTwCYpuWg2aTZ0zQx+V278XJQf+9mSKlOcRN6U0HB64Xe0Fwfz8Rbrc/p4q5FnwJ1GWUFJQWEZ5sTt4F2dTosVsWN4FECg1/eee7VYXIVpJxhwx61cZXg/41g2bku2uuWbzOOGDvnYnp63GZU3fHBa3W9t6y9nqVPfqgFXXDwrKnZobZigiFBoOLTuIFIqWMiNA3tAAuh9mzP/eB00Wi0/lF1+aRyq8pTDMXL5mvJSXPvoTbOLDpr/JEgPQ7RyWYMzacaDbhu2CstBo9Xgq29TsSYhiZNohXvnlUe4zynnrWtfOoa2wYazQ9sQ41goPGcNpDy0A9HHIAUt6yf/dh7LViVytFNTR344pUNqfcGqAdOBSwC9T4DQVL3rvfxEOkUmLIFTaDi8pi7gpMrsTGTNmQCwE7MtUF1agty35ptdxQd22SL+t/G4uxlfSGZ2gdXfIX9UAHc3Zd/x1be/4f4n8Xbv3BIvv/CAIFbve2Z2vqjDw90wfndX41goZmwNaKcgN4GAdgpXZ8tRk3WbD2FX4jHOR/Hx+EUjebs+f6waMCUpBJCuxgLO0r3i0jkRrVPylxmH58RZcOk/hPNS5CJv5UJRTq1BoTvnsHvNLlt3CDXd9aHlFxj8SdIR6Gc9oUMRAQEKCkuFptmdTu0z5n8GwdjGjuiNUUN7mvHVBRHo5yGKCePPl4wl0N9IFxllDfpwaVUloLEWlRijGTJWHvs+eSNmHM7cjRkT75Gz1Kpv1YDJ7xWADnS2QPkpg1Ov0evh2MboTliS9VuyGg5BbTjpKnMLivezVVS2BcnltC7uCHxnp9nl8chUOev/tU/hMAHasjCUNTDdqo2yluTIX50evRnXKwyx8ZhZkSwc1twSa61wFC4TQHAFzkqyf4JbIfBYukt5zrGkizROLOenCMbU6AQIH+yMieEgn1tNRq5D2rdqwM53RkAIS1VkpKNw+3qpvFm78lIair7cxPFOfcKhcXEz45EitK4eCHh9E7RNDdtW9qIpqM43z05JZRpqe3/SSXFoE8aEiW2lBsVQBZDKCjj5/eiJi4h5YzdHN2FhtxVLRls9YMl1SPvkU1OIjoAMSBiDcCc8RSf0zC1Qg/GSue5nITprcP5iHp5noUT6TfKX32CuhKODzpqYRbr6yJiIzjcAXpPmiMK5Kxai9PBBsS9tVGVdQtb8iaguL+NG7/Pia1KyYtuRxZZ95r7F6dVFBbzGQpG5ARPoxE4rEEEfltCIeihUcbSPjeqD3qxGgoBWvE93pCjySgkJjG/LF79yVPMAT+5zSum2tslgFjFf2tWlCRehqAnVLBDsPXACKUfP83YblqWbOWkAb1v6M/DuDogcaNilaZd4/5MfLLGZ4Sj8tmLNQY4n/1/tDGAmLEEoR88lTJ7jn0PRN9tYfcJxntDImDIUbhGj0ZRl4hxC2vNQGdEKtq0DGSABGb1D8C0SLepNt6GP8nBa/tY16oz/INXRUccetPGgJgylprqGxVPLcZ2lbOe9shOb3nmSk2JmDUVoz2CWiUvhGSz6362O7QJYJq43K8IxvHRaheYu28lcA2OaV9CrdF/4+pfowLJoXVkat7bQPMADndsHcqPswMZCcDHzKl5/b5+JqrlsHl9+Mo0nM6aOvxvdOrbAalZv8cdplokrqwBlFIexTJz0I419czdPdJgoUumsWHMAVPAjDdupsFsk2WTArPwIgSu38cxZcVIiV0RJCLrkoHFwhNfkaHg+8YKcZLXvM2s5yv/4DWW//6LKS0VFaf2Vi3WCthyGzq/2L1f1Rxlx3Mg+/JLz0ap73xjDDvLzkTRQBm7esxE8VUyGKhirXK6YZefi3trLQ0xymlqfPpRpcxKwc/0UeHm6qLFiECvCOfnDy5yHtmuKEkiBKspmx24XEyYCjargZi7YgliWJaTfuCO0Lb8EuvROSZGVbDXddSOhIaVZaz+/aCt2rJ0CikrUBUxno6JB5xuIAGbEfjEfwIHVP8hBo9PBmfm8QSxmSdEFsBhvrYEZv//yjWKSQ0meVq2qwmuKV42N4Tgl/fXFUwZuMKstSEo+o6iKaEPGvY3Nu9Q/ViUFVHb47MItYnJAiY+MVs9qFeiSGm8WC+Etid+N0ZM/VCzZ/JrVUUQ8ugp79v+upB7HWTXa8Anv4e313ynyqBEoBDeVfYzSOgw1fjlNw4yBdrZaA9UEV2SyeuCSYlYLweqBWbRB695MUU9NWSmrjbhxAOnKDgaBQYq8VDpZnprM/O9ANO1uOOhI5RUFbxCc7x7CioSMsUxL/Lb+V3IL5mf2YLFXNaCV9OCh0xZZqJ6YSjL9vN04PTu3kK+4lsooBQXE78sqt9T0Cry0lVMUgCIIQkkjHc4slXGyejh2+jfUA6vVGQu6pXeqXgu7LQRUlEMfA6WGj7DyyL9UEjZdmdvRipWVVrEFhfxqNQhhK3AnVmSUmVXA64zVeKW0OhuwVMm/sW2rAf8b59aYxlyHfb4xPR77XBv6E7AbcEN/Q/bxqT4BuwGrPh47saE/AbsBN/Q3ZB+f6hOwG7Dq47ETG/oTsBtwQ39D9vGpPoH/AivK5WJ52goaAAAAAElFTkSuQmCC"},578:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAAAdCAYAAAD8UKGzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkZBOUMzMUE3RTI3ODExRTc5MTFCRTNCNEM3RERCQzk0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkZBOUMzMUE4RTI3ODExRTc5MTFCRTNCNEM3RERCQzk0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RkE5QzMxQTVFMjc4MTFFNzkxMUJFM0I0QzdEREJDOTQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RkE5QzMxQTZFMjc4MTFFNzkxMUJFM0I0QzdEREJDOTQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7z2jCFAAAEvElEQVR42uxZXWxURRS+5a9EixJbgyKNMfLTAClW6EI0IRBW/AtNhEfMak0ThBDhgZ8QEhIJgYTAA08QAzHuI75IgFJ01UR56N5Ftm0AIRVCA9WGn4IsBQpo+c7ec+Fyd87M3GV9ck/y3buduXNm5ptzzpyZVjiJ1GjHcV5yyuLLgxF4zAF+LnPxSHqGlTkolBGG+l+ArFA3BvhM0/YE8KuifDkwCmgFuhX1S4EaQecB4IKi/BNgbKjsBvA9kOZ++oEBgAzheeBF4BXgDeAd4GW/YQViyjyN+7zvJONtyppEqgLP3qCygskn43tCbcbh2cd/zUB9V6ieBvw3UCXonIQ2f4TaVOKZA0b65g9sAZL49p6VaXj9XgTG27iPK9Yk40N4Hta0/U1RFuP3beCUor5OQ8j1AkJ8ch8TchSox3d7rQnxpIEJyYuOlG4o7jcok0ihAXUoyufwOwvd/yjqZ2n6ygjljfwmkhdD780iwsgS25jiWij7ARgEKkPlXRjcfc0E0oK+2Zq+jgvlvvWtRZ+3Fa5B8SsOTOFYQnIVOAu0o00uT6YlKe1GSpLxAXRK8eg9o+t4MShmWPWZRSwS6bzCrhPus4rHMlloex/f/MSEOTbuk7Y0vUOWqxpcqYxiAiPZt+0tJZEaw3o7sED/Ktq8rSHE4Vj0brhQImVQGRMSqZglKa7GdfoxgXOK+nreqlXyJ9r0CjrJAm8J7bLsKpFkmKhMHRO2KlyItsCTgZK7wGlNkDUFzGKCbLXg3pfZ+r7icT1V8pZWWAmdjxbgXYfOziisZTr/7kT9A01AzAgToJxmT8RFnfUoQCdS1dBxTaH3Ep7LUL8B72ZgFVBbjKWkNUFwkcGFXAWhlZw5RolVNuLvVqR/p2FTILelbyYCq4E7UUlxNaQ0CTvVNU2QbQhY5fGS0OFZbu0TqX4i9TXwnIGce8Au/JrPab8VKVeFQOib6lvouCbUESViRzSZrL+iF/FtX4msRJXofQqcx/g2FoyxkByy2PW2McU15BBE5IfAN6H6g8BHwBkNKa6w6ivxXCP0ux8TWKeJUWGp5rPPJuj9Fu8daN8hfLsX2A48Y7KUdsFUxwdKVC7knUjV6XujwXXIlF8V0GPIZCUZxSfuLMa/XbCWwXz2beE+rsV2uZCDZ7CDG8pgR7uCF9xMWWmx27GNrMU4pgl1A6UipYpXN8x8q2bCQ0ImS1Y4QUzDaYsvbPM6ni9EjEFDGnfTknIWE7tueSZpshxMLKA7F3HFO9nEpTZ0Gt/HGbhOdkPPaeGYMNUUaNMRDmqUr6yIkEtk/gPX+RGTbcHkvsDvuXxUqOVbwRxfHB3FN52Cno9VRwszKYkUXdmNUyicgLoGdJi1tJR0CdN7X+d37LZ0ZdDGsM1zyGU32+QpbsTjfJOh44kBny0mYKqy4+F4vskx4mCRid9rfNVQY8pT7iqDmt68iZQvNfWNTxEwbwk5zzTOK34PZNG2ZNBl9ef53chzMaUEL67/4kQmLM3sq5Ks54Cnkg8c76acTqvbhAm2CG0vCecZOjIk+De5zTG2wq58NutdFdDlN6X7zwJEfF3+MOs48xS3hGHpMd3m/x+l/M8wKaac5DNLWdglHwowALoDUEji6APKAAAAAElFTkSuQmCC"},585:function(e,t,a){e.exports=a.p+"static/media/logo.830e914b.png"},625:function(e,t,a){e.exports=a.p+"static/media/randomPatient.eef539fe.png"},635:function(e,t,a){e.exports=a.p+"static/media/pulsetile-core-logo.93d3c4ce.png"},637:function(e,t,a){e.exports=a.p+"static/media/ripple-foundation-logo-footer.f15dbaae.png"},680:function(e,t,a){e.exports=a(1176)},722:function(e,t){},724:function(e,t){},760:function(e,t){},761:function(e,t){}},[[680,1,2]]]);
//# sourceMappingURL=main.bebc3f86.chunk.js.map